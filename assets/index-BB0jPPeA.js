(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Vd={exports:{}},So={};var q_;function Vb(){if(q_)return So;q_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return So.Fragment=t,So.jsx=i,So.jsxs=i,So}var G_;function kb(){return G_||(G_=1,Vd.exports=Vb()),Vd.exports}var S=kb(),kd={exports:{}},wt={};var F_;function Lb(){if(F_)return wt;F_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function q(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var nt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,et={};function gt(O,Y,at){this.props=O,this.context=Y,this.refs=et,this.updater=at||nt}gt.prototype.isReactComponent={},gt.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},gt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function St(){}St.prototype=gt.prototype;function vt(O,Y,at){this.props=O,this.context=Y,this.refs=et,this.updater=at||nt}var Ft=vt.prototype=new St;Ft.constructor=vt,st(Ft,gt.prototype),Ft.isPureReactComponent=!0;var Qt=Array.isArray;function Bt(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function x(O,Y,at){var ot=at.ref;return{$$typeof:r,type:O,key:Y,ref:ot!==void 0?ot:null,props:at}}function V(O,Y){return x(O.type,Y,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function L(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(at){return Y[at]})}var R=/\/+/g;function ue(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):Y.toString(36)}function ge(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Bt,Bt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Y,at,ot,Tt){var xt=typeof O;(xt==="undefined"||xt==="boolean")&&(O=null);var Vt=!1;if(O===null)Vt=!0;else switch(xt){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(O.$$typeof){case r:case t:Vt=!0;break;case E:return Vt=O._init,G(Vt(O._payload),Y,at,ot,Tt)}}if(Vt)return Tt=Tt(O),Vt=ot===""?"."+ue(O,0):ot,Qt(Tt)?(at="",Vt!=null&&(at=Vt.replace(R,"$&/")+"/"),G(Tt,Y,at,"",function(Fi){return Fi})):Tt!=null&&(N(Tt)&&(Tt=V(Tt,at+(Tt.key==null||O&&O.key===Tt.key?"":(""+Tt.key).replace(R,"$&/")+"/")+Vt)),Y.push(Tt)),1;Vt=0;var Se=ot===""?".":ot+":";if(Qt(O))for(var ce=0;ce<O.length;ce++)ot=O[ce],xt=Se+ue(ot,ce),Vt+=G(ot,Y,at,xt,Tt);else if(ce=q(O),typeof ce=="function")for(O=ce.call(O),ce=0;!(ot=O.next()).done;)ot=ot.value,xt=Se+ue(ot,ce++),Vt+=G(ot,Y,at,xt,Tt);else if(xt==="object"){if(typeof O.then=="function")return G(ge(O),Y,at,ot,Tt);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function rt(O,Y,at){if(O==null)return O;var ot=[],Tt=0;return G(O,ot,"","",function(xt){return Y.call(at,xt,Tt++)}),ot}function dt(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(at){(O._status===0||O._status===-1)&&(O._status=1,O._result=at)},function(at){(O._status===0||O._status===-1)&&(O._status=2,O._result=at)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Ht=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Xt={map:rt,forEach:function(O,Y,at){rt(O,function(){Y.apply(this,arguments)},at)},count:function(O){var Y=0;return rt(O,function(){Y++}),Y},toArray:function(O){return rt(O,function(Y){return Y})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return wt.Activity=w,wt.Children=Xt,wt.Component=gt,wt.Fragment=i,wt.Profiler=o,wt.PureComponent=vt,wt.StrictMode=a,wt.Suspense=y,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,wt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},wt.cache=function(O){return function(){return O.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(O,Y,at){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ot=st({},O.props),Tt=O.key;if(Y!=null)for(xt in Y.key!==void 0&&(Tt=""+Y.key),Y)!A.call(Y,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&Y.ref===void 0||(ot[xt]=Y[xt]);var xt=arguments.length-2;if(xt===1)ot.children=at;else if(1<xt){for(var Vt=Array(xt),Se=0;Se<xt;Se++)Vt[Se]=arguments[Se+2];ot.children=Vt}return x(O.type,Tt,ot)},wt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},wt.createElement=function(O,Y,at){var ot,Tt={},xt=null;if(Y!=null)for(ot in Y.key!==void 0&&(xt=""+Y.key),Y)A.call(Y,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(Tt[ot]=Y[ot]);var Vt=arguments.length-2;if(Vt===1)Tt.children=at;else if(1<Vt){for(var Se=Array(Vt),ce=0;ce<Vt;ce++)Se[ce]=arguments[ce+2];Tt.children=Se}if(O&&O.defaultProps)for(ot in Vt=O.defaultProps,Vt)Tt[ot]===void 0&&(Tt[ot]=Vt[ot]);return x(O,xt,Tt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(O){return{$$typeof:g,render:O}},wt.isValidElement=N,wt.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:dt}},wt.memo=function(O,Y){return{$$typeof:_,type:O,compare:Y===void 0?null:Y}},wt.startTransition=function(O){var Y=I.T,at={};I.T=at;try{var ot=O(),Tt=I.S;Tt!==null&&Tt(at,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(Bt,Ht)}catch(xt){Ht(xt)}finally{Y!==null&&at.types!==null&&(Y.types=at.types),I.T=Y}},wt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},wt.use=function(O){return I.H.use(O)},wt.useActionState=function(O,Y,at){return I.H.useActionState(O,Y,at)},wt.useCallback=function(O,Y){return I.H.useCallback(O,Y)},wt.useContext=function(O){return I.H.useContext(O)},wt.useDebugValue=function(){},wt.useDeferredValue=function(O,Y){return I.H.useDeferredValue(O,Y)},wt.useEffect=function(O,Y){return I.H.useEffect(O,Y)},wt.useEffectEvent=function(O){return I.H.useEffectEvent(O)},wt.useId=function(){return I.H.useId()},wt.useImperativeHandle=function(O,Y,at){return I.H.useImperativeHandle(O,Y,at)},wt.useInsertionEffect=function(O,Y){return I.H.useInsertionEffect(O,Y)},wt.useLayoutEffect=function(O,Y){return I.H.useLayoutEffect(O,Y)},wt.useMemo=function(O,Y){return I.H.useMemo(O,Y)},wt.useOptimistic=function(O,Y){return I.H.useOptimistic(O,Y)},wt.useReducer=function(O,Y,at){return I.H.useReducer(O,Y,at)},wt.useRef=function(O){return I.H.useRef(O)},wt.useState=function(O){return I.H.useState(O)},wt.useSyncExternalStore=function(O,Y,at){return I.H.useSyncExternalStore(O,Y,at)},wt.useTransition=function(){return I.H.useTransition()},wt.version="19.2.3",wt}var Q_;function Dm(){return Q_||(Q_=1,kd.exports=Lb()),kd.exports}var ne=Dm(),Ld={exports:{}},Ao={},Ud={exports:{}},Pd={};var K_;function Ub(){return K_||(K_=1,(function(r){function t(G,rt){var dt=G.length;G.push(rt);t:for(;0<dt;){var Ht=dt-1>>>1,Xt=G[Ht];if(0<o(Xt,rt))G[Ht]=rt,G[dt]=Xt,dt=Ht;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var rt=G[0],dt=G.pop();if(dt!==rt){G[0]=dt;t:for(var Ht=0,Xt=G.length,O=Xt>>>1;Ht<O;){var Y=2*(Ht+1)-1,at=G[Y],ot=Y+1,Tt=G[ot];if(0>o(at,dt))ot<Xt&&0>o(Tt,at)?(G[Ht]=Tt,G[ot]=dt,Ht=ot):(G[Ht]=at,G[Y]=dt,Ht=Y);else if(ot<Xt&&0>o(Tt,dt))G[Ht]=Tt,G[ot]=dt,Ht=ot;else break t}}return rt}function o(G,rt){var dt=G.sortIndex-rt.sortIndex;return dt!==0?dt:G.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],_=[],E=1,w=null,M=3,q=!1,nt=!1,st=!1,et=!1,gt=typeof setTimeout=="function"?setTimeout:null,St=typeof clearTimeout=="function"?clearTimeout:null,vt=typeof setImmediate<"u"?setImmediate:null;function Ft(G){for(var rt=i(_);rt!==null;){if(rt.callback===null)a(_);else if(rt.startTime<=G)a(_),rt.sortIndex=rt.expirationTime,t(y,rt);else break;rt=i(_)}}function Qt(G){if(st=!1,Ft(G),!nt)if(i(y)!==null)nt=!0,Bt||(Bt=!0,L());else{var rt=i(_);rt!==null&&ge(Qt,rt.startTime-G)}}var Bt=!1,I=-1,A=5,x=-1;function V(){return et?!0:!(r.unstable_now()-x<A)}function N(){if(et=!1,Bt){var G=r.unstable_now();x=G;var rt=!0;try{t:{nt=!1,st&&(st=!1,St(I),I=-1),q=!0;var dt=M;try{e:{for(Ft(G),w=i(y);w!==null&&!(w.expirationTime>G&&V());){var Ht=w.callback;if(typeof Ht=="function"){w.callback=null,M=w.priorityLevel;var Xt=Ht(w.expirationTime<=G);if(G=r.unstable_now(),typeof Xt=="function"){w.callback=Xt,Ft(G),rt=!0;break e}w===i(y)&&a(y),Ft(G)}else a(y);w=i(y)}if(w!==null)rt=!0;else{var O=i(_);O!==null&&ge(Qt,O.startTime-G),rt=!1}}break t}finally{w=null,M=dt,q=!1}rt=void 0}}finally{rt?L():Bt=!1}}}var L;if(typeof vt=="function")L=function(){vt(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ue=R.port2;R.port1.onmessage=N,L=function(){ue.postMessage(null)}}else L=function(){gt(N,0)};function ge(G,rt){I=gt(function(){G(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(G){switch(M){case 1:case 2:case 3:var rt=3;break;default:rt=M}var dt=M;M=rt;try{return G()}finally{M=dt}},r.unstable_requestPaint=function(){et=!0},r.unstable_runWithPriority=function(G,rt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var dt=M;M=G;try{return rt()}finally{M=dt}},r.unstable_scheduleCallback=function(G,rt,dt){var Ht=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Ht+dt:Ht):dt=Ht,G){case 1:var Xt=-1;break;case 2:Xt=250;break;case 5:Xt=1073741823;break;case 4:Xt=1e4;break;default:Xt=5e3}return Xt=dt+Xt,G={id:E++,callback:rt,priorityLevel:G,startTime:dt,expirationTime:Xt,sortIndex:-1},dt>Ht?(G.sortIndex=dt,t(_,G),i(y)===null&&G===i(_)&&(st?(St(I),I=-1):st=!0,ge(Qt,dt-Ht))):(G.sortIndex=Xt,t(y,G),nt||q||(nt=!0,Bt||(Bt=!0,L()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var rt=M;return function(){var dt=M;M=rt;try{return G.apply(this,arguments)}finally{M=dt}}}})(Pd)),Pd}var Y_;function Pb(){return Y_||(Y_=1,Ud.exports=Ub()),Ud.exports}var jd={exports:{}},ln={};var X_;function jb(){if(X_)return ln;X_=1;var r=Dm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:y,containerInfo:_,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ln.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,E)},ln.flushSync=function(y){var _=d.T,E=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=E,a.d.f()}},ln.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},ln.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},ln.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,w=g(E,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:q}):E==="script"&&a.d.X(y,{crossOrigin:w,integrity:M,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},ln.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=g(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},ln.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,w=g(E,_.crossOrigin);a.d.L(y,E,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},ln.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=g(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},ln.requestFormReset=function(y){a.d.r(y)},ln.unstable_batchedUpdates=function(y,_){return y(_)},ln.useFormState=function(y,_,E){return d.H.useFormState(y,_,E)},ln.useFormStatus=function(){return d.H.useHostTransitionStatus()},ln.version="19.2.3",ln}var $_;function zb(){if($_)return jd.exports;$_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),jd.exports=jb(),jd.exports}var Z_;function Bb(){if(Z_)return Ao;Z_=1;var r=Pb(),t=Dm(),i=zb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var p=!1,T=h.child;T;){if(T===s){p=!0,s=h,l=f;break}if(T===l){p=!0,l=h,s=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===s){p=!0,s=f,l=h;break}if(T===l){p=!0,l=f,s=h;break}T=T.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),nt=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),gt=Symbol.for("react.profiler"),St=Symbol.for("react.consumer"),vt=Symbol.for("react.context"),Ft=Symbol.for("react.forward_ref"),Qt=Symbol.for("react.suspense"),Bt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case gt:return"Profiler";case et:return"StrictMode";case Qt:return"Suspense";case Bt:return"SuspenseList";case x:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case nt:return"Portal";case vt:return e.displayName||"Context";case St:return(e._context.displayName||"Context")+".Consumer";case Ft:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:ue(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return ue(e(n))}catch{}}return null}var ge=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Ht=[],Xt=-1;function O(e){return{current:e}}function Y(e){0>Xt||(e.current=Ht[Xt],Ht[Xt]=null,Xt--)}function at(e,n){Xt++,Ht[Xt]=e.current,e.current=n}var ot=O(null),Tt=O(null),xt=O(null),Vt=O(null);function Se(e,n){switch(at(xt,n),at(Tt,e),at(ot,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?f_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=f_(n),e=d_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(ot),at(ot,e)}function ce(){Y(ot),Y(Tt),Y(xt)}function Fi(e){e.memoizedState!==null&&at(Vt,e);var n=ot.current,s=d_(n,e.type);n!==s&&(at(Tt,e),at(ot,s))}function Ts(e){Tt.current===e&&(Y(ot),Y(Tt)),Vt.current===e&&(Y(Vt),vo._currentValue=dt)}var bs,Ss;function Ln(e){if(bs===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);bs=n&&n[1]||"",Ss=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bs+e+Ss}var br=!1;function mi(e,n){if(!e||br)return"";br=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var z=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){z=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){z=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var C=p.split(`
`),j=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===j.length)for(l=C.length-1,h=j.length-1;1<=l&&0<=h&&C[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==j[h]){var F=`
`+C[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=h);break}}}finally{br=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Ln(s):""}function W(e,n){switch(e.tag){case 26:case 27:case 5:return Ln(e.type);case 16:return Ln("Lazy");case 13:return e.child!==n&&n!==null?Ln("Suspense Fallback"):Ln("Suspense");case 19:return Ln("SuspenseList");case 0:case 15:return mi(e.type,!1);case 11:return mi(e.type.render,!1);case 1:return mi(e.type,!0);case 31:return Ln("Activity");default:return""}}function Q(e){try{var n="",s=null;do n+=W(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var $=Object.prototype.hasOwnProperty,tt=r.unstable_scheduleCallback,Ct=r.unstable_cancelCallback,lt=r.unstable_shouldYield,pt=r.unstable_requestPaint,kt=r.unstable_now,ye=r.unstable_getCurrentPriorityLevel,le=r.unstable_ImmediatePriority,fn=r.unstable_UserBlockingPriority,dn=r.unstable_NormalPriority,As=r.unstable_LowPriority,ru=r.unstable_IdlePriority,au=r.log,lu=r.unstable_setDisableYieldValue,Wn=null,Ze=null;function Un(e){if(typeof au=="function"&&lu(e),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(Wn,e)}catch{}}var Ae=Math.clz32?Math.clz32:uu,ou=Math.log,la=Math.LN2;function uu(e){return e>>>=0,e===0?32:31-(ou(e)/la|0)|0}var pi=256,Sr=262144,De=4194304;function gi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yi(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=gi(l):(p&=T,p!==0?h=gi(p):s||(s=T&~e,s!==0&&(h=gi(s))))):(T=l&~f,T!==0?h=gi(T):p!==0?h=gi(p):s||(s=l&~e,s!==0&&(h=gi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function ti(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Uh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cu(){var e=De;return De<<=1,(De&62914560)===0&&(De=4194304),e}function _i(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Ar(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ph(e,n,s,l,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,j=e.hiddenUpdates;for(s=p&~s;0<s;){var F=31-Ae(s),X=1<<F;T[F]=0,C[F]=-1;var z=j[F];if(z!==null)for(j[F]=null,F=0;F<z.length;F++){var H=z[F];H!==null&&(H.lane&=-536870913)}s&=~X}l!==0&&wr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function wr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Ae(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function Sl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-Ae(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function Al(e,n){var s=n&-n;return s=(s&42)!==0?1:Rr(s),(s&(e.suspendedLanes|n))!==0?0:s}function Rr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function hu(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:L_(e.type))}function ei(e,n){var s=rt.p;try{return rt.p=e,n()}finally{rt.p=s}}var ni=Math.random().toString(36).slice(2),Oe="__reactFiber$"+ni,Qe="__reactProps$"+ni,vi="__reactContainer$"+ni,oa="__reactEvents$"+ni,jh="__reactListeners$"+ni,fu="__reactHandles$"+ni,du="__reactResources$"+ni,Ei="__reactMarker$"+ni;function ua(e){delete e[Oe],delete e[Qe],delete e[oa],delete e[jh],delete e[fu]}function Ti(e){var n=e[Oe];if(n)return n;for(var s=e.parentNode;s;){if(n=s[vi]||s[Oe]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=E_(e);e!==null;){if(s=e[Oe])return s;e=E_(e)}return n}e=s,s=e.parentNode}return null}function Pn(e){if(e=e[Oe]||e[vi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Rn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function bi(e){var n=e[du];return n||(n=e[du]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Me(e){e[Ei]=!0}var wl=new Set,Rl={};function Si(e,n){Ai(e,n),Ai(e+"Capture",n)}function Ai(e,n){for(Rl[e]=n,e=0;e<n.length;e++)wl.add(n[e])}var xl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cl={},Il={};function mu(e){return $.call(Il,e)?!0:$.call(Cl,e)?!1:xl.test(e)?Il[e]=!0:(Cl[e]=!0,!1)}function ca(e,n,s){if(mu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function xn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ve(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function Ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ws(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Nl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Wt(e){if(!e._valueTracker){var n=ws(e)?"checked":"value";e._valueTracker=Nl(e,n,""+e[n])}}function xr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ws(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Cr=/[\n"\\]/g;function yn(e){return e.replace(Cr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ha(e,n,s,l,h,f,p,T){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ke(n)):e.value!==""+Ke(n)&&(e.value=""+Ke(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Dl(e,p,Ke(n)):s!=null?Dl(e,p,Ke(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ke(T):e.removeAttribute("name")}function pu(e,n,s,l,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Wt(e);return}s=s!=null?""+Ke(s):"",n=n!=null?""+Ke(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Wt(e)}function Dl(e,n,s){n==="number"&&wi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Rs(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Ke(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function gu(e,n,s){if(n!=null&&(n=""+Ke(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ke(s):""}function xs(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(ge(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Ke(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Wt(e)}function _n(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var yu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ol(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||yu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Ml(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Ol(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Ol(e,f,n[f])}function fa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _u=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(e){return Cs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ii(){}var Vl=null;function jn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Is=null,Ri=null;function Ir(e){var n=Pn(e);if(n&&(e=n.stateNode)){var s=e[Qe]||null;t:switch(e=n.stateNode,n.type){case"input":if(ha(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+yn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[Qe]||null;if(!h)throw Error(a(90));ha(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&xr(l)}break t;case"textarea":gu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Rs(e,!!s.multiple,n,!1)}}}var ma=!1;function Ns(e,n,s){if(ma)return e(n,s);ma=!0;try{var l=e(n);return l}finally{if(ma=!1,(Is!==null||Ri!==null)&&(hc(),Is&&(n=Is,e=Ri,Ri=Is=null,Ir(n),e)))for(n=0;n<e.length;n++)Ir(e[n])}}function si(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Qe]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if(zn)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{Nr=!1}var xi=null,kl=null,Dr=null;function Ll(){if(Dr)return Dr;var e,n=kl,s=n.length,l,h="value"in xi?xi.value:xi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(l=1;l<=p&&n[s-l]===h[f-l];l++);return Dr=h.slice(e,1<l?1-l:void 0)}function Or(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ki(){return!0}function ri(){return!1}function Je(e){function n(s,l,h,f,p){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ki:ri,this.isPropagationStopped=ri,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),n}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Je(Yi),Ds=w({},Yi,{view:0,detail:0}),Ul=Je(Ds),Os,pa,Ii,ga=w({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ii&&(Ii&&e.type==="mousemove"?(Os=e.screenX-Ii.screenX,pa=e.screenY-Ii.screenY):pa=Os=0,Ii=e),Os)},movementY:function(e){return"movementY"in e?e.movementY:pa}}),Pl=Je(ga),Mr=w({},ga,{dataTransfer:0}),vu=Je(Mr),Eu=w({},Ds,{relatedTarget:0}),Vr=Je(Eu),jl=w({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Tu=Je(jl),ya=w({},Yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bu=Je(ya),Su=w({},Yi,{data:0}),Ni=Je(Su),Au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ru[e])?!!n[e]:!1}function Ms(){return xu}var mn=w({},Ds,{key:function(e){if(e.key){var n=Au[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Or(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(e){return e.type==="keypress"?Or(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Or(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cu=Je(mn),Iu=w({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=Je(Iu),u=w({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),m=Je(u),v=w({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Je(v),U=w({},ga,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Je(U),it=w({},Yi,{newState:0,oldState:0}),It=Je(it),we=[9,13,27,32],$t=zn&&"CompositionEvent"in window,me=null;zn&&"documentMode"in document&&(me=document.documentMode);var Bn=zn&&"TextEvent"in window&&!me,Di=zn&&(!$t||me&&8<me&&11>=me),ai=" ",li=!1;function kr(e,n){switch(e){case"keyup":return we.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _a(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var va=!1;function sT(e,n){switch(e){case"compositionend":return _a(n);case"keypress":return n.which!==32?null:(li=!0,ai);case"textInput":return e=n.data,e===ai&&li?null:e;default:return null}}function rT(e,n){if(va)return e==="compositionend"||!$t&&kr(e,n)?(e=Ll(),Dr=kl=xi=null,va=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Di&&n.locale!=="ko"?null:n.data;default:return null}}var aT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!aT[e.type]:n==="textarea"}function Ap(e,n,s,l){Is?Ri?Ri.push(l):Ri=[l]:Is=l,n=_c(n,"onChange"),0<n.length&&(s=new Ci("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var zl=null,Bl=null;function lT(e){a_(e,0)}function Nu(e){var n=Rn(e);if(xr(n))return e}function wp(e,n){if(e==="change")return n}var Rp=!1;if(zn){var zh;if(zn){var Bh="oninput"in document;if(!Bh){var xp=document.createElement("div");xp.setAttribute("oninput","return;"),Bh=typeof xp.oninput=="function"}zh=Bh}else zh=!1;Rp=zh&&(!document.documentMode||9<document.documentMode)}function Cp(){zl&&(zl.detachEvent("onpropertychange",Ip),Bl=zl=null)}function Ip(e){if(e.propertyName==="value"&&Nu(Bl)){var n=[];Ap(n,Bl,e,jn(e)),Ns(lT,n)}}function oT(e,n,s){e==="focusin"?(Cp(),zl=n,Bl=s,zl.attachEvent("onpropertychange",Ip)):e==="focusout"&&Cp()}function uT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nu(Bl)}function cT(e,n){if(e==="click")return Nu(n)}function hT(e,n){if(e==="input"||e==="change")return Nu(n)}function fT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Cn=typeof Object.is=="function"?Object.is:fT;function Hl(e,n){if(Cn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!$.call(n,h)||!Cn(e[h],n[h]))return!1}return!0}function Np(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dp(e,n){var s=Np(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Np(s)}}function Op(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Op(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Mp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=wi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=wi(e.document)}return n}function Hh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var dT=zn&&"documentMode"in document&&11>=document.documentMode,Ea=null,qh=null,ql=null,Gh=!1;function Vp(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Gh||Ea==null||Ea!==wi(l)||(l=Ea,"selectionStart"in l&&Hh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ql&&Hl(ql,l)||(ql=l,l=_c(qh,"onSelect"),0<l.length&&(n=new Ci("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=Ea)))}function Lr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Ta={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},Fh={},kp={};zn&&(kp=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Ur(e){if(Fh[e])return Fh[e];if(!Ta[e])return e;var n=Ta[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in kp)return Fh[e]=n[s];return e}var Lp=Ur("animationend"),Up=Ur("animationiteration"),Pp=Ur("animationstart"),mT=Ur("transitionrun"),pT=Ur("transitionstart"),gT=Ur("transitioncancel"),jp=Ur("transitionend"),zp=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function oi(e,n){zp.set(e,n),Si(n,[e])}var Du=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Hn=[],ba=0,Kh=0;function Ou(){for(var e=ba,n=Kh=ba=0;n<e;){var s=Hn[n];Hn[n++]=null;var l=Hn[n];Hn[n++]=null;var h=Hn[n];Hn[n++]=null;var f=Hn[n];if(Hn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Bp(s,h,f)}}function Mu(e,n,s,l){Hn[ba++]=e,Hn[ba++]=n,Hn[ba++]=s,Hn[ba++]=l,Kh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Yh(e,n,s,l){return Mu(e,n,s,l),Vu(e)}function Pr(e,n){return Mu(e,null,null,n),Vu(e)}function Bp(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Ae(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Vu(e){if(50<ho)throw ho=0,sd=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Sa={};function yT(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(e,n,s,l){return new yT(e,n,s,l)}function Xh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $i(e,n){var s=e.alternate;return s===null?(s=In(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Hp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ku(e,n,s,l,h,f){var p=0;if(l=e,typeof e=="function")Xh(e)&&(p=1);else if(typeof e=="string")p=bb(e,s,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case x:return e=In(31,s,n,h),e.elementType=x,e.lanes=f,e;case st:return jr(s.children,h,f,n);case et:p=8,h|=24;break;case gt:return e=In(12,s,n,h|2),e.elementType=gt,e.lanes=f,e;case Qt:return e=In(13,s,n,h),e.elementType=Qt,e.lanes=f,e;case Bt:return e=In(19,s,n,h),e.elementType=Bt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vt:p=10;break t;case St:p=9;break t;case Ft:p=11;break t;case I:p=14;break t;case A:p=16,l=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=In(p,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function jr(e,n,s,l){return e=In(7,e,l,n),e.lanes=s,e}function $h(e,n,s){return e=In(6,e,null,n),e.lanes=s,e}function qp(e){var n=In(18,null,null,0);return n.stateNode=e,n}function Zh(e,n,s){return n=In(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Gp=new WeakMap;function qn(e,n){if(typeof e=="object"&&e!==null){var s=Gp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Q(n)},Gp.set(e,n),n)}return{value:e,source:n,stack:Q(n)}}var Aa=[],wa=0,Lu=null,Gl=0,Gn=[],Fn=0,Vs=null,Oi=1,Mi="";function Zi(e,n){Aa[wa++]=Gl,Aa[wa++]=Lu,Lu=e,Gl=n}function Fp(e,n,s){Gn[Fn++]=Oi,Gn[Fn++]=Mi,Gn[Fn++]=Vs,Vs=e;var l=Oi;e=Mi;var h=32-Ae(l)-1;l&=~(1<<h),s+=1;var f=32-Ae(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Oi=1<<32-Ae(n)+h|s<<h|l,Mi=f+e}else Oi=1<<f|s<<h|l,Mi=e}function Jh(e){e.return!==null&&(Zi(e,1),Fp(e,1,0))}function Wh(e){for(;e===Lu;)Lu=Aa[--wa],Aa[wa]=null,Gl=Aa[--wa],Aa[wa]=null;for(;e===Vs;)Vs=Gn[--Fn],Gn[Fn]=null,Mi=Gn[--Fn],Gn[Fn]=null,Oi=Gn[--Fn],Gn[Fn]=null}function Qp(e,n){Gn[Fn++]=Oi,Gn[Fn++]=Mi,Gn[Fn++]=Vs,Oi=n.id,Mi=n.overflow,Vs=e}var We=null,he=null,qt=!1,ks=null,Qn=!1,tf=Error(a(519));function Ls(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fl(qn(n,e)),tf}function Kp(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Oe]=e,n[Qe]=l,s){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(s=0;s<mo.length;s++)Mt(mo[s],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),pu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),xs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||c_(n.textContent,s)?(l.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),l.onScroll!=null&&Mt("scroll",n),l.onScrollEnd!=null&&Mt("scrollend",n),l.onClick!=null&&(n.onclick=ii),n=!0):n=!1,n||Ls(e,!0)}function Yp(e){for(We=e.return;We;)switch(We.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:We=We.return}}function Ra(e){if(e!==We)return!1;if(!qt)return Yp(e),qt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||vd(e.type,e.memoizedProps)),s=!s),s&&he&&Ls(e),Yp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));he=v_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));he=v_(e)}else n===27?(n=he,$s(e.type)?(e=Ad,Ad=null,he=e):he=n):he=We?Yn(e.stateNode.nextSibling):null;return!0}function zr(){he=We=null,qt=!1}function ef(){var e=ks;return e!==null&&(bn===null?bn=e:bn.push.apply(bn,e),ks=null),e}function Fl(e){ks===null?ks=[e]:ks.push(e)}var nf=O(null),Br=null,Ji=null;function Us(e,n,s){at(nf,n._currentValue),n._currentValue=s}function Wi(e){e._currentValue=nf.current,Y(nf)}function sf(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function rf(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),sf(f.return,s,e),l||(p=null);break t}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),sf(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function xa(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var T=h.type;Cn(h.pendingProps.value,p.value)||(e!==null?e.push(T):e=[T])}}else if(h===Vt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(vo):e=[vo])}h=h.return}e!==null&&rf(n,e,s,l),n.flags|=262144}function Uu(e){for(e=e.firstContext;e!==null;){if(!Cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Hr(e){Br=e,Ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tn(e){return Xp(Br,e)}function Pu(e,n){return Br===null&&Hr(e),Xp(e,n)}function Xp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ji===null){if(e===null)throw Error(a(308));Ji=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ji=Ji.next=n;return s}var _T=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},vT=r.unstable_scheduleCallback,ET=r.unstable_NormalPriority,ke={$$typeof:vt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function af(){return{controller:new _T,data:new Map,refCount:0}}function Ql(e){e.refCount--,e.refCount===0&&vT(ET,function(){e.controller.abort()})}var Kl=null,lf=0,Ca=0,Ia=null;function TT(e,n){if(Kl===null){var s=Kl=[];lf=0,Ca=cd(),Ia={status:"pending",value:void 0,then:function(l){s.push(l)}}}return lf++,n.then($p,$p),n}function $p(){if(--lf===0&&Kl!==null){Ia!==null&&(Ia.status="fulfilled");var e=Kl;Kl=null,Ca=0,Ia=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function bT(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Zp=G.S;G.S=function(e,n){Vy=kt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&TT(e,n),Zp!==null&&Zp(e,n)};var qr=O(null);function of(){var e=qr.current;return e!==null?e:oe.pooledCache}function ju(e,n){n===null?at(qr,qr.current):at(qr,n.pool)}function Jp(){var e=of();return e===null?null:{parent:ke._currentValue,pool:e}}var Na=Error(a(460)),uf=Error(a(474)),zu=Error(a(542)),Bu={then:function(){}};function Wp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function tg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(ii,ii),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ng(e),e;default:if(typeof n.status=="string")n.then(ii,ii);else{if(e=oe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ng(e),e}throw Fr=n,Na}}function Gr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Fr=s,Na):s}}var Fr=null;function eg(){if(Fr===null)throw Error(a(459));var e=Fr;return Fr=null,e}function ng(e){if(e===Na||e===zu)throw Error(a(483))}var Da=null,Yl=0;function Hu(e){var n=Yl;return Yl+=1,Da===null&&(Da=[]),tg(Da,e,n)}function Xl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function qu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ig(e){function n(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function s(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=$i(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,P,K){return D===null||D.tag!==6?(D=$h(P,k.mode,K),D.return=k,D):(D=h(D,P),D.return=k,D)}function C(k,D,P,K){var mt=P.type;return mt===st?F(k,D,P.props.children,K,P.key):D!==null&&(D.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===A&&Gr(mt)===D.type)?(D=h(D,P.props),Xl(D,P),D.return=k,D):(D=ku(P.type,P.key,P.props,null,k.mode,K),Xl(D,P),D.return=k,D)}function j(k,D,P,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Zh(P,k.mode,K),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function F(k,D,P,K,mt){return D===null||D.tag!==7?(D=jr(P,k.mode,K,mt),D.return=k,D):(D=h(D,P),D.return=k,D)}function X(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=$h(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case q:return P=ku(D.type,D.key,D.props,null,k.mode,P),Xl(P,D),P.return=k,P;case nt:return D=Zh(D,k.mode,P),D.return=k,D;case A:return D=Gr(D),X(k,D,P)}if(ge(D)||L(D))return D=jr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return X(k,Hu(D),P);if(D.$$typeof===vt)return X(k,Pu(k,D),P);qu(k,D)}return null}function z(k,D,P,K){var mt=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return mt!==null?null:T(k,D,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case q:return P.key===mt?C(k,D,P,K):null;case nt:return P.key===mt?j(k,D,P,K):null;case A:return P=Gr(P),z(k,D,P,K)}if(ge(P)||L(P))return mt!==null?null:F(k,D,P,K,null);if(typeof P.then=="function")return z(k,D,Hu(P),K);if(P.$$typeof===vt)return z(k,D,Pu(k,P),K);qu(k,P)}return null}function H(k,D,P,K,mt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,T(D,k,""+K,mt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case q:return k=k.get(K.key===null?P:K.key)||null,C(D,k,K,mt);case nt:return k=k.get(K.key===null?P:K.key)||null,j(D,k,K,mt);case A:return K=Gr(K),H(k,D,P,K,mt)}if(ge(K)||L(K))return k=k.get(P)||null,F(D,k,K,mt,null);if(typeof K.then=="function")return H(k,D,P,Hu(K),mt);if(K.$$typeof===vt)return H(k,D,P,Pu(D,K),mt);qu(D,K)}return null}function ct(k,D,P,K){for(var mt=null,Kt=null,ht=D,Dt=D=0,Ut=null;ht!==null&&Dt<P.length;Dt++){ht.index>Dt?(Ut=ht,ht=null):Ut=ht.sibling;var Yt=z(k,ht,P[Dt],K);if(Yt===null){ht===null&&(ht=Ut);break}e&&ht&&Yt.alternate===null&&n(k,ht),D=f(Yt,D,Dt),Kt===null?mt=Yt:Kt.sibling=Yt,Kt=Yt,ht=Ut}if(Dt===P.length)return s(k,ht),qt&&Zi(k,Dt),mt;if(ht===null){for(;Dt<P.length;Dt++)ht=X(k,P[Dt],K),ht!==null&&(D=f(ht,D,Dt),Kt===null?mt=ht:Kt.sibling=ht,Kt=ht);return qt&&Zi(k,Dt),mt}for(ht=l(ht);Dt<P.length;Dt++)Ut=H(ht,k,Dt,P[Dt],K),Ut!==null&&(e&&Ut.alternate!==null&&ht.delete(Ut.key===null?Dt:Ut.key),D=f(Ut,D,Dt),Kt===null?mt=Ut:Kt.sibling=Ut,Kt=Ut);return e&&ht.forEach(function(er){return n(k,er)}),qt&&Zi(k,Dt),mt}function _t(k,D,P,K){if(P==null)throw Error(a(151));for(var mt=null,Kt=null,ht=D,Dt=D=0,Ut=null,Yt=P.next();ht!==null&&!Yt.done;Dt++,Yt=P.next()){ht.index>Dt?(Ut=ht,ht=null):Ut=ht.sibling;var er=z(k,ht,Yt.value,K);if(er===null){ht===null&&(ht=Ut);break}e&&ht&&er.alternate===null&&n(k,ht),D=f(er,D,Dt),Kt===null?mt=er:Kt.sibling=er,Kt=er,ht=Ut}if(Yt.done)return s(k,ht),qt&&Zi(k,Dt),mt;if(ht===null){for(;!Yt.done;Dt++,Yt=P.next())Yt=X(k,Yt.value,K),Yt!==null&&(D=f(Yt,D,Dt),Kt===null?mt=Yt:Kt.sibling=Yt,Kt=Yt);return qt&&Zi(k,Dt),mt}for(ht=l(ht);!Yt.done;Dt++,Yt=P.next())Yt=H(ht,k,Dt,Yt.value,K),Yt!==null&&(e&&Yt.alternate!==null&&ht.delete(Yt.key===null?Dt:Yt.key),D=f(Yt,D,Dt),Kt===null?mt=Yt:Kt.sibling=Yt,Kt=Yt);return e&&ht.forEach(function(Mb){return n(k,Mb)}),qt&&Zi(k,Dt),mt}function ae(k,D,P,K){if(typeof P=="object"&&P!==null&&P.type===st&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case q:t:{for(var mt=P.key;D!==null;){if(D.key===mt){if(mt=P.type,mt===st){if(D.tag===7){s(k,D.sibling),K=h(D,P.props.children),K.return=k,k=K;break t}}else if(D.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===A&&Gr(mt)===D.type){s(k,D.sibling),K=h(D,P.props),Xl(K,P),K.return=k,k=K;break t}s(k,D);break}else n(k,D);D=D.sibling}P.type===st?(K=jr(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=ku(P.type,P.key,P.props,null,k.mode,K),Xl(K,P),K.return=k,k=K)}return p(k);case nt:t:{for(mt=P.key;D!==null;){if(D.key===mt)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(k,D.sibling),K=h(D,P.children||[]),K.return=k,k=K;break t}else{s(k,D);break}else n(k,D);D=D.sibling}K=Zh(P,k.mode,K),K.return=k,k=K}return p(k);case A:return P=Gr(P),ae(k,D,P,K)}if(ge(P))return ct(k,D,P,K);if(L(P)){if(mt=L(P),typeof mt!="function")throw Error(a(150));return P=mt.call(P),_t(k,D,P,K)}if(typeof P.then=="function")return ae(k,D,Hu(P),K);if(P.$$typeof===vt)return ae(k,D,Pu(k,P),K);qu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(k,D.sibling),K=h(D,P),K.return=k,k=K):(s(k,D),K=$h(P,k.mode,K),K.return=k,k=K),p(k)):s(k,D)}return function(k,D,P,K){try{Yl=0;var mt=ae(k,D,P,K);return Da=null,mt}catch(ht){if(ht===Na||ht===zu)throw ht;var Kt=In(29,ht,null,k.mode);return Kt.lanes=K,Kt.return=k,Kt}}}var Qr=ig(!0),sg=ig(!1),Ps=!1;function cf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function js(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zs(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Zt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Vu(e),Bp(e,null,s),n}return Mu(e,l,n,s),Vu(e)}function $l(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,Sl(e,s)}}function ff(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var df=!1;function Zl(){if(df){var e=Ia;if(e!==null)throw e}}function Jl(e,n,s,l){df=!1;var h=e.updateQueue;Ps=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,j=C.next;C.next=null,p===null?f=j:p.next=j,p=C;var F=e.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==p&&(T===null?F.firstBaseUpdate=j:T.next=j,F.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;p=0,F=j=C=null,T=f;do{var z=T.lane&-536870913,H=z!==T.lane;if(H?(Lt&z)===z:(l&z)===z){z!==0&&z===Ca&&(df=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ct=e,_t=T;z=n;var ae=s;switch(_t.tag){case 1:if(ct=_t.payload,typeof ct=="function"){X=ct.call(ae,X,z);break t}X=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=_t.payload,z=typeof ct=="function"?ct.call(ae,X,z):ct,z==null)break t;X=w({},X,z);break t;case 2:Ps=!0}}z=T.callback,z!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(j=F=H,C=X):F=F.next=H,p|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(C=X),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Fs|=p,e.lanes=p,e.memoizedState=X}}function rg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function ag(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)rg(s[e],n)}var Oa=O(null),Gu=O(0);function lg(e,n){e=os,at(Gu,e),at(Oa,n),os=e|n.baseLanes}function mf(){at(Gu,os),at(Oa,Oa.current)}function pf(){os=Gu.current,Y(Oa),Y(Gu)}var Nn=O(null),Kn=null;function Bs(e){var n=e.alternate;at(Re,Re.current&1),at(Nn,e),Kn===null&&(n===null||Oa.current!==null||n.memoizedState!==null)&&(Kn=e)}function gf(e){at(Re,Re.current),at(Nn,e),Kn===null&&(Kn=e)}function og(e){e.tag===22?(at(Re,Re.current),at(Nn,e),Kn===null&&(Kn=e)):Hs()}function Hs(){at(Re,Re.current),at(Nn,Nn.current)}function Dn(e){Y(Nn),Kn===e&&(Kn=null),Y(Re)}var Re=O(0);function Fu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||bd(s)||Sd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ts=0,Nt=null,se=null,Le=null,Qu=!1,Ma=!1,Kr=!1,Ku=0,Wl=0,Va=null,ST=0;function Te(){throw Error(a(321))}function yf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Cn(e[s],n[s]))return!1;return!0}function _f(e,n,s,l,h,f){return ts=f,Nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Fg:Mf,Kr=!1,f=s(l,h),Kr=!1,Ma&&(f=cg(n,s,l,h)),ug(e),f}function ug(e){G.H=no;var n=se!==null&&se.next!==null;if(ts=0,Le=se=Nt=null,Qu=!1,Wl=0,Va=null,n)throw Error(a(300));e===null||Ue||(e=e.dependencies,e!==null&&Uu(e)&&(Ue=!0))}function cg(e,n,s,l){Nt=e;var h=0;do{if(Ma&&(Va=null),Wl=0,Ma=!1,25<=h)throw Error(a(301));if(h+=1,Le=se=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Qg,f=n(s,l)}while(Ma);return f}function AT(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?to(n):n,e=e.useState()[0],(se!==null?se.memoizedState:null)!==e&&(Nt.flags|=1024),n}function vf(){var e=Ku!==0;return Ku=0,e}function Ef(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Tf(e){if(Qu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Qu=!1}ts=0,Le=se=Nt=null,Ma=!1,Wl=Ku=0,Va=null}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?Nt.memoizedState=Le=e:Le=Le.next=e,Le}function xe(){if(se===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var n=Le===null?Nt.memoizedState:Le.next;if(n!==null)Le=n,se=e;else{if(e===null)throw Nt.alternate===null?Error(a(467)):Error(a(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},Le===null?Nt.memoizedState=Le=e:Le=Le.next=e}return Le}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function to(e){var n=Wl;return Wl+=1,Va===null&&(Va=[]),e=tg(Va,e,n),n=Nt,(Le===null?n.memoizedState:Le.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Fg:Mf),e}function Xu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return to(e);if(e.$$typeof===vt)return tn(e)}throw Error(a(438,String(e)))}function bf(e){var n=null,s=Nt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Yu(),Nt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=V;return n.index++,s}function es(e,n){return typeof n=="function"?n(e):n}function $u(e){var n=xe();return Sf(n,se,e)}function Sf(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=p=null,C=null,j=n,F=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(Lt&X)===X:(ts&X)===X){var z=j.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===Ca&&(F=!0);else if((ts&z)===z){j=j.next,z===Ca&&(F=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=X,p=f):C=C.next=X,Nt.lanes|=z,Fs|=z;X=j.action,Kr&&s(f,X),f=j.hasEagerState?j.eagerState:s(f,X)}else z={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=z,p=f):C=C.next=z,Nt.lanes|=X,Fs|=X;j=j.next}while(j!==null&&j!==n);if(C===null?p=f:C.next=T,!Cn(f,e.memoizedState)&&(Ue=!0,F&&(s=Ia,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Af(e){var n=xe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);Cn(f,n.memoizedState)||(Ue=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function hg(e,n,s){var l=Nt,h=xe(),f=qt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!Cn((se||h).memoizedState,s);if(p&&(h.memoizedState=s,Ue=!0),h=h.queue,xf(mg.bind(null,l,h,e),[e]),h.getSnapshot!==n||p||Le!==null&&Le.memoizedState.tag&1){if(l.flags|=2048,ka(9,{destroy:void 0},dg.bind(null,l,h,s,n),null),oe===null)throw Error(a(349));f||(ts&127)!==0||fg(l,n,s)}return s}function fg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Nt.updateQueue,n===null?(n=Yu(),Nt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function dg(e,n,s,l){n.value=s,n.getSnapshot=l,pg(n)&&gg(e)}function mg(e,n,s){return s(function(){pg(n)&&gg(e)})}function pg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Cn(e,s)}catch{return!0}}function gg(e){var n=Pr(e,2);n!==null&&Sn(n,e,2)}function wf(e){var n=pn();if(typeof e=="function"){var s=e;if(e=s(),Kr){Un(!0);try{s()}finally{Un(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:e},n}function yg(e,n,s,l){return e.baseState=s,Sf(e,se,typeof l=="function"?l:es)}function wT(e,n,s,l,h){if(Wu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,_g(n,f)):(f.next=s.next,n.pending=s.next=f)}}function _g(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var T=s(h,l),C=G.S;C!==null&&C(p,T),vg(e,n,T)}catch(j){Rf(e,n,j)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=s(h,l),vg(e,n,f)}catch(j){Rf(e,n,j)}}function vg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Eg(e,n,l)},function(l){return Rf(e,n,l)}):Eg(e,n,s)}function Eg(e,n,s){n.status="fulfilled",n.value=s,Tg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,_g(e,s)))}function Rf(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Tg(n),n=n.next;while(n!==l)}e.action=null}function Tg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function bg(e,n){return n}function Sg(e,n){if(qt){var s=oe.formState;if(s!==null){t:{var l=Nt;if(qt){if(he){e:{for(var h=he,f=Qn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Yn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){he=Yn(h.nextSibling),l=h.data==="F!";break t}}Ls(l)}l=!1}l&&(n=s[0])}}return s=pn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bg,lastRenderedState:n},s.queue=l,s=Hg.bind(null,Nt,l),l.dispatch=s,l=wf(!1),f=Of.bind(null,Nt,!1,l.queue),l=pn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=wT.bind(null,Nt,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function Ag(e){var n=xe();return wg(n,se,e)}function wg(e,n,s){if(n=Sf(e,n,bg)[0],e=$u(es)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=to(n)}catch(p){throw p===Na?zu:p}else l=n;n=xe();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Nt.flags|=2048,ka(9,{destroy:void 0},RT.bind(null,h,s),null)),[l,f,e]}function RT(e,n){e.action=n}function Rg(e){var n=xe(),s=se;if(s!==null)return wg(n,s,e);xe(),n=n.memoizedState,s=xe();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function ka(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=Nt.updateQueue,n===null&&(n=Yu(),Nt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function xg(){return xe().memoizedState}function Zu(e,n,s,l){var h=pn();Nt.flags|=e,h.memoizedState=ka(1|n,{destroy:void 0},s,l===void 0?null:l)}function Ju(e,n,s,l){var h=xe();l=l===void 0?null:l;var f=h.memoizedState.inst;se!==null&&l!==null&&yf(l,se.memoizedState.deps)?h.memoizedState=ka(n,f,s,l):(Nt.flags|=e,h.memoizedState=ka(1|n,f,s,l))}function Cg(e,n){Zu(8390656,8,e,n)}function xf(e,n){Ju(2048,8,e,n)}function xT(e){Nt.flags|=4;var n=Nt.updateQueue;if(n===null)n=Yu(),Nt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Ig(e){var n=xe().memoizedState;return xT({ref:n,nextImpl:e}),function(){if((Zt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ng(e,n){return Ju(4,2,e,n)}function Dg(e,n){return Ju(4,4,e,n)}function Og(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Mg(e,n,s){s=s!=null?s.concat([e]):null,Ju(4,4,Og.bind(null,n,e),s)}function Cf(){}function Vg(e,n){var s=xe();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&yf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function kg(e,n){var s=xe();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&yf(n,l[1]))return l[0];if(l=e(),Kr){Un(!0);try{e()}finally{Un(!1)}}return s.memoizedState=[l,n],l}function If(e,n,s){return s===void 0||(ts&1073741824)!==0&&(Lt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ly(),Nt.lanes|=e,Fs|=e,s)}function Lg(e,n,s,l){return Cn(s,n)?s:Oa.current!==null?(e=If(e,s,l),Cn(e,n)||(Ue=!0),e):(ts&42)===0||(ts&1073741824)!==0&&(Lt&261930)===0?(Ue=!0,e.memoizedState=s):(e=Ly(),Nt.lanes|=e,Fs|=e,n)}function Ug(e,n,s,l,h){var f=rt.p;rt.p=f!==0&&8>f?f:8;var p=G.T,T={};G.T=T,Of(e,!1,n,s);try{var C=h(),j=G.S;if(j!==null&&j(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=bT(C,l);eo(e,n,F,Vn(e))}else eo(e,n,l,Vn(e))}catch(X){eo(e,n,{then:function(){},status:"rejected",reason:X},Vn())}finally{rt.p=f,p!==null&&T.types!==null&&(p.types=T.types),G.T=p}}function CT(){}function Nf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=Pg(e).queue;Ug(e,h,n,dt,s===null?CT:function(){return jg(e),s(l)})}function Pg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:dt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function jg(e){var n=Pg(e);n.next===null&&(n=e.alternate.memoizedState),eo(e,n.next.queue,{},Vn())}function Df(){return tn(vo)}function zg(){return xe().memoizedState}function Bg(){return xe().memoizedState}function IT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Vn();e=js(s);var l=zs(n,e,s);l!==null&&(Sn(l,n,s),$l(l,n,s)),n={cache:af()},e.payload=n;return}n=n.return}}function NT(e,n,s){var l=Vn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Wu(e)?qg(n,s):(s=Yh(e,n,s,l),s!==null&&(Sn(s,e,l),Gg(s,n,l)))}function Hg(e,n,s){var l=Vn();eo(e,n,s,l)}function eo(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Wu(e))qg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,s);if(h.hasEagerState=!0,h.eagerState=T,Cn(T,p))return Mu(e,n,h,0),oe===null&&Ou(),!1}catch{}if(s=Yh(e,n,h,l),s!==null)return Sn(s,e,l),Gg(s,n,l),!0}return!1}function Of(e,n,s,l){if(l={lane:2,revertLane:cd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Wu(e)){if(n)throw Error(a(479))}else n=Yh(e,s,l,2),n!==null&&Sn(n,e,2)}function Wu(e){var n=e.alternate;return e===Nt||n!==null&&n===Nt}function qg(e,n){Ma=Qu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Gg(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,Sl(e,s)}}var no={readContext:tn,use:Xu,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te};no.useEffectEvent=Te;var Fg={readContext:tn,use:Xu,useCallback:function(e,n){return pn().memoizedState=[e,n===void 0?null:n],e},useContext:tn,useEffect:Cg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Zu(4194308,4,Og.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Zu(4194308,4,e,n)},useInsertionEffect:function(e,n){Zu(4,2,e,n)},useMemo:function(e,n){var s=pn();n=n===void 0?null:n;var l=e();if(Kr){Un(!0);try{e()}finally{Un(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=pn();if(s!==void 0){var h=s(n);if(Kr){Un(!0);try{s(n)}finally{Un(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=NT.bind(null,Nt,e),[l.memoizedState,e]},useRef:function(e){var n=pn();return e={current:e},n.memoizedState=e},useState:function(e){e=wf(e);var n=e.queue,s=Hg.bind(null,Nt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Cf,useDeferredValue:function(e,n){var s=pn();return If(s,e,n)},useTransition:function(){var e=wf(!1);return e=Ug.bind(null,Nt,e.queue,!0,!1),pn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=Nt,h=pn();if(qt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),oe===null)throw Error(a(349));(Lt&127)!==0||fg(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Cg(mg.bind(null,l,f,e),[e]),l.flags|=2048,ka(9,{destroy:void 0},dg.bind(null,l,f,s,n),null),s},useId:function(){var e=pn(),n=oe.identifierPrefix;if(qt){var s=Mi,l=Oi;s=(l&~(1<<32-Ae(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Ku++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=ST++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Df,useFormState:Sg,useActionState:Sg,useOptimistic:function(e){var n=pn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Of.bind(null,Nt,!0,s),s.dispatch=n,[e,n]},useMemoCache:bf,useCacheRefresh:function(){return pn().memoizedState=IT.bind(null,Nt)},useEffectEvent:function(e){var n=pn(),s={impl:e};return n.memoizedState=s,function(){if((Zt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Mf={readContext:tn,use:Xu,useCallback:Vg,useContext:tn,useEffect:xf,useImperativeHandle:Mg,useInsertionEffect:Ng,useLayoutEffect:Dg,useMemo:kg,useReducer:$u,useRef:xg,useState:function(){return $u(es)},useDebugValue:Cf,useDeferredValue:function(e,n){var s=xe();return Lg(s,se.memoizedState,e,n)},useTransition:function(){var e=$u(es)[0],n=xe().memoizedState;return[typeof e=="boolean"?e:to(e),n]},useSyncExternalStore:hg,useId:zg,useHostTransitionStatus:Df,useFormState:Ag,useActionState:Ag,useOptimistic:function(e,n){var s=xe();return yg(s,se,e,n)},useMemoCache:bf,useCacheRefresh:Bg};Mf.useEffectEvent=Ig;var Qg={readContext:tn,use:Xu,useCallback:Vg,useContext:tn,useEffect:xf,useImperativeHandle:Mg,useInsertionEffect:Ng,useLayoutEffect:Dg,useMemo:kg,useReducer:Af,useRef:xg,useState:function(){return Af(es)},useDebugValue:Cf,useDeferredValue:function(e,n){var s=xe();return se===null?If(s,e,n):Lg(s,se.memoizedState,e,n)},useTransition:function(){var e=Af(es)[0],n=xe().memoizedState;return[typeof e=="boolean"?e:to(e),n]},useSyncExternalStore:hg,useId:zg,useHostTransitionStatus:Df,useFormState:Rg,useActionState:Rg,useOptimistic:function(e,n){var s=xe();return se!==null?yg(s,se,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:bf,useCacheRefresh:Bg};Qg.useEffectEvent=Ig;function Vf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var kf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Vn(),h=js(l);h.payload=n,s!=null&&(h.callback=s),n=zs(e,h,l),n!==null&&(Sn(n,e,l),$l(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Vn(),h=js(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=zs(e,h,l),n!==null&&(Sn(n,e,l),$l(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Vn(),l=js(s);l.tag=2,n!=null&&(l.callback=n),n=zs(e,l,s),n!==null&&(Sn(n,e,s),$l(n,e,s))}};function Kg(e,n,s,l,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Hl(s,l)||!Hl(h,f):!0}function Yg(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&kf.enqueueReplaceState(n,n.state,null)}function Yr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Xg(e){Du(e)}function $g(e){console.error(e)}function Zg(e){Du(e)}function tc(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Jg(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Lf(e,n,s){return s=js(s),s.tag=3,s.payload={element:null},s.callback=function(){tc(e,n)},s}function Wg(e){return e=js(e),e.tag=3,e}function ty(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Jg(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Jg(n,s,l),typeof h!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function DT(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&xa(n,s,h,!0),s=Nn.current,s!==null){switch(s.tag){case 31:case 13:return Kn===null?fc():s.alternate===null&&be===0&&(be=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Bu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),ld(e,l,h)),!1;case 22:return s.flags|=65536,l===Bu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),ld(e,l,h)),!1}throw Error(a(435,s.tag))}return ld(e,l,h),fc(),!1}if(qt)return n=Nn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==tf&&(e=Error(a(422),{cause:l}),Fl(qn(e,s)))):(l!==tf&&(n=Error(a(423),{cause:l}),Fl(qn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=qn(l,s),h=Lf(e.stateNode,l,h),ff(e,h),be!==4&&(be=2)),!1;var f=Error(a(520),{cause:l});if(f=qn(f,s),co===null?co=[f]:co.push(f),be!==4&&(be=2),n===null)return!0;l=qn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Lf(s.stateNode,l,e),ff(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Qs===null||!Qs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Wg(h),ty(h,e,s,l),ff(s,h),!1}s=s.return}while(s!==null);return!1}var Uf=Error(a(461)),Ue=!1;function en(e,n,s,l){n.child=e===null?sg(n,null,s,l):Qr(n,e.child,s,l)}function ey(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var T in l)T!=="ref"&&(p[T]=l[T])}else p=l;return Hr(n),l=_f(e,n,s,p,f,h),T=vf(),e!==null&&!Ue?(Ef(e,n,h),ns(e,n,h)):(qt&&T&&Jh(n),n.flags|=1,en(e,n,l,h),n.child)}function ny(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!Xh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,iy(e,n,f,l,h)):(e=ku(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Ff(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Hl,s(p,l)&&e.ref===n.ref)return ns(e,n,h)}return n.flags|=1,e=$i(f,l),e.ref=n.ref,e.return=n,n.child=e}function iy(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(Hl(f,l)&&e.ref===n.ref)if(Ue=!1,n.pendingProps=l=f,Ff(e,h))(e.flags&131072)!==0&&(Ue=!0);else return n.lanes=e.lanes,ns(e,n,h)}return Pf(e,n,s,l,h)}function sy(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return ry(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ju(n,f!==null?f.cachePool:null),f!==null?lg(n,f):mf(),og(n);else return l=n.lanes=536870912,ry(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(ju(n,f.cachePool),lg(n,f),Hs(),n.memoizedState=null):(e!==null&&ju(n,null),mf(),Hs());return en(e,n,h,s),n.child}function io(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ry(e,n,s,l,h){var f=of();return f=f===null?null:{parent:ke._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&ju(n,null),mf(),og(n),e!==null&&xa(e,n,l,!0),n.childLanes=h,null}function ec(e,n){return n=ic({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ay(e,n,s){return Qr(n,e.child,null,s),e=ec(n,n.pendingProps),e.flags|=2,Dn(n),n.memoizedState=null,e}function OT(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(qt){if(l.mode==="hidden")return e=ec(n,l),n.lanes=536870912,io(null,e);if(gf(n),(e=he)?(e=__(e,Qn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Vs!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},s=qp(e),s.return=n,n.child=s,We=n,he=null)):e=null,e===null)throw Ls(n);return n.lanes=536870912,null}return ec(n,l)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(gf(n),h)if(n.flags&256)n.flags&=-257,n=ay(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ue||xa(e,n,s,!1),h=(s&e.childLanes)!==0,Ue||h){if(l=oe,l!==null&&(p=Al(l,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Pr(e,p),Sn(l,e,p),Uf;fc(),n=ay(e,n,s)}else e=f.treeContext,he=Yn(p.nextSibling),We=n,qt=!0,ks=null,Qn=!1,e!==null&&Qp(n,e),n=ec(n,l),n.flags|=4096;return n}return e=$i(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function nc(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Pf(e,n,s,l,h){return Hr(n),s=_f(e,n,s,l,void 0,h),l=vf(),e!==null&&!Ue?(Ef(e,n,h),ns(e,n,h)):(qt&&l&&Jh(n),n.flags|=1,en(e,n,s,h),n.child)}function ly(e,n,s,l,h,f){return Hr(n),n.updateQueue=null,s=cg(n,l,s,h),ug(e),l=vf(),e!==null&&!Ue?(Ef(e,n,f),ns(e,n,f)):(qt&&l&&Jh(n),n.flags|=1,en(e,n,s,f),n.child)}function oy(e,n,s,l,h){if(Hr(n),n.stateNode===null){var f=Sa,p=s.contextType;typeof p=="object"&&p!==null&&(f=tn(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=kf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},cf(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?tn(p):Sa,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Vf(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&kf.enqueueReplaceState(f,f.state,null),Jl(n,l,f,h),Zl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,C=Yr(s,T);f.props=C;var j=f.context,F=s.contextType;p=Sa,typeof F=="object"&&F!==null&&(p=tn(F));var X=s.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||j!==p)&&Yg(n,f,l,p),Ps=!1;var z=n.memoizedState;f.state=z,Jl(n,l,f,h),Zl(),j=n.memoizedState,T||z!==j||Ps?(typeof X=="function"&&(Vf(n,s,X,l),j=n.memoizedState),(C=Ps||Kg(n,s,C,l,z,j,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=p,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,hf(e,n),p=n.memoizedProps,F=Yr(s,p),f.props=F,X=n.pendingProps,z=f.context,j=s.contextType,C=Sa,typeof j=="object"&&j!==null&&(C=tn(j)),T=s.getDerivedStateFromProps,(j=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||z!==C)&&Yg(n,f,l,C),Ps=!1,z=n.memoizedState,f.state=z,Jl(n,l,f,h),Zl();var H=n.memoizedState;p!==X||z!==H||Ps||e!==null&&e.dependencies!==null&&Uu(e.dependencies)?(typeof T=="function"&&(Vf(n,s,T,l),H=n.memoizedState),(F=Ps||Kg(n,s,F,l,z,H,C)||e!==null&&e.dependencies!==null&&Uu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=C,l=F):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,nc(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Qr(n,e.child,null,h),n.child=Qr(n,null,s,h)):en(e,n,s,h),n.memoizedState=f.state,e=n.child):e=ns(e,n,h),e}function uy(e,n,s,l){return zr(),n.flags|=256,en(e,n,s,l),n.child}var jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zf(e){return{baseLanes:e,cachePool:Jp()}}function Bf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Mn),e}function cy(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(Re.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(qt){if(h?Bs(n):Hs(),(e=he)?(e=__(e,Qn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Vs!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},s=qp(e),s.return=n,n.child=s,We=n,he=null)):e=null,e===null)throw Ls(n);return Sd(e)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Hs(),h=n.mode,T=ic({mode:"hidden",children:T},h),l=jr(l,h,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=zf(s),l.childLanes=Bf(e,p,s),n.memoizedState=jf,io(null,l)):(Bs(n),Hf(n,T))}var C=e.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(Bs(n),n.flags&=-257,n=qf(e,n,s)):n.memoizedState!==null?(Hs(),n.child=e.child,n.flags|=128,n=null):(Hs(),T=l.fallback,h=n.mode,l=ic({mode:"visible",children:l.children},h),T=jr(T,h,s,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Qr(n,e.child,null,s),l=n.child,l.memoizedState=zf(s),l.childLanes=Bf(e,p,s),n.memoizedState=jf,n=io(null,l));else if(Bs(n),Sd(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var j=p.dgst;p=j,l=Error(a(419)),l.stack="",l.digest=p,Fl({value:l,source:null,stack:null}),n=qf(e,n,s)}else if(Ue||xa(e,n,s,!1),p=(s&e.childLanes)!==0,Ue||p){if(p=oe,p!==null&&(l=Al(p,s),l!==0&&l!==C.retryLane))throw C.retryLane=l,Pr(e,l),Sn(p,e,l),Uf;bd(T)||fc(),n=qf(e,n,s)}else bd(T)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,he=Yn(T.nextSibling),We=n,qt=!0,ks=null,Qn=!1,e!==null&&Qp(n,e),n=Hf(n,l.children),n.flags|=4096);return n}return h?(Hs(),T=l.fallback,h=n.mode,C=e.child,j=C.sibling,l=$i(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,j!==null?T=$i(j,T):(T=jr(T,h,s,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,io(null,l),l=n.child,T=e.child.memoizedState,T===null?T=zf(s):(h=T.cachePool,h!==null?(C=ke._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Jp(),T={baseLanes:T.baseLanes|s,cachePool:h}),l.memoizedState=T,l.childLanes=Bf(e,p,s),n.memoizedState=jf,io(e.child,l)):(Bs(n),s=e.child,e=s.sibling,s=$i(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function Hf(e,n){return n=ic({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ic(e,n){return e=In(22,e,null,n),e.lanes=0,e}function qf(e,n,s){return Qr(n,e.child,null,s),e=Hf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function hy(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),sf(e.return,n,s)}function Gf(e,n,s,l,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function fy(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=Re.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,at(Re,p),en(e,n,l,s),l=qt?Gl:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hy(e,s,n);else if(e.tag===19)hy(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Fu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Gf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Fu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Gf(n,!0,s,null,f,l);break;case"together":Gf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ns(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Fs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(xa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=$i(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=$i(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Ff(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Uu(e)))}function MT(e,n,s){switch(n.tag){case 3:Se(n,n.stateNode.containerInfo),Us(n,ke,e.memoizedState.cache),zr();break;case 27:case 5:Fi(n);break;case 4:Se(n,n.stateNode.containerInfo);break;case 10:Us(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,gf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Bs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?cy(e,n,s):(Bs(n),e=ns(e,n,s),e!==null?e.sibling:null);Bs(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(xa(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return fy(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),at(Re,Re.current),l)break;return null;case 22:return n.lanes=0,sy(e,n,s,n.pendingProps);case 24:Us(n,ke,e.memoizedState.cache)}return ns(e,n,s)}function dy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ue=!0;else{if(!Ff(e,s)&&(n.flags&128)===0)return Ue=!1,MT(e,n,s);Ue=(e.flags&131072)!==0}else Ue=!1,qt&&(n.flags&1048576)!==0&&Fp(n,Gl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Gr(n.elementType),n.type=e,typeof e=="function")Xh(e)?(l=Yr(e,l),n.tag=1,n=oy(null,n,e,l,s)):(n.tag=0,n=Pf(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===Ft){n.tag=11,n=ey(null,n,e,l,s);break t}else if(h===I){n.tag=14,n=ny(null,n,e,l,s);break t}}throw n=ue(e)||e,Error(a(306,n,""))}}return n;case 0:return Pf(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Yr(l,n.pendingProps),oy(e,n,l,h,s);case 3:t:{if(Se(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,hf(e,n),Jl(n,l,null,s);var p=n.memoizedState;if(l=p.cache,Us(n,ke,l),l!==f.cache&&rf(n,[ke],s,!0),Zl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=uy(e,n,l,s);break t}else if(l!==h){h=qn(Error(a(424)),n),Fl(h),n=uy(e,n,l,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,he=Yn(e.firstChild),We=n,qt=!0,ks=null,Qn=!0,s=sg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(zr(),l===h){n=ns(e,n,s);break t}en(e,n,l,s)}n=n.child}return n;case 26:return nc(e,n),e===null?(s=A_(n.type,null,n.pendingProps,null))?n.memoizedState=s:qt||(s=n.type,e=n.pendingProps,l=vc(xt.current).createElement(s),l[Oe]=n,l[Qe]=e,nn(l,s,e),Me(l),n.stateNode=l):n.memoizedState=A_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Fi(n),e===null&&qt&&(l=n.stateNode=T_(n.type,n.pendingProps,xt.current),We=n,Qn=!0,h=he,$s(n.type)?(Ad=h,he=Yn(l.firstChild)):he=h),en(e,n,n.pendingProps.children,s),nc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&qt&&((h=l=he)&&(l=ub(l,n.type,n.pendingProps,Qn),l!==null?(n.stateNode=l,We=n,he=Yn(l.firstChild),Qn=!1,h=!0):h=!1),h||Ls(n)),Fi(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,l=f.children,vd(h,f)?l=null:p!==null&&vd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=_f(e,n,AT,null,null,s),vo._currentValue=h),nc(e,n),en(e,n,l,s),n.child;case 6:return e===null&&qt&&((e=s=he)&&(s=cb(s,n.pendingProps,Qn),s!==null?(n.stateNode=s,We=n,he=null,e=!0):e=!1),e||Ls(n)),null;case 13:return cy(e,n,s);case 4:return Se(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Qr(n,null,l,s):en(e,n,l,s),n.child;case 11:return ey(e,n,n.type,n.pendingProps,s);case 7:return en(e,n,n.pendingProps,s),n.child;case 8:return en(e,n,n.pendingProps.children,s),n.child;case 12:return en(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Us(n,n.type,l.value),en(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Hr(n),h=tn(h),l=l(h),n.flags|=1,en(e,n,l,s),n.child;case 14:return ny(e,n,n.type,n.pendingProps,s);case 15:return iy(e,n,n.type,n.pendingProps,s);case 19:return fy(e,n,s);case 31:return OT(e,n,s);case 22:return sy(e,n,s,n.pendingProps);case 24:return Hr(n),l=tn(ke),e===null?(h=of(),h===null&&(h=oe,f=af(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},cf(n),Us(n,ke,h)):((e.lanes&s)!==0&&(hf(e,n),Jl(n,null,null,s),Zl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Us(n,ke,l)):(l=f.cache,Us(n,ke,l),l!==h.cache&&rf(n,[ke],s,!0))),en(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function is(e){e.flags|=4}function Qf(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(zy())e.flags|=8192;else throw Fr=Bu,uf}else e.flags&=-16777217}function my(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!I_(n))if(zy())e.flags|=8192;else throw Fr=Bu,uf}function sc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?cu():536870912,e.lanes|=n,ja|=n)}function so(e,n){if(!qt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function fe(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function VT(e,n,s){var l=n.pendingProps;switch(Wh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(n),null;case 1:return fe(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Wi(ke),ce(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ra(n)?is(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ef())),fe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(is(n),f!==null?(fe(n),my(n,f)):(fe(n),Qf(n,h,null,l,s))):f?f!==e.memoizedState?(is(n),fe(n),my(n,f)):(fe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&is(n),fe(n),Qf(n,h,e,l,s)),null;case 27:if(Ts(n),s=xt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&is(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return fe(n),null}e=ot.current,Ra(n)?Kp(n):(e=T_(h,l,s),n.stateNode=e,is(n))}return fe(n),null;case 5:if(Ts(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&is(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return fe(n),null}if(f=ot.current,Ra(n))Kp(n);else{var p=vc(xt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Oe]=n,f[Qe]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(nn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&is(n)}}return fe(n),Qf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&is(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=xt.current,Ra(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=We,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Oe]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||c_(e.nodeValue,s)),e||Ls(n,!0)}else e=vc(e).createTextNode(l),e[Oe]=n,n.stateNode=e}return fe(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=Ra(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Oe]=n}else zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),e=!1}else s=ef(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Dn(n),n):(Dn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return fe(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ra(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Oe]=n}else zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),h=!1}else h=ef(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Dn(n),n):(Dn(n),null)}return Dn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),sc(n,n.updateQueue),fe(n),null);case 4:return ce(),e===null&&md(n.stateNode.containerInfo),fe(n),null;case 10:return Wi(n.type),fe(n),null;case 19:if(Y(Re),l=n.memoizedState,l===null)return fe(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)so(l,!1);else{if(be!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Fu(e),f!==null){for(n.flags|=128,so(l,!1),e=f.updateQueue,n.updateQueue=e,sc(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Hp(s,e),s=s.sibling;return at(Re,Re.current&1|2),qt&&Zi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&kt()>uc&&(n.flags|=128,h=!0,so(l,!1),n.lanes=4194304)}else{if(!h)if(e=Fu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,sc(n,e),so(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!qt)return fe(n),null}else 2*kt()-l.renderingStartTime>uc&&s!==536870912&&(n.flags|=128,h=!0,so(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=kt(),e.sibling=null,s=Re.current,at(Re,h?s&1|2:s&1),qt&&Zi(n,l.treeForkCount),e):(fe(n),null);case 22:case 23:return Dn(n),pf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(fe(n),n.subtreeFlags&6&&(n.flags|=8192)):fe(n),s=n.updateQueue,s!==null&&sc(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&Y(qr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Wi(ke),fe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function kT(e,n){switch(Wh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Wi(ke),ce(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ts(n),null;case 31:if(n.memoizedState!==null){if(Dn(n),n.alternate===null)throw Error(a(340));zr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Dn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));zr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(Re),null;case 4:return ce(),null;case 10:return Wi(n.type),null;case 22:case 23:return Dn(n),pf(),e!==null&&Y(qr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Wi(ke),null;case 25:return null;default:return null}}function py(e,n){switch(Wh(n),n.tag){case 3:Wi(ke),ce();break;case 26:case 27:case 5:Ts(n);break;case 4:ce();break;case 31:n.memoizedState!==null&&Dn(n);break;case 13:Dn(n);break;case 19:Y(Re);break;case 10:Wi(n.type);break;case 22:case 23:Dn(n),pf(),e!==null&&Y(qr);break;case 24:Wi(ke)}}function ro(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==h)}}catch(T){ee(n,n.return,T)}}function qs(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var p=l.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var C=s,j=T;try{j()}catch(F){ee(h,C,F)}}}l=l.next}while(l!==f)}}catch(F){ee(n,n.return,F)}}function gy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{ag(n,s)}catch(l){ee(e,e.return,l)}}}function yy(e,n,s){s.props=Yr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){ee(e,n,l)}}function ao(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){ee(e,n,h)}}function Vi(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){ee(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ee(e,n,h)}else s.current=null}function _y(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){ee(e,e.return,h)}}function Kf(e,n,s){try{var l=e.stateNode;ib(l,e.type,s,n),l[Qe]=n}catch(h){ee(e,e.return,h)}}function vy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$s(e.type)||e.tag===4}function Yf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||vy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$s(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ii));else if(l!==4&&(l===27&&$s(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Xf(e,n,s),e=e.sibling;e!==null;)Xf(e,n,s),e=e.sibling}function rc(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&$s(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(rc(e,n,s),e=e.sibling;e!==null;)rc(e,n,s),e=e.sibling}function Ey(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);nn(n,l,s),n[Oe]=e,n[Qe]=s}catch(f){ee(e,e.return,f)}}var ss=!1,Pe=!1,$f=!1,Ty=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function LT(e,n){if(e=e.containerInfo,yd=Rc,e=Mp(e),Hh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,T=-1,C=-1,j=0,F=0,X=e,z=null;e:for(;;){for(var H;X!==s||h!==0&&X.nodeType!==3||(T=p+h),X!==f||l!==0&&X.nodeType!==3||(C=p+l),X.nodeType===3&&(p+=X.nodeValue.length),(H=X.firstChild)!==null;)z=X,X=H;for(;;){if(X===e)break e;if(z===s&&++j===h&&(T=p),z===f&&++F===l&&(C=p),(H=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=H}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(_d={focusedElem:e,selectionRange:s},Rc=!1,Ye=n;Ye!==null;)if(n=Ye,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ye=e;else for(;Ye!==null;){switch(n=Ye,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ct=Yr(s.type,h);e=l.getSnapshotBeforeUpdate(ct,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(_t){ee(s,s.return,_t)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Td(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Td(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ye=e;break}Ye=n.return}}function by(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:as(e,s),l&4&&ro(5,s);break;case 1:if(as(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){ee(s,s.return,p)}else{var h=Yr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){ee(s,s.return,p)}}l&64&&gy(s),l&512&&ao(s,s.return);break;case 3:if(as(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{ag(e,n)}catch(p){ee(s,s.return,p)}}break;case 27:n===null&&l&4&&Ey(s);case 26:case 5:as(e,s),n===null&&l&4&&_y(s),l&512&&ao(s,s.return);break;case 12:as(e,s);break;case 31:as(e,s),l&4&&wy(e,s);break;case 13:as(e,s),l&4&&Ry(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=FT.bind(null,s),hb(e,s))));break;case 22:if(l=s.memoizedState!==null||ss,!l){n=n!==null&&n.memoizedState!==null||Pe,h=ss;var f=Pe;ss=l,(Pe=n)&&!f?ls(e,s,(s.subtreeFlags&8772)!==0):as(e,s),ss=h,Pe=f}break;case 30:break;default:as(e,s)}}function Sy(e){var n=e.alternate;n!==null&&(e.alternate=null,Sy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ua(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pe=null,vn=!1;function rs(e,n,s){for(s=s.child;s!==null;)Ay(e,n,s),s=s.sibling}function Ay(e,n,s){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(Wn,s)}catch{}switch(s.tag){case 26:Pe||Vi(s,n),rs(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Pe||Vi(s,n);var l=pe,h=vn;$s(s.type)&&(pe=s.stateNode,vn=!1),rs(e,n,s),go(s.stateNode),pe=l,vn=h;break;case 5:Pe||Vi(s,n);case 6:if(l=pe,h=vn,pe=null,rs(e,n,s),pe=l,vn=h,pe!==null)if(vn)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(s.stateNode)}catch(f){ee(s,n,f)}else try{pe.removeChild(s.stateNode)}catch(f){ee(s,n,f)}break;case 18:pe!==null&&(vn?(e=pe,g_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ka(e)):g_(pe,s.stateNode));break;case 4:l=pe,h=vn,pe=s.stateNode.containerInfo,vn=!0,rs(e,n,s),pe=l,vn=h;break;case 0:case 11:case 14:case 15:qs(2,s,n),Pe||qs(4,s,n),rs(e,n,s);break;case 1:Pe||(Vi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&yy(s,n,l)),rs(e,n,s);break;case 21:rs(e,n,s);break;case 22:Pe=(l=Pe)||s.memoizedState!==null,rs(e,n,s),Pe=l;break;default:rs(e,n,s)}}function wy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ka(e)}catch(s){ee(n,n.return,s)}}}function Ry(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ka(e)}catch(s){ee(n,n.return,s)}}function UT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ty),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ty),n;default:throw Error(a(435,e.tag))}}function ac(e,n){var s=UT(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=QT.bind(null,e,l);l.then(h,h)}})}function En(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,p=n,T=p;t:for(;T!==null;){switch(T.tag){case 27:if($s(T.type)){pe=T.stateNode,vn=!1;break t}break;case 5:pe=T.stateNode,vn=!1;break t;case 3:case 4:pe=T.stateNode.containerInfo,vn=!0;break t}T=T.return}if(pe===null)throw Error(a(160));Ay(f,p,h),pe=null,vn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)xy(n,e),n=n.sibling}var ui=null;function xy(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:En(n,e),Tn(e),l&4&&(qs(3,e,e.return),ro(3,e),qs(5,e,e.return));break;case 1:En(n,e),Tn(e),l&512&&(Pe||s===null||Vi(s,s.return)),l&64&&ss&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=ui;if(En(n,e),Tn(e),l&512&&(Pe||s===null||Vi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ei]||f[Oe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),nn(f,l,s),f[Oe]=e,Me(f),l=f;break t;case"link":var p=x_("link","href",h).get(l+(s.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(T,1);break e}}f=h.createElement(l),nn(f,l,s),h.head.appendChild(f);break;case"meta":if(p=x_("meta","content",h).get(l+(s.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(T,1);break e}}f=h.createElement(l),nn(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Oe]=e,Me(f),l=f}e.stateNode=l}else C_(h,e.type,e.stateNode);else e.stateNode=R_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?C_(h,e.type,e.stateNode):R_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Kf(e,e.memoizedProps,s.memoizedProps)}break;case 27:En(n,e),Tn(e),l&512&&(Pe||s===null||Vi(s,s.return)),s!==null&&l&4&&Kf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(En(n,e),Tn(e),l&512&&(Pe||s===null||Vi(s,s.return)),e.flags&32){h=e.stateNode;try{_n(h,"")}catch(ct){ee(e,e.return,ct)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Kf(e,h,s!==null?s.memoizedProps:h)),l&1024&&($f=!0);break;case 6:if(En(n,e),Tn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ct){ee(e,e.return,ct)}}break;case 3:if(bc=null,h=ui,ui=Ec(n.containerInfo),En(n,e),ui=h,Tn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ka(n.containerInfo)}catch(ct){ee(e,e.return,ct)}$f&&($f=!1,Cy(e));break;case 4:l=ui,ui=Ec(e.stateNode.containerInfo),En(n,e),Tn(e),ui=l;break;case 12:En(n,e),Tn(e);break;case 31:En(n,e),Tn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ac(e,l)));break;case 13:En(n,e),Tn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(oc=kt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ac(e,l)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,j=ss,F=Pe;if(ss=j||h,Pe=F||C,En(n,e),Pe=F,ss=j,Tn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||ss||Pe||Xr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=C.stateNode;var X=C.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ct){ee(C,C.return,ct)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ct){ee(C,C.return,ct)}}}else if(n.tag===18){if(s===null){C=n;try{var H=C.stateNode;h?y_(H,!0):y_(C.stateNode,!1)}catch(ct){ee(C,C.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,ac(e,s))));break;case 19:En(n,e),Tn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ac(e,l)));break;case 30:break;case 21:break;default:En(n,e),Tn(e)}}function Tn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(vy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Yf(e);rc(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(_n(p,""),s.flags&=-33);var T=Yf(e);rc(e,T,p);break;case 3:case 4:var C=s.stateNode.containerInfo,j=Yf(e);Xf(e,j,C);break;default:throw Error(a(161))}}catch(F){ee(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Cy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Cy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function as(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)by(e,n.alternate,n),n=n.sibling}function Xr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:qs(4,n,n.return),Xr(n);break;case 1:Vi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&yy(n,n.return,s),Xr(n);break;case 27:go(n.stateNode);case 26:case 5:Vi(n,n.return),Xr(n);break;case 22:n.memoizedState===null&&Xr(n);break;case 30:Xr(n);break;default:Xr(n)}e=e.sibling}}function ls(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ls(h,f,s),ro(4,f);break;case 1:if(ls(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){ee(l,l.return,j)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)rg(C[h],T)}catch(j){ee(l,l.return,j)}}s&&p&64&&gy(f),ao(f,f.return);break;case 27:Ey(f);case 26:case 5:ls(h,f,s),s&&l===null&&p&4&&_y(f),ao(f,f.return);break;case 12:ls(h,f,s);break;case 31:ls(h,f,s),s&&p&4&&wy(h,f);break;case 13:ls(h,f,s),s&&p&4&&Ry(h,f);break;case 22:f.memoizedState===null&&ls(h,f,s),ao(f,f.return);break;case 30:break;default:ls(h,f,s)}n=n.sibling}}function Zf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ql(s))}function Jf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ql(e))}function ci(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Iy(e,n,s,l),n=n.sibling}function Iy(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ci(e,n,s,l),h&2048&&ro(9,n);break;case 1:ci(e,n,s,l);break;case 3:ci(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ql(e)));break;case 12:if(h&2048){ci(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){ee(n,n.return,C)}}else ci(e,n,s,l);break;case 31:ci(e,n,s,l);break;case 13:ci(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ci(e,n,s,l):lo(e,n):f._visibility&2?ci(e,n,s,l):(f._visibility|=2,La(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Zf(p,n);break;case 24:ci(e,n,s,l),h&2048&&Jf(n.alternate,n);break;default:ci(e,n,s,l)}}function La(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,T=s,C=l,j=p.flags;switch(p.tag){case 0:case 11:case 15:La(f,p,T,C,h),ro(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?La(f,p,T,C,h):lo(f,p):(F._visibility|=2,La(f,p,T,C,h)),h&&j&2048&&Zf(p.alternate,p);break;case 24:La(f,p,T,C,h),h&&j&2048&&Jf(p.alternate,p);break;default:La(f,p,T,C,h)}n=n.sibling}}function lo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:lo(s,l),h&2048&&Zf(l.alternate,l);break;case 24:lo(s,l),h&2048&&Jf(l.alternate,l);break;default:lo(s,l)}n=n.sibling}}var oo=8192;function Ua(e,n,s){if(e.subtreeFlags&oo)for(e=e.child;e!==null;)Ny(e,n,s),e=e.sibling}function Ny(e,n,s){switch(e.tag){case 26:Ua(e,n,s),e.flags&oo&&e.memoizedState!==null&&Sb(s,ui,e.memoizedState,e.memoizedProps);break;case 5:Ua(e,n,s);break;case 3:case 4:var l=ui;ui=Ec(e.stateNode.containerInfo),Ua(e,n,s),ui=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=oo,oo=16777216,Ua(e,n,s),oo=l):Ua(e,n,s));break;default:Ua(e,n,s)}}function Dy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function uo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ye=l,My(l,e)}Dy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Oy(e),e=e.sibling}function Oy(e){switch(e.tag){case 0:case 11:case 15:uo(e),e.flags&2048&&qs(9,e,e.return);break;case 3:uo(e);break;case 12:uo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,lc(e)):uo(e);break;default:uo(e)}}function lc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ye=l,My(l,e)}Dy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:qs(8,n,n.return),lc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,lc(n));break;default:lc(n)}e=e.sibling}}function My(e,n){for(;Ye!==null;){var s=Ye;switch(s.tag){case 0:case 11:case 15:qs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ql(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ye=l;else t:for(s=e;Ye!==null;){l=Ye;var h=l.sibling,f=l.return;if(Sy(l),l===s){Ye=null;break t}if(h!==null){h.return=f,Ye=h;break t}Ye=f}}}var PT={getCacheForType:function(e){var n=tn(ke),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return tn(ke).controller.signal}},jT=typeof WeakMap=="function"?WeakMap:Map,Zt=0,oe=null,Ot=null,Lt=0,te=0,On=null,Gs=!1,Pa=!1,Wf=!1,os=0,be=0,Fs=0,$r=0,td=0,Mn=0,ja=0,co=null,bn=null,ed=!1,oc=0,Vy=0,uc=1/0,cc=null,Qs=null,qe=0,Ks=null,za=null,us=0,nd=0,id=null,ky=null,ho=0,sd=null;function Vn(){return(Zt&2)!==0&&Lt!==0?Lt&-Lt:G.T!==null?cd():hu()}function Ly(){if(Mn===0)if((Lt&536870912)===0||qt){var e=Sr;Sr<<=1,(Sr&3932160)===0&&(Sr=262144),Mn=e}else Mn=536870912;return e=Nn.current,e!==null&&(e.flags|=32),Mn}function Sn(e,n,s){(e===oe&&(te===2||te===9)||e.cancelPendingCommit!==null)&&(Ba(e,0),Ys(e,Lt,Mn,!1)),Ar(e,s),((Zt&2)===0||e!==oe)&&(e===oe&&((Zt&2)===0&&($r|=s),be===4&&Ys(e,Lt,Mn,!1)),ki(e))}function Uy(e,n,s){if((Zt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||ti(e,n),h=l?HT(e,n):ad(e,n,!0),f=l;do{if(h===0){Pa&&!l&&Ys(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!zT(s)){h=ad(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var T=e;h=co;var C=T.current.memoizedState.isDehydrated;if(C&&(Ba(T,p).flags|=256),p=ad(T,p,!1),p!==2){if(Wf&&!C){T.errorRecoveryDisabledLanes|=f,$r|=f,h=4;break t}f=bn,bn=h,f!==null&&(bn===null?bn=f:bn.push.apply(bn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ba(e,0),Ys(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ys(l,n,Mn,!Gs);break t;case 2:bn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=oc+300-kt(),10<h)){if(Ys(l,n,Mn,!Gs),yi(l,0,!0)!==0)break t;us=n,l.timeoutHandle=m_(Py.bind(null,l,s,bn,cc,ed,n,Mn,$r,ja,Gs,f,"Throttled",-0,0),h);break t}Py(l,s,bn,cc,ed,n,Mn,$r,ja,Gs,f,null,-0,0)}}break}while(!0);ki(e)}function Py(e,n,s,l,h,f,p,T,C,j,F,X,z,H){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},Ny(n,f,X);var ct=(f&62914560)===f?oc-kt():(f&4194048)===f?Vy-kt():0;if(ct=Ab(X,ct),ct!==null){us=f,e.cancelPendingCommit=ct(Qy.bind(null,e,n,f,s,l,h,p,T,C,F,X,null,z,H)),Ys(e,f,p,!j);return}}Qy(e,n,f,s,l,h,p,T,C)}function zT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!Cn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ys(e,n,s,l){n&=~td,n&=~$r,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-Ae(h),p=1<<f;l[f]=-1,h&=~p}s!==0&&wr(e,s,n)}function hc(){return(Zt&6)===0?(fo(0),!1):!0}function rd(){if(Ot!==null){if(te===0)var e=Ot.return;else e=Ot,Ji=Br=null,Tf(e),Da=null,Yl=0,e=Ot;for(;e!==null;)py(e.alternate,e),e=e.return;Ot=null}}function Ba(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,ab(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),us=0,rd(),oe=e,Ot=s=$i(e.current,null),Lt=n,te=0,On=null,Gs=!1,Pa=ti(e,n),Wf=!1,ja=Mn=td=$r=Fs=be=0,bn=co=null,ed=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-Ae(l),f=1<<h;n|=e[h],l&=~f}return os=n,Ou(),s}function jy(e,n){Nt=null,G.H=no,n===Na||n===zu?(n=eg(),te=3):n===uf?(n=eg(),te=4):te=n===Uf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,On=n,Ot===null&&(be=1,tc(e,qn(n,e.current)))}function zy(){var e=Nn.current;return e===null?!0:(Lt&4194048)===Lt?Kn===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?e===Kn:!1}function By(){var e=G.H;return G.H=no,e===null?no:e}function Hy(){var e=G.A;return G.A=PT,e}function fc(){be=4,Gs||(Lt&4194048)!==Lt&&Nn.current!==null||(Pa=!0),(Fs&134217727)===0&&($r&134217727)===0||oe===null||Ys(oe,Lt,Mn,!1)}function ad(e,n,s){var l=Zt;Zt|=2;var h=By(),f=Hy();(oe!==e||Lt!==n)&&(cc=null,Ba(e,n)),n=!1;var p=be;t:do try{if(te!==0&&Ot!==null){var T=Ot,C=On;switch(te){case 8:rd(),p=6;break t;case 3:case 2:case 9:case 6:Nn.current===null&&(n=!0);var j=te;if(te=0,On=null,Ha(e,T,C,j),s&&Pa){p=0;break t}break;default:j=te,te=0,On=null,Ha(e,T,C,j)}}BT(),p=be;break}catch(F){jy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Ji=Br=null,Zt=l,G.H=h,G.A=f,Ot===null&&(oe=null,Lt=0,Ou()),p}function BT(){for(;Ot!==null;)qy(Ot)}function HT(e,n){var s=Zt;Zt|=2;var l=By(),h=Hy();oe!==e||Lt!==n?(cc=null,uc=kt()+500,Ba(e,n)):Pa=ti(e,n);t:do try{if(te!==0&&Ot!==null){n=Ot;var f=On;e:switch(te){case 1:te=0,On=null,Ha(e,n,f,1);break;case 2:case 9:if(Wp(f)){te=0,On=null,Gy(n);break}n=function(){te!==2&&te!==9||oe!==e||(te=7),ki(e)},f.then(n,n);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:Wp(f)?(te=0,On=null,Gy(n)):(te=0,On=null,Ha(e,n,f,7));break;case 5:var p=null;switch(Ot.tag){case 26:p=Ot.memoizedState;case 5:case 27:var T=Ot;if(p?I_(p):T.stateNode.complete){te=0,On=null;var C=T.sibling;if(C!==null)Ot=C;else{var j=T.return;j!==null?(Ot=j,dc(j)):Ot=null}break e}}te=0,On=null,Ha(e,n,f,5);break;case 6:te=0,On=null,Ha(e,n,f,6);break;case 8:rd(),be=6;break t;default:throw Error(a(462))}}qT();break}catch(F){jy(e,F)}while(!0);return Ji=Br=null,G.H=l,G.A=h,Zt=s,Ot!==null?0:(oe=null,Lt=0,Ou(),be)}function qT(){for(;Ot!==null&&!lt();)qy(Ot)}function qy(e){var n=dy(e.alternate,e,os);e.memoizedProps=e.pendingProps,n===null?dc(e):Ot=n}function Gy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=ly(s,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=ly(s,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:Tf(n);default:py(s,n),n=Ot=Hp(n,os),n=dy(s,n,os)}e.memoizedProps=e.pendingProps,n===null?dc(e):Ot=n}function Ha(e,n,s,l){Ji=Br=null,Tf(n),Da=null,Yl=0;var h=n.return;try{if(DT(e,h,n,s,Lt)){be=1,tc(e,qn(s,e.current)),Ot=null;return}}catch(f){if(h!==null)throw Ot=h,f;be=1,tc(e,qn(s,e.current)),Ot=null;return}n.flags&32768?(qt||l===1?e=!0:Pa||(Lt&536870912)!==0?e=!1:(Gs=e=!0,(l===2||l===9||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fy(n,e)):dc(n)}function dc(e){var n=e;do{if((n.flags&32768)!==0){Fy(n,Gs);return}e=n.return;var s=VT(n.alternate,n,os);if(s!==null){Ot=s;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=e}while(n!==null);be===0&&(be=5)}function Fy(e,n){do{var s=kT(e.alternate,e);if(s!==null){s.flags&=32767,Ot=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=s}while(e!==null);be=6,Ot=null}function Qy(e,n,s,l,h,f,p,T,C){e.cancelPendingCommit=null;do mc();while(qe!==0);if((Zt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Kh,Ph(e,s,f,p,T,C),e===oe&&(Ot=oe=null,Lt=0),za=n,Ks=e,us=s,nd=f,id=h,ky=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,KT(dn,function(){return Zy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=rt.p,rt.p=2,p=Zt,Zt|=4;try{LT(e,n,s)}finally{Zt=p,rt.p=h,G.T=l}}qe=1,Ky(),Yy(),Xy()}}function Ky(){if(qe===1){qe=0;var e=Ks,n=za,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=rt.p;rt.p=2;var h=Zt;Zt|=4;try{xy(n,e);var f=_d,p=Mp(e.containerInfo),T=f.focusedElem,C=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&Op(T.ownerDocument.documentElement,T)){if(C!==null&&Hh(T)){var j=C.start,F=C.end;if(F===void 0&&(F=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(F,T.value.length);else{var X=T.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var H=z.getSelection(),ct=T.textContent.length,_t=Math.min(C.start,ct),ae=C.end===void 0?_t:Math.min(C.end,ct);!H.extend&&_t>ae&&(p=ae,ae=_t,_t=p);var k=Dp(T,_t),D=Dp(T,ae);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var P=X.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),_t>ae?(H.addRange(P),H.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),H.addRange(P))}}}}for(X=[],H=T;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var K=X[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Rc=!!yd,_d=yd=null}finally{Zt=h,rt.p=l,G.T=s}}e.current=n,qe=2}}function Yy(){if(qe===2){qe=0;var e=Ks,n=za,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=rt.p;rt.p=2;var h=Zt;Zt|=4;try{by(e,n.alternate,n)}finally{Zt=h,rt.p=l,G.T=s}}qe=3}}function Xy(){if(qe===4||qe===3){qe=0,pt();var e=Ks,n=za,s=us,l=ky;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?qe=5:(qe=0,za=Ks=null,$y(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Qs=null),Qi(s),n=n.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(Wn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=rt.p,rt.p=2,G.T=null;try{for(var f=e.onRecoverableError,p=0;p<l.length;p++){var T=l[p];f(T.value,{componentStack:T.stack})}}finally{G.T=n,rt.p=h}}(us&3)!==0&&mc(),ki(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===sd?ho++:(ho=0,sd=e):ho=0,fo(0)}}function $y(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ql(n)))}function mc(){return Ky(),Yy(),Xy(),Zy()}function Zy(){if(qe!==5)return!1;var e=Ks,n=nd;nd=0;var s=Qi(us),l=G.T,h=rt.p;try{rt.p=32>s?32:s,G.T=null,s=id,id=null;var f=Ks,p=us;if(qe=0,za=Ks=null,us=0,(Zt&6)!==0)throw Error(a(331));var T=Zt;if(Zt|=4,Oy(f.current),Iy(f,f.current,p,s),Zt=T,fo(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(Wn,f)}catch{}return!0}finally{rt.p=h,G.T=l,$y(e,n)}}function Jy(e,n,s){n=qn(s,n),n=Lf(e.stateNode,n,2),e=zs(e,n,2),e!==null&&(Ar(e,2),ki(e))}function ee(e,n,s){if(e.tag===3)Jy(e,e,s);else for(;n!==null;){if(n.tag===3){Jy(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Qs===null||!Qs.has(l))){e=qn(s,e),s=Wg(2),l=zs(n,s,2),l!==null&&(ty(s,l,n,e),Ar(l,2),ki(l));break}}n=n.return}}function ld(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new jT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Wf=!0,h.add(s),e=GT.bind(null,e,n,s),n.then(e,e))}function GT(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,oe===e&&(Lt&s)===s&&(be===4||be===3&&(Lt&62914560)===Lt&&300>kt()-oc?(Zt&2)===0&&Ba(e,0):td|=s,ja===Lt&&(ja=0)),ki(e)}function Wy(e,n){n===0&&(n=cu()),e=Pr(e,n),e!==null&&(Ar(e,n),ki(e))}function FT(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Wy(e,s)}function QT(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Wy(e,s)}function KT(e,n){return tt(e,n)}var pc=null,qa=null,od=!1,gc=!1,ud=!1,Xs=0;function ki(e){e!==qa&&e.next===null&&(qa===null?pc=qa=e:qa=qa.next=e),gc=!0,od||(od=!0,XT())}function fo(e,n){if(!ud&&gc){ud=!0;do for(var s=!1,l=pc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Ae(42|e)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,i_(l,f))}else f=Lt,f=yi(l,l===oe?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ti(l,f)||(s=!0,i_(l,f));l=l.next}while(s);ud=!1}}function YT(){t_()}function t_(){gc=od=!1;var e=0;Xs!==0&&rb()&&(e=Xs);for(var n=kt(),s=null,l=pc;l!==null;){var h=l.next,f=e_(l,n);f===0?(l.next=null,s===null?pc=h:s.next=h,h===null&&(qa=s)):(s=l,(e!==0||(f&3)!==0)&&(gc=!0)),l=h}qe!==0&&qe!==5||fo(e),Xs!==0&&(Xs=0)}function e_(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-Ae(f),T=1<<p,C=h[p];C===-1?((T&s)===0||(T&l)!==0)&&(h[p]=Uh(T,n)):C<=n&&(e.expiredLanes|=T),f&=~T}if(n=oe,s=Lt,s=yi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(te===2||te===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ct(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||ti(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&Ct(l),Qi(s)){case 2:case 8:s=fn;break;case 32:s=dn;break;case 268435456:s=ru;break;default:s=dn}return l=n_.bind(null,e),s=tt(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&Ct(l),e.callbackPriority=2,e.callbackNode=null,2}function n_(e,n){if(qe!==0&&qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(mc()&&e.callbackNode!==s)return null;var l=Lt;return l=yi(e,e===oe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Uy(e,l,n),e_(e,kt()),e.callbackNode!=null&&e.callbackNode===s?n_.bind(null,e):null)}function i_(e,n){if(mc())return null;Uy(e,n,!0)}function XT(){lb(function(){(Zt&6)!==0?tt(le,YT):t_()})}function cd(){if(Xs===0){var e=Ca;e===0&&(e=pi,pi<<=1,(pi&261888)===0&&(pi=256)),Xs=e}return Xs}function s_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:da(""+e)}function r_(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function $T(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=s_((h[Qe]||null).action),p=l.submitter;p&&(n=(n=p[Qe]||null)?s_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new Ci("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xs!==0){var C=p?r_(h,p):new FormData(h);Nf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=p?r_(h,p):new FormData(h),Nf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var hd=0;hd<Qh.length;hd++){var fd=Qh[hd],ZT=fd.toLowerCase(),JT=fd[0].toUpperCase()+fd.slice(1);oi(ZT,"on"+JT)}oi(Lp,"onAnimationEnd"),oi(Up,"onAnimationIteration"),oi(Pp,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(mT,"onTransitionRun"),oi(pT,"onTransitionStart"),oi(gT,"onTransitionCancel"),oi(jp,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mo));function a_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var T=l[p],C=T.instance,j=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(F){Du(F)}h.currentTarget=null,f=C}else for(p=0;p<l.length;p++){if(T=l[p],C=T.instance,j=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(F){Du(F)}h.currentTarget=null,f=C}}}}function Mt(e,n){var s=n[oa];s===void 0&&(s=n[oa]=new Set);var l=e+"__bubble";s.has(l)||(l_(n,e,2,!1),s.add(l))}function dd(e,n,s){var l=0;n&&(l|=4),l_(s,e,l,n)}var yc="_reactListening"+Math.random().toString(36).slice(2);function md(e){if(!e[yc]){e[yc]=!0,wl.forEach(function(s){s!=="selectionchange"&&(WT.has(s)||dd(s,!1,e),dd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[yc]||(n[yc]=!0,dd("selectionchange",!1,n))}}function l_(e,n,s,l){switch(L_(n)){case 2:var h=xb;break;case 8:h=Cb;break;default:h=Id}s=h.bind(null,n,s,e),h=void 0,!Nr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function pd(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var T=l.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=l.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=Ti(T),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){l=f=p;continue t}T=T.parentNode}}l=l.return}Ns(function(){var j=f,F=jn(s),X=[];t:{var z=zp.get(e);if(z!==void 0){var H=Ci,ct=e;switch(e){case"keypress":if(Or(s)===0)break t;case"keydown":case"keyup":H=Cu;break;case"focusin":ct="focus",H=Vr;break;case"focusout":ct="blur",H=Vr;break;case"beforeblur":case"afterblur":H=Vr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Lp:case Up:case Pp:H=Tu;break;case jp:H=b;break;case"scroll":case"scrollend":H=Ul;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Xi;break;case"toggle":case"beforetoggle":H=It}var _t=(n&4)!==0,ae=!_t&&(e==="scroll"||e==="scrollend"),k=_t?z!==null?z+"Capture":null:z;_t=[];for(var D=j,P;D!==null;){var K=D;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=si(D,k),K!=null&&_t.push(po(D,K,P))),ae)break;D=D.return}0<_t.length&&(z=new H(z,ct,null,s,F),X.push({event:z,listeners:_t}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",z&&s!==Vl&&(ct=s.relatedTarget||s.fromElement)&&(Ti(ct)||ct[vi]))break t;if((H||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,H?(ct=s.relatedTarget||s.toElement,H=j,ct=ct?Ti(ct):null,ct!==null&&(ae=c(ct),_t=ct.tag,ct!==ae||_t!==5&&_t!==27&&_t!==6)&&(ct=null)):(H=null,ct=j),H!==ct)){if(_t=Pl,K="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Xi,K="onPointerLeave",k="onPointerEnter",D="pointer"),ae=H==null?z:Rn(H),P=ct==null?z:Rn(ct),z=new _t(K,D+"leave",H,s,F),z.target=ae,z.relatedTarget=P,K=null,Ti(F)===j&&(_t=new _t(k,D+"enter",ct,s,F),_t.target=P,_t.relatedTarget=ae,K=_t),ae=K,H&&ct)e:{for(_t=tb,k=H,D=ct,P=0,K=k;K;K=_t(K))P++;K=0;for(var mt=D;mt;mt=_t(mt))K++;for(;0<P-K;)k=_t(k),P--;for(;0<K-P;)D=_t(D),K--;for(;P--;){if(k===D||D!==null&&k===D.alternate){_t=k;break e}k=_t(k),D=_t(D)}_t=null}else _t=null;H!==null&&o_(X,z,H,_t,!1),ct!==null&&ae!==null&&o_(X,ae,ct,_t,!0)}}t:{if(z=j?Rn(j):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Kt=wp;else if(Sp(z))if(Rp)Kt=hT;else{Kt=uT;var ht=oT}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&fa(j.elementType)&&(Kt=wp):Kt=cT;if(Kt&&(Kt=Kt(e,j))){Ap(X,Kt,s,F);break t}ht&&ht(e,z,j),e==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Dl(z,"number",z.value)}switch(ht=j?Rn(j):window,e){case"focusin":(Sp(ht)||ht.contentEditable==="true")&&(Ea=ht,qh=j,ql=null);break;case"focusout":ql=qh=Ea=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,Vp(X,s,F);break;case"selectionchange":if(dT)break;case"keydown":case"keyup":Vp(X,s,F)}var Dt;if($t)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else va?kr(e,s)&&(Ut="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ut="onCompositionStart");Ut&&(Di&&s.locale!=="ko"&&(va||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&va&&(Dt=Ll()):(xi=F,kl="value"in xi?xi.value:xi.textContent,va=!0)),ht=_c(j,Ut),0<ht.length&&(Ut=new Ni(Ut,e,null,s,F),X.push({event:Ut,listeners:ht}),Dt?Ut.data=Dt:(Dt=_a(s),Dt!==null&&(Ut.data=Dt)))),(Dt=Bn?sT(e,s):rT(e,s))&&(Ut=_c(j,"onBeforeInput"),0<Ut.length&&(ht=new Ni("onBeforeInput","beforeinput",null,s,F),X.push({event:ht,listeners:Ut}),ht.data=Dt)),$T(X,e,j,s,F)}a_(X,n)})}function po(e,n,s){return{instance:e,listener:n,currentTarget:s}}function _c(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=si(e,s),h!=null&&l.unshift(po(e,h,f)),h=si(e,n),h!=null&&l.push(po(e,h,f))),e.tag===3)return l;e=e.return}return[]}function tb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function o_(e,n,s,l,h){for(var f=n._reactName,p=[];s!==null&&s!==l;){var T=s,C=T.alternate,j=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||j===null||(C=j,h?(j=si(s,f),j!=null&&p.unshift(po(s,j,C))):h||(j=si(s,f),j!=null&&p.push(po(s,j,C)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var eb=/\r\n?/g,nb=/\u0000|\uFFFD/g;function u_(e){return(typeof e=="string"?e:""+e).replace(eb,`
`).replace(nb,"")}function c_(e,n){return n=u_(n),u_(e)===n}function re(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_n(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_n(e,""+l);break;case"className":xn(e,"class",l);break;case"tabIndex":xn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":xn(e,s,l);break;case"style":Ml(e,l,f);break;case"data":if(n!=="object"){xn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=da(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&re(e,n,"name",h.name,h,null),re(e,n,"formEncType",h.formEncType,h,null),re(e,n,"formMethod",h.formMethod,h,null),re(e,n,"formTarget",h.formTarget,h,null)):(re(e,n,"encType",h.encType,h,null),re(e,n,"method",h.method,h,null),re(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=da(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=ii);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=da(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),ca(e,"popover",l);break;case"xlinkActuate":Ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ve(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ve(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ve(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ve(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ca(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=_u.get(s)||s,ca(e,s,l))}}function gd(e,n,s,l,h,f){switch(s){case"style":Ml(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?_n(e,l):(typeof l=="number"||typeof l=="bigint")&&_n(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Qe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):ca(e,s,l)}}}function nn(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:re(e,n,f,p,s,null)}}h&&re(e,n,"srcSet",s.srcSet,s,null),l&&re(e,n,"src",s.src,s,null);return;case"input":Mt("invalid",e);var T=f=p=h=null,C=null,j=null;for(l in s)if(s.hasOwnProperty(l)){var F=s[l];if(F!=null)switch(l){case"name":h=F;break;case"type":p=F;break;case"checked":C=F;break;case"defaultChecked":j=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:re(e,n,l,F,s,null)}}pu(e,f,T,C,j,p,h,!1);return;case"select":Mt("invalid",e),l=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":l=T;default:re(e,n,h,T,s,null)}n=f,s=p,e.multiple=!!l,n!=null?Rs(e,!!l,n,!1):s!=null&&Rs(e,!!l,s,!0);return;case"textarea":Mt("invalid",e),f=h=l=null;for(p in s)if(s.hasOwnProperty(p)&&(T=s[p],T!=null))switch(p){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:re(e,n,p,T,s,null)}xs(e,l,h,f);return;case"option":for(C in s)s.hasOwnProperty(C)&&(l=s[C],l!=null)&&(C==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":re(e,n,C,l,s,null));return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<mo.length;l++)Mt(mo[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(l=s[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:re(e,n,j,l,s,null)}return;default:if(fa(n)){for(F in s)s.hasOwnProperty(F)&&(l=s[F],l!==void 0&&gd(e,n,F,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&re(e,n,T,l,s,null))}function ib(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,C=null,j=null,F=null;for(H in s){var X=s[H];if(s.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:l.hasOwnProperty(H)||re(e,n,H,null,l,X)}}for(var z in l){var H=l[z];if(X=s[z],l.hasOwnProperty(z)&&(H!=null||X!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":F=H;break;case"value":p=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&re(e,n,z,H,l,X)}}ha(e,p,T,C,j,F,f,h);return;case"select":H=p=T=z=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(f)||re(e,n,f,null,l,C)}for(h in l)if(f=l[h],C=s[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==C&&re(e,n,h,f,l,C)}n=T,s=p,l=H,z!=null?Rs(e,!!s,z,!1):!!l!=!!s&&(n!=null?Rs(e,!!s,n,!0):Rs(e,!!s,s?[]:"",!1));return;case"textarea":H=z=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:re(e,n,T,null,l,h)}for(p in l)if(h=l[p],f=s[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&re(e,n,p,h,l,f)}gu(e,z,H);return;case"option":for(var ct in s)z=s[ct],s.hasOwnProperty(ct)&&z!=null&&!l.hasOwnProperty(ct)&&(ct==="selected"?e.selected=!1:re(e,n,ct,null,l,z));for(C in l)z=l[C],H=s[C],l.hasOwnProperty(C)&&z!==H&&(z!=null||H!=null)&&(C==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":re(e,n,C,z,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in s)z=s[_t],s.hasOwnProperty(_t)&&z!=null&&!l.hasOwnProperty(_t)&&re(e,n,_t,null,l,z);for(j in l)if(z=l[j],H=s[j],l.hasOwnProperty(j)&&z!==H&&(z!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:re(e,n,j,z,l,H)}return;default:if(fa(n)){for(var ae in s)z=s[ae],s.hasOwnProperty(ae)&&z!==void 0&&!l.hasOwnProperty(ae)&&gd(e,n,ae,void 0,l,z);for(F in l)z=l[F],H=s[F],!l.hasOwnProperty(F)||z===H||z===void 0&&H===void 0||gd(e,n,F,z,l,H);return}}for(var k in s)z=s[k],s.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&re(e,n,k,null,l,z);for(X in l)z=l[X],H=s[X],!l.hasOwnProperty(X)||z===H||z==null&&H==null||re(e,n,X,z,l,H)}function h_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&h_(p)){for(p=0,T=h.responseEnd,l+=1;l<s.length;l++){var C=s[l],j=C.startTime;if(j>T)break;var F=C.transferSize,X=C.initiatorType;F&&h_(X)&&(C=C.responseEnd,p+=F*(C<T?1:(T-j)/(C-j)))}if(--l,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var yd=null,_d=null;function vc(e){return e.nodeType===9?e:e.ownerDocument}function f_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function vd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ed=null;function rb(){var e=window.event;return e&&e.type==="popstate"?e===Ed?!1:(Ed=e,!0):(Ed=null,!1)}var m_=typeof setTimeout=="function"?setTimeout:void 0,ab=typeof clearTimeout=="function"?clearTimeout:void 0,p_=typeof Promise=="function"?Promise:void 0,lb=typeof queueMicrotask=="function"?queueMicrotask:typeof p_<"u"?function(e){return p_.resolve(null).then(e).catch(ob)}:m_;function ob(e){setTimeout(function(){throw e})}function $s(e){return e==="head"}function g_(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),Ka(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")go(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,go(s);for(var f=s.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[Ei]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&go(e.ownerDocument.body);s=h}while(s);Ka(n)}function y_(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function Td(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Td(s),ua(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function ub(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ei])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Yn(e.nextSibling),e===null)break}return null}function cb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Yn(e.nextSibling),e===null))return null;return e}function __(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Yn(e.nextSibling),e===null))return null;return e}function bd(e){return e.data==="$?"||e.data==="$~"}function Sd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function hb(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Yn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ad=null;function v_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Yn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function E_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function T_(e,n,s){switch(n=vc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function go(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ua(e)}var Xn=new Map,b_=new Set;function Ec(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var cs=rt.d;rt.d={f:fb,r:db,D:mb,C:pb,L:gb,m:yb,X:vb,S:_b,M:Eb};function fb(){var e=cs.f(),n=hc();return e||n}function db(e){var n=Pn(e);n!==null&&n.tag===5&&n.type==="form"?jg(n):cs.r(e)}var Ga=typeof document>"u"?null:document;function S_(e,n,s){var l=Ga;if(l&&typeof n=="string"&&n){var h=yn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),b_.has(h)||(b_.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),nn(n,"link",e),Me(n),l.head.appendChild(n)))}}function mb(e){cs.D(e),S_("dns-prefetch",e,null)}function pb(e,n){cs.C(e,n),S_("preconnect",e,n)}function gb(e,n,s){cs.L(e,n,s);var l=Ga;if(l&&e&&n){var h='link[rel="preload"][as="'+yn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+yn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+yn(s.imageSizes)+'"]')):h+='[href="'+yn(e)+'"]';var f=h;switch(n){case"style":f=Fa(e);break;case"script":f=Qa(e)}Xn.has(f)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Xn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(yo(f))||n==="script"&&l.querySelector(_o(f))||(n=l.createElement("link"),nn(n,"link",e),Me(n),l.head.appendChild(n)))}}function yb(e,n){cs.m(e,n);var s=Ga;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+yn(l)+'"][href="'+yn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Qa(e)}if(!Xn.has(f)&&(e=w({rel:"modulepreload",href:e},n),Xn.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(_o(f)))return}l=s.createElement("link"),nn(l,"link",e),Me(l),s.head.appendChild(l)}}}function _b(e,n,s){cs.S(e,n,s);var l=Ga;if(l&&e){var h=bi(l).hoistableStyles,f=Fa(e);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=l.querySelector(yo(f)))T.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Xn.get(f))&&wd(e,s);var C=p=l.createElement("link");Me(C),nn(C,"link",e),C._p=new Promise(function(j,F){C.onload=j,C.onerror=F}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Tc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function vb(e,n){cs.X(e,n);var s=Ga;if(s&&e){var l=bi(s).hoistableScripts,h=Qa(e),f=l.get(h);f||(f=s.querySelector(_o(h)),f||(e=w({src:e,async:!0},n),(n=Xn.get(h))&&Rd(e,n),f=s.createElement("script"),Me(f),nn(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Eb(e,n){cs.M(e,n);var s=Ga;if(s&&e){var l=bi(s).hoistableScripts,h=Qa(e),f=l.get(h);f||(f=s.querySelector(_o(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=Xn.get(h))&&Rd(e,n),f=s.createElement("script"),Me(f),nn(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function A_(e,n,s,l){var h=(h=xt.current)?Ec(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Fa(s.href),s=bi(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Fa(s.href);var f=bi(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(yo(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Xn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Xn.set(e,s),f||Tb(h,e,s,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Qa(s),s=bi(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Fa(e){return'href="'+yn(e)+'"'}function yo(e){return'link[rel="stylesheet"]['+e+"]"}function w_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function Tb(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),nn(n,"link",s),Me(n),e.head.appendChild(n))}function Qa(e){return'[src="'+yn(e)+'"]'}function _o(e){return"script[async]"+e}function R_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+yn(s.href)+'"]');if(l)return n.instance=l,Me(l),l;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Me(l),nn(l,"style",h),Tc(l,s.precedence,e),n.instance=l;case"stylesheet":h=Fa(s.href);var f=e.querySelector(yo(h));if(f)return n.state.loading|=4,n.instance=f,Me(f),f;l=w_(s),(h=Xn.get(h))&&wd(l,h),f=(e.ownerDocument||e).createElement("link"),Me(f);var p=f;return p._p=new Promise(function(T,C){p.onload=T,p.onerror=C}),nn(f,"link",l),n.state.loading|=4,Tc(f,s.precedence,e),n.instance=f;case"script":return f=Qa(s.src),(h=e.querySelector(_o(f)))?(n.instance=h,Me(h),h):(l=s,(h=Xn.get(f))&&(l=w({},s),Rd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Me(h),nn(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Tc(l,s.precedence,e));return n.instance}function Tc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var T=l[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function wd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Rd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var bc=null;function x_(e,n,s){if(bc===null){var l=new Map,h=bc=new Map;h.set(s,l)}else h=bc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[Ei]||f[Oe]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var T=l.get(p);T?T.push(f):l.set(p,[f])}}return l}function C_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function bb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function I_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Sb(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Fa(l.href),f=n.querySelector(yo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Sc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Me(f);return}f=n.ownerDocument||n,l=w_(l),(h=Xn.get(h))&&wd(l,h),f=f.createElement("link"),Me(f);var p=f;p._p=new Promise(function(T,C){p.onload=T,p.onerror=C}),nn(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Sc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var xd=0;function Ab(e,n){return e.stylesheets&&e.count===0&&wc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&xd===0&&(xd=62500*sb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>xd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ac=null;function wc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ac=new Map,n.forEach(wb,e),Ac=null,Sc.call(e))}function wb(e,n){if(!(n.state.loading&4)){var s=Ac.get(e);if(s)var l=s.get(null);else{s=new Map,Ac.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,h),s.set(p,h),this.count++,l=Sc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var vo={$$typeof:vt,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function Rb(e,n,s,l,h,f,p,T,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function N_(e,n,s,l,h,f,p,T,C,j,F,X){return e=new Rb(e,n,s,p,C,j,F,X,T),n=1,f===!0&&(n|=24),f=In(3,null,null,n),e.current=f,f.stateNode=e,n=af(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},cf(f),e}function D_(e){return e?(e=Sa,e):Sa}function O_(e,n,s,l,h,f){h=D_(h),l.context===null?l.context=h:l.pendingContext=h,l=js(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=zs(e,l,n),s!==null&&(Sn(s,e,n),$l(s,e,n))}function M_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Cd(e,n){M_(e,n),(e=e.alternate)&&M_(e,n)}function V_(e){if(e.tag===13||e.tag===31){var n=Pr(e,67108864);n!==null&&Sn(n,e,67108864),Cd(e,67108864)}}function k_(e){if(e.tag===13||e.tag===31){var n=Vn();n=Rr(n);var s=Pr(e,n);s!==null&&Sn(s,e,n),Cd(e,n)}}var Rc=!0;function xb(e,n,s,l){var h=G.T;G.T=null;var f=rt.p;try{rt.p=2,Id(e,n,s,l)}finally{rt.p=f,G.T=h}}function Cb(e,n,s,l){var h=G.T;G.T=null;var f=rt.p;try{rt.p=8,Id(e,n,s,l)}finally{rt.p=f,G.T=h}}function Id(e,n,s,l){if(Rc){var h=Nd(l);if(h===null)pd(e,n,l,xc,s),U_(e,l);else if(Nb(h,e,n,s,l))l.stopPropagation();else if(U_(e,l),n&4&&-1<Ib.indexOf(e)){for(;h!==null;){var f=Pn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=gi(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var C=1<<31-Ae(p);T.entanglements[1]|=C,p&=~C}ki(f),(Zt&6)===0&&(uc=kt()+500,fo(0))}}break;case 31:case 13:T=Pr(f,2),T!==null&&Sn(T,f,2),hc(),Cd(f,2)}if(f=Nd(l),f===null&&pd(e,n,l,xc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else pd(e,n,l,null,s)}}function Nd(e){return e=jn(e),Dd(e)}var xc=null;function Dd(e){if(xc=null,e=Ti(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return xc=e,null}function L_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ye()){case le:return 2;case fn:return 8;case dn:case As:return 32;case ru:return 268435456;default:return 32}default:return 32}}var Od=!1,Zs=null,Js=null,Ws=null,Eo=new Map,To=new Map,tr=[],Ib="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U_(e,n){switch(e){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":Eo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":To.delete(n.pointerId)}}function bo(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Pn(n),n!==null&&V_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Nb(e,n,s,l,h){switch(n){case"focusin":return Zs=bo(Zs,e,n,s,l,h),!0;case"dragenter":return Js=bo(Js,e,n,s,l,h),!0;case"mouseover":return Ws=bo(Ws,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return Eo.set(f,bo(Eo.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,To.set(f,bo(To.get(f)||null,e,n,s,l,h)),!0}return!1}function P_(e){var n=Ti(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,ei(e.priority,function(){k_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,ei(e.priority,function(){k_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Nd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Vl=l,s.target.dispatchEvent(l),Vl=null}else return n=Pn(s),n!==null&&V_(n),e.blockedOn=s,!1;n.shift()}return!0}function j_(e,n,s){Cc(e)&&s.delete(n)}function Db(){Od=!1,Zs!==null&&Cc(Zs)&&(Zs=null),Js!==null&&Cc(Js)&&(Js=null),Ws!==null&&Cc(Ws)&&(Ws=null),Eo.forEach(j_),To.forEach(j_)}function Ic(e,n){e.blockedOn===n&&(e.blockedOn=null,Od||(Od=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Db)))}var Nc=null;function z_(e){Nc!==e&&(Nc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Nc===e&&(Nc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Dd(l||s)===null)continue;break}var f=Pn(s);f!==null&&(e.splice(n,3),n-=3,Nf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Ka(e){function n(C){return Ic(C,e)}Zs!==null&&Ic(Zs,e),Js!==null&&Ic(Js,e),Ws!==null&&Ic(Ws,e),Eo.forEach(n),To.forEach(n);for(var s=0;s<tr.length;s++){var l=tr[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<tr.length&&(s=tr[0],s.blockedOn===null);)P_(s),s.blockedOn===null&&tr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],p=h[Qe]||null;if(typeof f=="function")p||z_(s);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Qe]||null)T=p.formAction;else if(Dd(h)!==null)continue}else T=p.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),z_(s)}}}function B_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Md(e){this._internalRoot=e}Dc.prototype.render=Md.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Vn();O_(s,l,e,n,null,null)},Dc.prototype.unmount=Md.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;O_(e.current,2,null,e,null,null),hc(),n[vi]=null}};function Dc(e){this._internalRoot=e}Dc.prototype.unstable_scheduleHydration=function(e){if(e){var n=hu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<tr.length&&n!==0&&n<tr[s].priority;s++);tr.splice(s,0,e),s===0&&P_(e)}};var H_=t.version;if(H_!=="19.2.3")throw Error(a(527,H_,"19.2.3"));rt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var Ob={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{Wn=Oc.inject(Ob),Ze=Oc}catch{}}return Ao.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=Xg,f=$g,p=Zg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=N_(e,1,!1,null,null,s,l,null,h,f,p,B_),e[vi]=n.current,md(e),new Md(n)},Ao.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=Xg,p=$g,T=Zg,C=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=N_(e,1,!0,n,s??null,l,h,C,f,p,T,B_),n.context=D_(null),s=n.current,l=Vn(),l=Rr(l),h=js(l),h.callback=null,zs(s,h,l),s=l,n.current.lanes=s,Ar(n,s),ki(n),e[vi]=n.current,md(e),new Dc(n)},Ao.version="19.2.3",Ao}var J_;function Hb(){if(J_)return Ld.exports;J_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ld.exports=Bb(),Ld.exports}var qb=Hb();const Gb=()=>{};var W_={};const Iv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Fb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Nv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,y=o+2<r.length,_=y?r[o+2]:0,E=c>>2,w=(c&3)<<4|g>>4;let M=(g&15)<<2|_>>6,q=_&63;y||(q=64,d||(M=64)),a.push(i[E],i[w],i[M],i[q])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Iv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Fb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const w=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||_==null||w==null)throw new Qb;const M=c<<2|g>>4;if(a.push(M),_!==64){const q=g<<4&240|_>>2;if(a.push(q),w!==64){const nt=_<<6&192|w;a.push(nt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Qb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kb=function(r){const t=Iv(r);return Nv.encodeByteArray(t,!0)},Jc=function(r){return Kb(r).replace(/\./g,"")},Dv=function(r){try{return Nv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Yb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Xb=()=>Yb().__FIREBASE_DEFAULTS__,$b=()=>{if(typeof process>"u"||typeof W_>"u")return;const r=W_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Zb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Dv(r[1]);return t&&JSON.parse(t)},yh=()=>{try{return Gb()||Xb()||$b()||Zb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Ov=r=>yh()?.emulatorHosts?.[r],Jb=r=>{const t=Ov(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Mv=()=>yh()?.config,Vv=r=>yh()?.[`_${r}`];class Wb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function gl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kv(r){return(await fetch(r,{credentials:"include"})).ok}function tS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Jc(JSON.stringify(i)),Jc(JSON.stringify(d)),""].join(".")}const Io={};function eS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Io))Io[t]?r.emulator.push(t):r.prod.push(t);return r}function nS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let t0=!1;function Lv(r,t){if(typeof window>"u"||typeof document>"u"||!gl(window.location.host)||Io[r]===t||Io[r]||t0)return;Io[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=eS().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,q){M.setAttribute("width","24"),M.setAttribute("id",q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{t0=!0,d()},M}function E(M,q){M.setAttribute("id",q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=nS(a),q=i("text"),nt=document.getElementById(q)||document.createElement("span"),st=i("learnmore"),et=document.getElementById(st)||document.createElement("a"),gt=i("preprendIcon"),St=document.getElementById(gt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const vt=M.element;g(vt),E(et,st);const Ft=_();y(St,gt),vt.append(St,nt,et,Ft),document.body.appendChild(vt)}c?(nt.innerText="Preview backend disconnected.",St.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(St.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,nt.innerText="Preview backend running in this workspace."),nt.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function sS(){const r=yh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function lS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oS(){const r=hn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function uS(){return!sS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cS(){try{return typeof indexedDB=="object"}catch{return!1}}function hS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const fS="FirebaseError";class Es extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=fS,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fo.prototype.create)}}class Fo{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?dS(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Es(o,g,a)}}function dS(r,t){return r.replace(mS,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const mS=/\{\$([^}]+)}/g;function pS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function dr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(e0(c)&&e0(d)){if(!dr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function e0(r){return r!==null&&typeof r=="object"}function Qo(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function gS(r,t){const i=new yS(r,t);return i.subscribe.bind(i)}class yS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");_S(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=zd),o.error===void 0&&(o.error=zd),o.complete===void 0&&(o.complete=zd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _S(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function zd(){}function gn(r){return r&&r._delegate?r._delegate:r}class ta{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Zr="[DEFAULT]";class vS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Wb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(TS(t))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=Zr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zr){return this.instances.has(t)}getOptions(t=Zr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:ES(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Zr){return this.component?this.component.multipleInstances?t:Zr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ES(r){return r===Zr?void 0:r}function TS(r){return r.instantiationMode==="EAGER"}class bS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new vS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const SS={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},AS=Pt.INFO,wS={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},RS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=wS[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Om{constructor(t){this.name=t,this._logLevel=AS,this._logHandler=RS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?SS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const xS=(r,t)=>t.some(i=>r instanceof i);let n0,i0;function CS(){return n0||(n0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IS(){return i0||(i0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uv=new WeakMap,nm=new WeakMap,Pv=new WeakMap,Bd=new WeakMap,Mm=new WeakMap;function NS(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(or(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Uv.set(i,r)}).catch(()=>{}),Mm.set(t,r),t}function DS(r){if(nm.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});nm.set(r,t)}let im={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return nm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Pv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return or(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function OS(r){im=r(im)}function MS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Hd(this),t,...i);return Pv.set(a,t.sort?t.sort():[t]),or(a)}:IS().includes(r)?function(...t){return r.apply(Hd(this),t),or(Uv.get(this))}:function(...t){return or(r.apply(Hd(this),t))}}function VS(r){return typeof r=="function"?MS(r):(r instanceof IDBTransaction&&DS(r),xS(r,CS())?new Proxy(r,im):r)}function or(r){if(r instanceof IDBRequest)return NS(r);if(Bd.has(r))return Bd.get(r);const t=VS(r);return t!==r&&(Bd.set(r,t),Mm.set(t,r)),t}const Hd=r=>Mm.get(r);function kS(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),g=or(d);return a&&d.addEventListener("upgradeneeded",y=>{a(or(d.result),y.oldVersion,y.newVersion,or(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const LS=["get","getKey","getAll","getAllKeys","count"],US=["put","add","delete","clear"],qd=new Map;function s0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(qd.get(t))return qd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=US.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||LS.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&y.done]))[0]};return qd.set(t,c),c}OS(r=>({...r,get:(t,i,a)=>s0(t,i)||r.get(t,i,a),has:(t,i)=>!!s0(t,i)||r.has(t,i)}));class PS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(jS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function jS(r){return r.getComponent()?.type==="VERSION"}const sm="@firebase/app",r0="0.14.6";const ms=new Om("@firebase/app"),zS="@firebase/app-compat",BS="@firebase/analytics-compat",HS="@firebase/analytics",qS="@firebase/app-check-compat",GS="@firebase/app-check",FS="@firebase/auth",QS="@firebase/auth-compat",KS="@firebase/database",YS="@firebase/data-connect",XS="@firebase/database-compat",$S="@firebase/functions",ZS="@firebase/functions-compat",JS="@firebase/installations",WS="@firebase/installations-compat",tA="@firebase/messaging",eA="@firebase/messaging-compat",nA="@firebase/performance",iA="@firebase/performance-compat",sA="@firebase/remote-config",rA="@firebase/remote-config-compat",aA="@firebase/storage",lA="@firebase/storage-compat",oA="@firebase/firestore",uA="@firebase/ai",cA="@firebase/firestore-compat",hA="firebase",fA="12.6.0";const rm="[DEFAULT]",dA={[sm]:"fire-core",[zS]:"fire-core-compat",[HS]:"fire-analytics",[BS]:"fire-analytics-compat",[GS]:"fire-app-check",[qS]:"fire-app-check-compat",[FS]:"fire-auth",[QS]:"fire-auth-compat",[KS]:"fire-rtdb",[YS]:"fire-data-connect",[XS]:"fire-rtdb-compat",[$S]:"fire-fn",[ZS]:"fire-fn-compat",[JS]:"fire-iid",[WS]:"fire-iid-compat",[tA]:"fire-fcm",[eA]:"fire-fcm-compat",[nA]:"fire-perf",[iA]:"fire-perf-compat",[sA]:"fire-rc",[rA]:"fire-rc-compat",[aA]:"fire-gcs",[lA]:"fire-gcs-compat",[oA]:"fire-fst",[cA]:"fire-fst-compat",[uA]:"fire-vertex","fire-js":"fire-js",[hA]:"fire-js-all"};const Wc=new Map,mA=new Map,am=new Map;function a0(r,t){try{r.container.addComponent(t)}catch(i){ms.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function ol(r){const t=r.name;if(am.has(t))return ms.debug(`There were multiple attempts to register component ${t}.`),!1;am.set(t,r);for(const i of Wc.values())a0(i,r);for(const i of mA.values())a0(i,r);return!0}function Vm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Zn(r){return r==null?!1:r.settings!==void 0}const pA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new Fo("app","Firebase",pA);class gA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}const yl=fA;function jv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:rm,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw ur.create("bad-app-name",{appName:String(o)});if(i||(i=Mv()),!i)throw ur.create("no-options");const c=Wc.get(o);if(c){if(dr(i,c.options)&&dr(a,c.config))return c;throw ur.create("duplicate-app",{appName:o})}const d=new bS(o);for(const y of am.values())d.addComponent(y);const g=new gA(i,a,d);return Wc.set(o,g),g}function zv(r=rm){const t=Wc.get(r);if(!t&&r===rm&&Mv())return jv();if(!t)throw ur.create("no-app",{appName:r});return t}function cr(r,t,i){let a=dA[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ms.warn(d.join(" "));return}ol(new ta(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const yA="firebase-heartbeat-database",_A=1,Lo="firebase-heartbeat-store";let Gd=null;function Bv(){return Gd||(Gd=kS(yA,_A,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Lo)}catch(i){console.warn(i)}}}}).catch(r=>{throw ur.create("idb-open",{originalErrorMessage:r.message})})),Gd}async function vA(r){try{const i=(await Bv()).transaction(Lo),a=await i.objectStore(Lo).get(Hv(r));return await i.done,a}catch(t){if(t instanceof Es)ms.warn(t.message);else{const i=ur.create("idb-get",{originalErrorMessage:t?.message});ms.warn(i.message)}}}async function l0(r,t){try{const a=(await Bv()).transaction(Lo,"readwrite");await a.objectStore(Lo).put(t,Hv(r)),await a.done}catch(i){if(i instanceof Es)ms.warn(i.message);else{const a=ur.create("idb-set",{originalErrorMessage:i?.message});ms.warn(a.message)}}}function Hv(r){return`${r.name}!${r.options.appId}`}const EA=1024,TA=30;class bA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new AA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=o0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>TA){const o=wA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ms.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=o0(),{heartbeatsToSend:i,unsentEntries:a}=SA(this._heartbeatsCache.heartbeats),o=Jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ms.warn(t),""}}}function o0(){return new Date().toISOString().substring(0,10)}function SA(r,t=EA){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),u0(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),u0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class AA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cS()?hS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await vA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return l0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return l0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function u0(r){return Jc(JSON.stringify({version:2,heartbeats:r})).length}function wA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function RA(r){ol(new ta("platform-logger",t=>new PS(t),"PRIVATE")),ol(new ta("heartbeat",t=>new bA(t),"PRIVATE")),cr(sm,r0,r),cr(sm,r0,"esm2020"),cr("fire-js","")}RA("");var xA="firebase",CA="12.7.0";cr(xA,CA,"app");function qv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IA=qv,Gv=new Fo("auth","Firebase",qv());const th=new Om("@firebase/auth");function NA(r,...t){th.logLevel<=Pt.WARN&&th.warn(`Auth (${yl}): ${r}`,...t)}function Bc(r,...t){th.logLevel<=Pt.ERROR&&th.error(`Auth (${yl}): ${r}`,...t)}function ps(r,...t){throw km(r,...t)}function Ui(r,...t){return km(r,...t)}function Fv(r,t,i){const a={...IA(),[t]:i};return new Fo("auth","Firebase",a).create(t,{appName:r.name})}function ds(r){return Fv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function km(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Gv.create(r,...t)}function bt(r,t,...i){if(!r)throw km(t,...i)}function hs(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Bc(t),new Error(t)}function gs(r,t){r||hs(t)}function lm(){return typeof self<"u"&&self.location?.href||""}function DA(){return c0()==="http:"||c0()==="https:"}function c0(){return typeof self<"u"&&self.location?.protocol||null}function OA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DA()||aS()||"connection"in navigator)?navigator.onLine:!0}function MA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Ko{constructor(t,i){this.shortDelay=t,this.longDelay=i,gs(i>t,"Short delay should be less than long delay!"),this.isMobile=iS()||lS()}get(){return OA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lm(r,t){gs(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Qv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const VA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const kA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LA=new Ko(3e4,6e4);function Yo(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function _l(r,t,i,a,o={}){return Kv(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Qo({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return rS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&gl(r.emulatorConfig.host)&&(_.credentials="include"),Qv.fetch()(await Yv(r,r.config.apiHost,i,g),_)})}async function Kv(r,t,i){r._canInitEmulator=!1;const a={...VA,...t};try{const o=new UA(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Mc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Mc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Mc(r,"user-disabled",d);const E=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Fv(r,E,_);ps(r,E)}}catch(o){if(o instanceof Es)throw o;ps(r,"network-request-failed",{message:String(o)})}}async function Um(r,t,i,a,o={}){const c=await _l(r,t,i,a,o);return"mfaPendingCredential"in c&&ps(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Yv(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?Lm(r.config,o):`${r.config.apiScheme}://${o}`;return kA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class UA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ui(this.auth,"network-request-failed")),LA.get())})}}function Mc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Ui(r,t,a);return o.customData._tokenResponse=i,o}async function PA(r,t){return _l(r,"POST","/v1/accounts:delete",t)}async function eh(r,t){return _l(r,"POST","/v1/accounts:lookup",t)}function No(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function jA(r,t=!1){const i=gn(r),a=await i.getIdToken(t),o=Pm(a);bt(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:No(Fd(o.auth_time)),issuedAtTime:No(Fd(o.iat)),expirationTime:No(Fd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Fd(r){return Number(r)*1e3}function Pm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Dv(i);return o?JSON.parse(o):(Bc("Failed to decode base64 JWT payload"),null)}catch(o){return Bc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function h0(r){const t=Pm(r);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Uo(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Es&&zA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function zA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class BA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class om{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=No(this.lastLoginAt),this.creationTime=No(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nh(r){const t=r.auth,i=await r.getIdToken(),a=await Uo(r,eh(t,{idToken:i}));bt(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?Xv(o.providerUserInfo):[],d=qA(r.providerData,c),g=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!d?.length,_=g?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new om(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,E)}async function HA(r){const t=gn(r);await nh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function qA(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function Xv(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function GA(r,t){const i=await Kv(r,{},async()=>{const a=Qo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await Yv(r,o,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:a};return r.emulatorConfig&&gl(r.emulatorConfig.host)&&(y.credentials="include"),Qv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function FA(r,t){return _l(r,"POST","/v2/accounts:revokeToken",Yo(r,t))}class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):h0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const i=h0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await GA(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new il;return a&&(bt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(bt(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(bt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return hs("not implemented")}}function nr(r,t){bt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class hi{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new BA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new om(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Uo(this,this.stsTokenManager.getToken(this.auth,t));return bt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return jA(this,t)}reload(){return HA(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new hi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await nh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(ds(this.auth));const t=await this.getIdToken();return await Uo(this,PA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:q,providerData:nt,stsTokenManager:st}=i;bt(w&&st,t,"internal-error");const et=il.fromJSON(this.name,st);bt(typeof w=="string",t,"internal-error"),nr(a,t.name),nr(o,t.name),bt(typeof M=="boolean",t,"internal-error"),bt(typeof q=="boolean",t,"internal-error"),nr(c,t.name),nr(d,t.name),nr(g,t.name),nr(y,t.name),nr(_,t.name),nr(E,t.name);const gt=new hi({uid:w,auth:t,email:o,emailVerified:M,displayName:a,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:et,createdAt:_,lastLoginAt:E});return nt&&Array.isArray(nt)&&(gt.providerData=nt.map(St=>({...St}))),y&&(gt._redirectEventId=y),gt}static async _fromIdTokenResponse(t,i,a=!1){const o=new il;o.updateFromServerResponse(i);const c=new hi({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await nh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];bt(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Xv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new il;g.updateFromIdToken(a);const y=new hi({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new om(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const f0=new Map;function fs(r){gs(r instanceof Function,"Expected a class definition");let t=f0.get(r);return t?(gs(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,f0.set(r,t),t)}class $v{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}$v.type="NONE";const d0=$v;function Hc(r,t,i){return`firebase:${r}:${t}:${i}`}class sl{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Hc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Hc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await eh(this.auth,{idToken:t}).catch(()=>{});return i?hi._fromGetAccountInfoResponse(this.auth,i,t):null}return hi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new sl(fs(d0),t,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||fs(d0);const d=Hc(a,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const E=await _._get(d);if(E){let w;if(typeof E=="string"){const M=await eh(t,{idToken:E}).catch(()=>{});if(!M)break;w=await hi._fromGetAccountInfoResponse(t,M,E)}else w=hi._fromJSON(t,E);_!==c&&(g=w),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new sl(c,t,a):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new sl(c,t,a))}}function m0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(tE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Zv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(nE(t))return"Blackberry";if(iE(t))return"Webos";if(Jv(t))return"Safari";if((t.includes("chrome/")||Wv(t))&&!t.includes("edge/"))return"Chrome";if(eE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Zv(r=hn()){return/firefox\//i.test(r)}function Jv(r=hn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Wv(r=hn()){return/crios\//i.test(r)}function tE(r=hn()){return/iemobile/i.test(r)}function eE(r=hn()){return/android/i.test(r)}function nE(r=hn()){return/blackberry/i.test(r)}function iE(r=hn()){return/webos/i.test(r)}function jm(r=hn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function QA(r=hn()){return jm(r)&&!!window.navigator?.standalone}function KA(){return oS()&&document.documentMode===10}function sE(r=hn()){return jm(r)||eE(r)||iE(r)||nE(r)||/windows phone/i.test(r)||tE(r)}function rE(r,t=[]){let i;switch(r){case"Browser":i=m0(hn());break;case"Worker":i=`${m0(hn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${yl}/${a}`}class YA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const y=t(c);d(y)}catch(y){g(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function XA(r,t={}){return _l(r,"GET","/v2/passwordPolicy",Yo(r,t))}const $A=6;class ZA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??$A,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class JA{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p0(this),this.idTokenSubscription=new p0(this),this.beforeStateQueue=new YA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=fs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await sl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await eh(this,{idToken:t}),a=await hi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await nh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=MA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Zn(this.app))return Promise.reject(ds(this));const i=t?gn(t):null;return i&&bt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Zn(this.app)?Promise.reject(ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await XA(this),i=new ZA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Fo("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await FA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&fs(t)||this._popupRedirectResolver;bt(i,this,"argument-error"),this.redirectPersistenceManager=await sl.create(this,[fs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=rE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&NA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Xo(r){return gn(r)}class p0{constructor(t){this.auth=t,this.observer=null,this.addObserver=gS(i=>this.observer=i)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WA(r){zm=r}function t2(r){return zm.loadJS(r)}function e2(){return zm.gapiScript}function n2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function i2(r,t){const i=Vm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(dr(c,t??{}))return o;ps(o,"already-initialized")}return i.initialize({options:t})}function s2(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(fs);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function r2(r,t,i){const a=Xo(r);bt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=aE(t),{host:d,port:g}=a2(t),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},E=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){bt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),bt(dr(_,a.config.emulator)&&dr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,gl(d)?(kv(`${c}//${d}${y}`),Lv("Auth",!0)):l2()}function aE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function a2(r){const t=aE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:g0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:g0(d)}}}function g0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function l2(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class lE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return hs("not implemented")}_getIdTokenResponse(t){return hs("not implemented")}_linkToIdToken(t,i){return hs("not implemented")}_getReauthenticationResolver(t){return hs("not implemented")}}async function rl(r,t){return Um(r,"POST","/v1/accounts:signInWithIdp",Yo(r,t))}const o2="http://localhost";class ea extends lE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ea(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ps("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new ea(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return rl(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,rl(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,rl(t,i)}buildRequest(){const t={requestUri:o2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Qo(i)}return t}}class oE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class $o extends oE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ir extends $o{constructor(){super("facebook.com")}static credential(t){return ea._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ir.credential(t.oauthAccessToken)}catch{return null}}}ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";ir.PROVIDER_ID="facebook.com";class sr extends $o{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ea._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return sr.credential(i,a)}catch{return null}}}sr.GOOGLE_SIGN_IN_METHOD="google.com";sr.PROVIDER_ID="google.com";class rr extends $o{constructor(){super("github.com")}static credential(t){return ea._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return rr.credential(t.oauthAccessToken)}catch{return null}}}rr.GITHUB_SIGN_IN_METHOD="github.com";rr.PROVIDER_ID="github.com";class ar extends $o{constructor(){super("twitter.com")}static credential(t,i){return ea._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return ar.credential(i,a)}catch{return null}}}ar.TWITTER_SIGN_IN_METHOD="twitter.com";ar.PROVIDER_ID="twitter.com";async function u2(r,t){return Um(r,"POST","/v1/accounts:signUp",Yo(r,t))}class ys{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await hi._fromIdTokenResponse(t,a,o),d=y0(a);return new ys({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=y0(a);return new ys({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function y0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function c2(r){if(Zn(r.app))return Promise.reject(ds(r));const t=Xo(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ys({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await u2(t,{returnSecureToken:!0}),a=await ys._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class ih extends Es{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new ih(t,i,a,o)}}function uE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(r,c,t,a):c})}async function h2(r,t,i=!1){const a=await Uo(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ys._forOperation(r,"link",a)}async function f2(r,t,i=!1){const{auth:a}=r;if(Zn(a.app))return Promise.reject(ds(a));const o="reauthenticate";try{const c=await Uo(r,uE(a,o,t,r),i);bt(c.idToken,a,"internal-error");const d=Pm(c.idToken);bt(d,a,"internal-error");const{sub:g}=d;return bt(r.uid===g,a,"user-mismatch"),ys._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ps(a,"user-mismatch"),c}}async function d2(r,t,i=!1){if(Zn(r.app))return Promise.reject(ds(r));const a="signIn",o=await uE(r,a,t),c=await ys._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}async function m2(r,t){return Um(r,"POST","/v1/accounts:signInWithCustomToken",Yo(r,t))}async function p2(r,t){if(Zn(r.app))return Promise.reject(ds(r));const i=Xo(r),a=await m2(i,{token:t,returnSecureToken:!0}),o=await ys._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function g2(r,t,i,a){return gn(r).onIdTokenChanged(t,i,a)}function y2(r,t,i){return gn(r).beforeAuthStateChanged(t,i)}function _2(r,t,i,a){return gn(r).onAuthStateChanged(t,i,a)}const sh="__sak";class cE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const v2=1e3,E2=10;class hE extends cE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);KA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,E2):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},v2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}hE.type="LOCAL";const T2=hE;class fE extends cE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}fE.type="SESSION";const dE=fE;function b2(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class _h{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new _h(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await b2(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];function Bm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class S2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=Bm("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const M=w;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Pi(){return window}function A2(r){Pi().location.href=r}function mE(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function w2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function R2(){return navigator?.serviceWorker?.controller||null}function x2(){return mE()?self:null}const pE="firebaseLocalStorageDb",C2=1,rh="firebaseLocalStorage",gE="fbase_key";class Zo{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function vh(r,t){return r.transaction([rh],t?"readwrite":"readonly").objectStore(rh)}function I2(){const r=indexedDB.deleteDatabase(pE);return new Zo(r).toPromise()}function um(){const r=indexedDB.open(pE,C2);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(rh,{keyPath:gE})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(rh)?t(a):(a.close(),await I2(),t(await um()))})})}async function _0(r,t,i){const a=vh(r,!0).put({[gE]:t,value:i});return new Zo(a).toPromise()}async function N2(r,t){const i=vh(r,!1).get(t),a=await new Zo(i).toPromise();return a===void 0?null:a.value}function v0(r,t){const i=vh(r,!0).delete(t);return new Zo(i).toPromise()}const D2=800,O2=3;class yE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await um(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>O2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(x2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await w2(),!this.activeServiceWorker)return;this.sender=new S2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||R2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await um();return await _0(t,sh,"1"),await v0(t,sh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>_0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>N2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>v0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=vh(o,!1).getAll();return new Zo(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),D2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yE.type="LOCAL";const M2=yE;new Ko(3e4,6e4);function V2(r,t){return t?fs(t):(bt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Hm extends lE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return rl(t,this._buildIdpRequest())}_linkToIdToken(t,i){return rl(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return rl(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function k2(r){return d2(r.auth,new Hm(r),r.bypassAuthState)}function L2(r){const{auth:t,user:i}=r;return bt(i,t,"internal-error"),f2(i,new Hm(r),r.bypassAuthState)}async function U2(r){const{auth:t,user:i}=r;return bt(i,t,"internal-error"),h2(i,new Hm(r),r.bypassAuthState)}class _E{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return k2;case"linkViaPopup":case"linkViaRedirect":return U2;case"reauthViaPopup":case"reauthViaRedirect":return L2;default:ps(this.auth,"internal-error")}}resolve(t){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const P2=new Ko(2e3,1e4);class tl extends _E{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,tl.currentPopupAction&&tl.currentPopupAction.cancel(),tl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const t=Bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,P2.get())};t()}}tl.currentPopupAction=null;const j2="pendingRedirect",qc=new Map;class z2 extends _E{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=qc.get(this.auth._key());if(!t){try{const a=await B2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}qc.set(this.auth._key(),t)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function B2(r,t){const i=G2(t),a=q2(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function H2(r,t){qc.set(r._key(),t)}function q2(r){return fs(r._redirectPersistence)}function G2(r){return Hc(j2,r.config.apiKey,r.name)}async function F2(r,t,i=!1){if(Zn(r.app))return Promise.reject(ds(r));const a=Xo(r),o=V2(a,t),d=await new z2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Q2=600*1e3;class K2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Y2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!vE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ui(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Q2&&this.cachedEventUids.clear(),this.cachedEventUids.has(E0(t))}saveEventToCache(t){this.cachedEventUids.add(E0(t)),this.lastProcessedEventTime=Date.now()}}function E0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function vE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Y2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vE(r);default:return!1}}async function X2(r,t={}){return _l(r,"GET","/v1/projects",t)}const $2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Z2=/^https?/;async function J2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await X2(r);for(const i of t)try{if(W2(i))return}catch{}ps(r,"unauthorized-domain")}function W2(r){const t=lm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Z2.test(i))return!1;if($2.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const tw=new Ko(3e4,6e4);function T0(){const r=Pi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function ew(r){return new Promise((t,i)=>{function a(){T0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{T0(),i(Ui(r,"network-request-failed"))},timeout:tw.get()})}if(Pi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Pi().gapi?.load)a();else{const o=n2("iframefcb");return Pi()[o]=()=>{gapi.load?a():i(Ui(r,"network-request-failed"))},t2(`${e2()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Gc=null,t})}let Gc=null;function nw(r){return Gc=Gc||ew(r),Gc}const iw=new Ko(5e3,15e3),sw="__/auth/iframe",rw="emulator/auth/iframe",aw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ow(r){const t=r.config;bt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Lm(t,rw):`https://${r.config.authDomain}/${sw}`,a={apiKey:t.apiKey,appName:r.name,v:yl},o=lw.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Qo(a).slice(1)}`}async function uw(r){const t=await nw(r),i=Pi().gapi;return bt(i,r,"internal-error"),t.open({where:document.body,url:ow(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ui(r,"network-request-failed"),g=Pi().setTimeout(()=>{c(d)},iw.get());function y(){Pi().clearTimeout(g),o(a)}a.ping(y).then(y,()=>{c(d)})}))}const cw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hw=500,fw=600,dw="_blank",mw="http://localhost";class b0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pw(r,t,i,a=hw,o=fw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y={...cw,width:a.toString(),height:o.toString(),top:c,left:d},_=hn().toLowerCase();i&&(g=Wv(_)?dw:i),Zv(_)&&(t=t||mw,y.scrollbars="yes");const E=Object.entries(y).reduce((M,[q,nt])=>`${M}${q}=${nt},`,"");if(QA(_)&&g!=="_self")return gw(t||"",g),new b0(null);const w=window.open(t||"",g,E);bt(w,r,"popup-blocked");try{w.focus()}catch{}return new b0(w)}function gw(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const yw="__/auth/handler",_w="emulator/auth/handler",vw=encodeURIComponent("fac");async function S0(r,t,i,a,o,c){bt(r.config.authDomain,r,"auth-domain-config-required"),bt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:yl,eventId:o};if(t instanceof oE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",pS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,w]of Object.entries({}))d[E]=w}if(t instanceof $o){const E=t.getScopes().filter(w=>w!=="");E.length>0&&(d.scopes=E.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const y=await r._getAppCheckToken(),_=y?`#${vw}=${encodeURIComponent(y)}`:"";return`${Ew(r)}?${Qo(g).slice(1)}${_}`}function Ew({config:r}){return r.emulator?Lm(r,_w):`https://${r.authDomain}/${yw}`}const Qd="webStorageSupport";class Tw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dE,this._completeRedirectFn=F2,this._overrideRedirectResult=H2}async _openPopup(t,i,a,o){gs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await S0(t,i,a,lm(),o);return pw(t,c,Bm())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await S0(t,i,a,lm(),o);return A2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(gs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await uw(t),a=new K2(t);return i.register("authEvent",o=>(bt(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Qd,{type:Qd},o=>{const c=o?.[0]?.[Qd];c!==void 0&&i(!!c),ps(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=J2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return sE()||Jv()||jm()}}const bw=Tw;var A0="@firebase/auth",w0="1.12.0";class Sw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Aw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ww(r){ol(new ta("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;bt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rE(r)},_=new JA(a,o,c,y);return s2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),ol(new ta("auth-internal",t=>{const i=Xo(t.getProvider("auth").getImmediate());return(a=>new Sw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),cr(A0,w0,Aw(r)),cr(A0,w0,"esm2020")}const Rw=300,xw=Vv("authIdTokenMaxAge")||Rw;let R0=null;const Cw=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>xw)return;const o=i?.token;R0!==o&&(R0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Iw(r=zv()){const t=Vm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=i2(r,{popupRedirectResolver:bw,persistence:[M2,T2,dE]}),a=Vv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Cw(c.toString());y2(i,d,()=>d(i.currentUser)),g2(i,g=>d(g))}}const o=Ov("auth");return o&&r2(i,`http://${o}`),i}function Nw(){return document.getElementsByTagName("head")?.[0]??document}WA({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=Ui("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",Nw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ww("Browser");var x0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hr,EE;(function(){var r;function t(I,A){function x(){}x.prototype=A.prototype,I.F=A.prototype,I.prototype=new x,I.prototype.constructor=I,I.D=function(V,N,L){for(var R=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)R[ue-2]=arguments[ue];return A.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,x){x||(x=0);const V=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)V[N]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(N=0;N<16;++N)V[N]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=I.g[0],x=I.g[1],N=I.g[2];let L=I.g[3],R;R=A+(L^x&(N^L))+V[0]+3614090360&4294967295,A=x+(R<<7&4294967295|R>>>25),R=L+(N^A&(x^N))+V[1]+3905402710&4294967295,L=A+(R<<12&4294967295|R>>>20),R=N+(x^L&(A^x))+V[2]+606105819&4294967295,N=L+(R<<17&4294967295|R>>>15),R=x+(A^N&(L^A))+V[3]+3250441966&4294967295,x=N+(R<<22&4294967295|R>>>10),R=A+(L^x&(N^L))+V[4]+4118548399&4294967295,A=x+(R<<7&4294967295|R>>>25),R=L+(N^A&(x^N))+V[5]+1200080426&4294967295,L=A+(R<<12&4294967295|R>>>20),R=N+(x^L&(A^x))+V[6]+2821735955&4294967295,N=L+(R<<17&4294967295|R>>>15),R=x+(A^N&(L^A))+V[7]+4249261313&4294967295,x=N+(R<<22&4294967295|R>>>10),R=A+(L^x&(N^L))+V[8]+1770035416&4294967295,A=x+(R<<7&4294967295|R>>>25),R=L+(N^A&(x^N))+V[9]+2336552879&4294967295,L=A+(R<<12&4294967295|R>>>20),R=N+(x^L&(A^x))+V[10]+4294925233&4294967295,N=L+(R<<17&4294967295|R>>>15),R=x+(A^N&(L^A))+V[11]+2304563134&4294967295,x=N+(R<<22&4294967295|R>>>10),R=A+(L^x&(N^L))+V[12]+1804603682&4294967295,A=x+(R<<7&4294967295|R>>>25),R=L+(N^A&(x^N))+V[13]+4254626195&4294967295,L=A+(R<<12&4294967295|R>>>20),R=N+(x^L&(A^x))+V[14]+2792965006&4294967295,N=L+(R<<17&4294967295|R>>>15),R=x+(A^N&(L^A))+V[15]+1236535329&4294967295,x=N+(R<<22&4294967295|R>>>10),R=A+(N^L&(x^N))+V[1]+4129170786&4294967295,A=x+(R<<5&4294967295|R>>>27),R=L+(x^N&(A^x))+V[6]+3225465664&4294967295,L=A+(R<<9&4294967295|R>>>23),R=N+(A^x&(L^A))+V[11]+643717713&4294967295,N=L+(R<<14&4294967295|R>>>18),R=x+(L^A&(N^L))+V[0]+3921069994&4294967295,x=N+(R<<20&4294967295|R>>>12),R=A+(N^L&(x^N))+V[5]+3593408605&4294967295,A=x+(R<<5&4294967295|R>>>27),R=L+(x^N&(A^x))+V[10]+38016083&4294967295,L=A+(R<<9&4294967295|R>>>23),R=N+(A^x&(L^A))+V[15]+3634488961&4294967295,N=L+(R<<14&4294967295|R>>>18),R=x+(L^A&(N^L))+V[4]+3889429448&4294967295,x=N+(R<<20&4294967295|R>>>12),R=A+(N^L&(x^N))+V[9]+568446438&4294967295,A=x+(R<<5&4294967295|R>>>27),R=L+(x^N&(A^x))+V[14]+3275163606&4294967295,L=A+(R<<9&4294967295|R>>>23),R=N+(A^x&(L^A))+V[3]+4107603335&4294967295,N=L+(R<<14&4294967295|R>>>18),R=x+(L^A&(N^L))+V[8]+1163531501&4294967295,x=N+(R<<20&4294967295|R>>>12),R=A+(N^L&(x^N))+V[13]+2850285829&4294967295,A=x+(R<<5&4294967295|R>>>27),R=L+(x^N&(A^x))+V[2]+4243563512&4294967295,L=A+(R<<9&4294967295|R>>>23),R=N+(A^x&(L^A))+V[7]+1735328473&4294967295,N=L+(R<<14&4294967295|R>>>18),R=x+(L^A&(N^L))+V[12]+2368359562&4294967295,x=N+(R<<20&4294967295|R>>>12),R=A+(x^N^L)+V[5]+4294588738&4294967295,A=x+(R<<4&4294967295|R>>>28),R=L+(A^x^N)+V[8]+2272392833&4294967295,L=A+(R<<11&4294967295|R>>>21),R=N+(L^A^x)+V[11]+1839030562&4294967295,N=L+(R<<16&4294967295|R>>>16),R=x+(N^L^A)+V[14]+4259657740&4294967295,x=N+(R<<23&4294967295|R>>>9),R=A+(x^N^L)+V[1]+2763975236&4294967295,A=x+(R<<4&4294967295|R>>>28),R=L+(A^x^N)+V[4]+1272893353&4294967295,L=A+(R<<11&4294967295|R>>>21),R=N+(L^A^x)+V[7]+4139469664&4294967295,N=L+(R<<16&4294967295|R>>>16),R=x+(N^L^A)+V[10]+3200236656&4294967295,x=N+(R<<23&4294967295|R>>>9),R=A+(x^N^L)+V[13]+681279174&4294967295,A=x+(R<<4&4294967295|R>>>28),R=L+(A^x^N)+V[0]+3936430074&4294967295,L=A+(R<<11&4294967295|R>>>21),R=N+(L^A^x)+V[3]+3572445317&4294967295,N=L+(R<<16&4294967295|R>>>16),R=x+(N^L^A)+V[6]+76029189&4294967295,x=N+(R<<23&4294967295|R>>>9),R=A+(x^N^L)+V[9]+3654602809&4294967295,A=x+(R<<4&4294967295|R>>>28),R=L+(A^x^N)+V[12]+3873151461&4294967295,L=A+(R<<11&4294967295|R>>>21),R=N+(L^A^x)+V[15]+530742520&4294967295,N=L+(R<<16&4294967295|R>>>16),R=x+(N^L^A)+V[2]+3299628645&4294967295,x=N+(R<<23&4294967295|R>>>9),R=A+(N^(x|~L))+V[0]+4096336452&4294967295,A=x+(R<<6&4294967295|R>>>26),R=L+(x^(A|~N))+V[7]+1126891415&4294967295,L=A+(R<<10&4294967295|R>>>22),R=N+(A^(L|~x))+V[14]+2878612391&4294967295,N=L+(R<<15&4294967295|R>>>17),R=x+(L^(N|~A))+V[5]+4237533241&4294967295,x=N+(R<<21&4294967295|R>>>11),R=A+(N^(x|~L))+V[12]+1700485571&4294967295,A=x+(R<<6&4294967295|R>>>26),R=L+(x^(A|~N))+V[3]+2399980690&4294967295,L=A+(R<<10&4294967295|R>>>22),R=N+(A^(L|~x))+V[10]+4293915773&4294967295,N=L+(R<<15&4294967295|R>>>17),R=x+(L^(N|~A))+V[1]+2240044497&4294967295,x=N+(R<<21&4294967295|R>>>11),R=A+(N^(x|~L))+V[8]+1873313359&4294967295,A=x+(R<<6&4294967295|R>>>26),R=L+(x^(A|~N))+V[15]+4264355552&4294967295,L=A+(R<<10&4294967295|R>>>22),R=N+(A^(L|~x))+V[6]+2734768916&4294967295,N=L+(R<<15&4294967295|R>>>17),R=x+(L^(N|~A))+V[13]+1309151649&4294967295,x=N+(R<<21&4294967295|R>>>11),R=A+(N^(x|~L))+V[4]+4149444226&4294967295,A=x+(R<<6&4294967295|R>>>26),R=L+(x^(A|~N))+V[11]+3174756917&4294967295,L=A+(R<<10&4294967295|R>>>22),R=N+(A^(L|~x))+V[2]+718787259&4294967295,N=L+(R<<15&4294967295|R>>>17),R=x+(L^(N|~A))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+L&4294967295}a.prototype.v=function(I,A){A===void 0&&(A=I.length);const x=A-this.blockSize,V=this.C;let N=this.h,L=0;for(;L<A;){if(N==0)for(;L<=x;)o(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<A;)if(V[N++]=I.charCodeAt(L++),N==this.blockSize){o(this,V),N=0;break}}else for(;L<A;)if(V[N++]=I[L++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var x=I.length-8;x<I.length;++x)I[x]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,x=0;x<4;++x)for(let V=0;V<32;V+=8)I[A++]=this.g[x]>>>V&255;return I};function c(I,A){var x=g;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=A(I)}function d(I,A){this.h=A;const x=[];let V=!0;for(let N=I.length-1;N>=0;N--){const L=I[N]|0;V&&L==A||(x[N]=L,V=!1)}this.g=x}var g={};function y(I){return-128<=I&&I<128?c(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return w;if(I<0)return et(_(-I));const A=[];let x=1;for(let V=0;I>=x;V++)A[V]=I/x|0,x*=4294967296;return new d(A,0)}function E(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return et(E(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=_(Math.pow(A,8));let V=w;for(let L=0;L<I.length;L+=8){var N=Math.min(8,I.length-L);const R=parseInt(I.substring(L,L+N),A);N<8?(N=_(Math.pow(A,N)),V=V.j(N).add(_(R))):(V=V.j(x),V=V.add(_(R)))}return V}var w=y(0),M=y(1),q=y(16777216);r=d.prototype,r.m=function(){if(st(this))return-et(this).m();let I=0,A=1;for(let x=0;x<this.g.length;x++){const V=this.i(x);I+=(V>=0?V:4294967296+V)*A,A*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(nt(this))return"0";if(st(this))return"-"+et(this).toString(I);const A=_(Math.pow(I,6));var x=this;let V="";for(;;){const N=Ft(x,A).g;x=gt(x,N.j(A));let L=((x.g.length>0?x.g[0]:x.h)>>>0).toString(I);if(x=N,nt(x))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function nt(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function st(I){return I.h==-1}r.l=function(I){return I=gt(this,I),st(I)?-1:nt(I)?0:1};function et(I){const A=I.g.length,x=[];for(let V=0;V<A;V++)x[V]=~I.g[V];return new d(x,~I.h).add(M)}r.abs=function(){return st(this)?et(this):this},r.add=function(I){const A=Math.max(this.g.length,I.g.length),x=[];let V=0;for(let N=0;N<=A;N++){let L=V+(this.i(N)&65535)+(I.i(N)&65535),R=(L>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=R>>>16,L&=65535,R&=65535,x[N]=R<<16|L}return new d(x,x[x.length-1]&-2147483648?-1:0)};function gt(I,A){return I.add(et(A))}r.j=function(I){if(nt(this)||nt(I))return w;if(st(this))return st(I)?et(this).j(et(I)):et(et(this).j(I));if(st(I))return et(this.j(et(I)));if(this.l(q)<0&&I.l(q)<0)return _(this.m()*I.m());const A=this.g.length+I.g.length,x=[];for(var V=0;V<2*A;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const L=this.i(V)>>>16,R=this.i(V)&65535,ue=I.i(N)>>>16,ge=I.i(N)&65535;x[2*V+2*N]+=R*ge,St(x,2*V+2*N),x[2*V+2*N+1]+=L*ge,St(x,2*V+2*N+1),x[2*V+2*N+1]+=R*ue,St(x,2*V+2*N+1),x[2*V+2*N+2]+=L*ue,St(x,2*V+2*N+2)}for(I=0;I<A;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=A;I<2*A;I++)x[I]=0;return new d(x,0)};function St(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function vt(I,A){this.g=I,this.h=A}function Ft(I,A){if(nt(A))throw Error("division by zero");if(nt(I))return new vt(w,w);if(st(I))return A=Ft(et(I),A),new vt(et(A.g),et(A.h));if(st(A))return A=Ft(I,et(A)),new vt(et(A.g),A.h);if(I.g.length>30){if(st(I)||st(A))throw Error("slowDivide_ only works with positive integers.");for(var x=M,V=A;V.l(I)<=0;)x=Qt(x),V=Qt(V);var N=Bt(x,1),L=Bt(V,1);for(V=Bt(V,2),x=Bt(x,2);!nt(V);){var R=L.add(V);R.l(I)<=0&&(N=N.add(x),L=R),V=Bt(V,1),x=Bt(x,1)}return A=gt(I,N.j(A)),new vt(N,A)}for(N=w;I.l(A)>=0;){for(x=Math.max(1,Math.floor(I.m()/A.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=_(x),R=L.j(A);st(R)||R.l(I)>0;)x-=V,L=_(x),R=L.j(A);nt(L)&&(L=M),N=N.add(L),I=gt(I,R)}return new vt(N,I)}r.B=function(I){return Ft(this,I).h},r.and=function(I){const A=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<A;V++)x[V]=this.i(V)&I.i(V);return new d(x,this.h&I.h)},r.or=function(I){const A=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<A;V++)x[V]=this.i(V)|I.i(V);return new d(x,this.h|I.h)},r.xor=function(I){const A=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<A;V++)x[V]=this.i(V)^I.i(V);return new d(x,this.h^I.h)};function Qt(I){const A=I.g.length+1,x=[];for(let V=0;V<A;V++)x[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(x,I.h)}function Bt(I,A){const x=A>>5;A%=32;const V=I.g.length-x,N=[];for(let L=0;L<V;L++)N[L]=A>0?I.i(L+x)>>>A|I.i(L+x+1)<<32-A:I.i(L+x);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,EE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,hr=d}).apply(typeof x0<"u"?x0:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var TE,wo,bE,Fc,cm,SE,AE,wE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in v))break t;v=v[U]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,U,B){for(var it=Array(arguments.length-2),It=2;It<arguments.length;It++)it[It-2]=arguments[It];return m.prototype[U].apply(b,it)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function nt(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let it=0;it<B;it++)u[v+it]=U[it]}else u.push(U)}}class st{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(u){d.setTimeout(()=>{throw u},0)}function gt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class St{constructor(){this.h=this.g=null}add(m,v){const b=vt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var vt=new st(()=>new Ft,u=>u.reset());class Ft{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Qt,Bt=!1,I=new St,A=()=>{const u=Promise.resolve(void 0);Qt=()=>{u.then(x)}};function x(){for(var u;u=gt();){try{u.h.call(u.g)}catch(v){et(v)}var m=vt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Bt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ue(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(ue,N),ue.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),G=0;function rt(u,m,v,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=U,this.key=++G,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ht(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Xt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(u,m){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)u[v]=b[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function ot(u){this.src=u,this.g={},this.h=0}ot.prototype.add=function(u,m,v,b,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const it=xt(u,m,b,U);return it>-1?(m=u[it],v||(m.fa=!1)):(m=new rt(m,this.src,B,!!b,U),m.fa=v,u.push(m)),m};function Tt(u,m){const v=m.type;if(v in u.g){var b=u.g[v],U=Array.prototype.indexOf.call(b,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(b,U,1),B&&(dt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function xt(u,m,v,b){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return U}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),Se={};function ce(u,m,v,b,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ce(u,m[B],v,b,U);return null}return v=Q(v),u&&u[ge]?u.J(m,v,g(b)?!!b.capture:!1,U):Fi(u,m,v,!1,b,U)}function Fi(u,m,v,b,U,B){if(!m)throw Error("Invalid event type");const it=g(U)?!!U.capture:!!U;let It=mi(u);if(It||(u[Vt]=It=new ot(u)),v=It.add(m,v,b,it,B),v.proxy)return v;if(b=Ts(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)L||(U=it),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(Ln(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ts(){function u(v){return m.call(u.src,u.listener,v)}const m=br;return u}function bs(u,m,v,b,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)bs(u,m[B],v,b,U);else b=g(b)?!!b.capture:!!b,v=Q(v),u&&u[ge]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=xt(m,v,b,U),v>-1&&(dt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=mi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=xt(m,v,b,U)),(v=u>-1?m[u]:null)&&Ss(v))}function Ss(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ge])Tt(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Ln(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=mi(m))?(Tt(v,u),v.h==0&&(v.src=null,m[Vt]=null)):dt(u)}}}function Ln(u){return u in Se?Se[u]:Se[u]="on"+u}function br(u,m){if(u.da)u=!0;else{m=new ue(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Ss(u),u=v.call(b,m)}return u}function mi(u){return u=u[Vt],u instanceof ot?u:null}var W="__closure_events_fn_"+(Math.random()*1e9>>>0);function Q(u){return typeof u=="function"?u:(u[W]||(u[W]=function(m){return u.handleEvent(m)}),u[W])}function $(){V.call(this),this.i=new ot(this),this.M=this,this.G=null}w($,V),$.prototype[ge]=!0,$.prototype.removeEventListener=function(u,m,v,b){bs(this,u,m,v,b)};function tt(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(b,u),at(m,U)}U=!0;let B,it;if(v)for(it=v.length-1;it>=0;it--)B=m.g=v[it],U=Ct(B,b,!0,m)&&U;if(B=m.g=u,U=Ct(B,b,!0,m)&&U,U=Ct(B,b,!1,m)&&U,v)for(it=0;it<v.length;it++)B=m.g=v[it],U=Ct(B,b,!1,m)&&U}$.prototype.N=function(){if($.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)dt(v[b]);delete u.g[m],u.h--}}this.G=null},$.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},$.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function Ct(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const it=m[B];if(it&&!it.da&&it.capture==v){const It=it.listener,we=it.ha||it.src;it.fa&&Tt(u.i,it),U=It.call(we,b)!==!1&&U}}return U&&!b.defaultPrevented}function lt(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function pt(u){u.g=lt(()=>{u.g=null,u.i&&(u.i=!1,pt(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class kt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:pt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ye(u){V.call(this),this.h=u,this.g={}}w(ye,V);var le=[];function fn(u){Ht(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ss(m)},u),u.g={}}ye.prototype.N=function(){ye.Z.N.call(this),fn(this)},ye.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dn=d.JSON.stringify,As=d.JSON.parse,ru=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function au(){}function lu(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ze(){N.call(this,"d")}w(Ze,N);function Un(){N.call(this,"c")}w(Un,N);var Ae={},ou=null;function la(){return ou=ou||new $}Ae.Ia="serverreachability";function uu(u){N.call(this,Ae.Ia,u)}w(uu,N);function pi(u){const m=la();tt(m,new uu(m))}Ae.STAT_EVENT="statevent";function Sr(u,m){N.call(this,Ae.STAT_EVENT,u),this.stat=m}w(Sr,N);function De(u){const m=la();tt(m,new Sr(m,u))}Ae.Ja="timingevent";function gi(u,m){N.call(this,Ae.Ja,u),this.size=m}w(gi,N);function yi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ti(){this.g=!0}ti.prototype.ua=function(){this.g=!1};function Uh(u,m,v,b,U,B){u.info(function(){if(u.g)if(B){var it="",It=B.split("&");for(let $t=0;$t<It.length;$t++){var we=It[$t].split("=");if(we.length>1){const me=we[0];we=we[1];const Bn=me.split("_");it=Bn.length>=2&&Bn[1]=="type"?it+(me+"="+we+"&"):it+(me+"=redacted&")}}}else it=null;else it=B;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+v+`
`+it})}function cu(u,m,v,b,U,B,it){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+it})}function _i(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ph(u,v)+(b?" "+b:"")})}function Ar(u,m){u.info(function(){return"TIMEOUT: "+m})}ti.prototype.info=function(){};function Ph(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let it=1;it<b.length;it++)b[it]=""}}}}return dn(B)}catch{return m}}var wr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Sl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Al;function Rr(){}w(Rr,au),Rr.prototype.g=function(){return new XMLHttpRequest},Al=new Rr;function Qi(u){return encodeURIComponent(String(u))}function hu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ei(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new ye(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var Oe={},Qe={};function vi(u,m,v){u.M=1,u.A=xr(Ve(m)),u.u=v,u.R=!0,oa(u,null)}function oa(u,m){u.F=Date.now(),Ei(u),u.B=Ve(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),fa(v.i,"t",b),u.C=0,v=u.j.L,u.h=new ni,u.g=Ru(u.j,v?m:null,!u.u),u.P>0&&(u.O=new kt(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(le[0]=U.toString()),U=le);for(let B=0;B<U.length;B++){const it=ce(v,U[B],b||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),pi(),Uh(u.i,u.v,u.B,u.l,u.S,u.u)}ei.prototype.ba=function(u){u=u.target;const m=this.O;m&&ri(u)==3?m.j():this.Y(u)},ei.prototype.Y=function(u){try{if(u==this.g)t:{const It=ri(this.g),we=this.g.ya(),$t=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||Je(this.g)))){this.K||It!=4||we==7||(we==8||$t<=0?pi(3):pi(2)),Ti(this);var m=this.g.ca();this.X=m;var v=jh(this);if(this.o=m==200,cu(this.i,this.v,this.B,this.l,this.S,It,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var B=b;break e}}B=null}if(u=B)_i(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,u);else{this.o=!1,this.m=3,De(12),Rn(this),Pn(this);break t}}if(this.R){u=!0;let me;for(;!this.K&&this.C<v.length;)if(me=du(this,v),me==Qe){It==4&&(this.m=4,De(14),u=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(me==Oe){this.m=4,De(15),_i(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else _i(this.i,this.l,me,null),bi(this,me);if(fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||v.length!=0||this.h.h||(this.m=1,De(16),u=!1),this.o=this.o&&u,!u)_i(this.i,this.l,v,"[Invalid Chunked Response]"),Rn(this),Pn(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),jl(it),it.P=!0,De(11))}}else _i(this.i,this.l,v,null),bi(this,v);It==4&&Rn(this),this.o&&!this.K&&(It==4?bu(this.j,this):(this.o=!1,Ei(this)))}else Yi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,De(12)):(this.m=0,De(13)),Rn(this),Pn(this)}}}catch{}};function jh(u){if(!fu(u))return u.g.la();const m=Je(u.g);if(m==="")return"";let v="";const b=m.length,U=ri(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Rn(u),Pn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function fu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function du(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Qe:(v=Number(m.substring(v,b)),isNaN(v)?Oe:(b+=1,b+v>m.length?Qe:(m=m.slice(b,b+v),u.C=b+v,m)))}ei.prototype.cancel=function(){this.K=!0,Rn(this)};function Ei(u){u.T=Date.now()+u.H,ua(u,u.H)}function ua(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=yi(_(u.aa,u),m)}function Ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ei.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ar(this.i,this.B),this.M!=2&&(pi(),De(17)),Rn(this),this.m=2,Pn(this)):ua(this,this.T-u)};function Pn(u){u.j.I==0||u.K||bu(u.j,u)}function Rn(u){Ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,fn(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function bi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ai(v.h,u))){if(!u.L&&Ai(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ya(v),Os(v);else break t;Vr(v),De(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=yi(_(v.Va,v),6e3));Si(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ni(v,11)}else if((u.L||v.g==u)&&ya(v),!R(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let $t=U[m];const me=$t[0];if(!(me<=v.K))if(v.K=me,$t=$t[1],v.I==2)if($t[0]=="c"){v.M=$t[1],v.ba=$t[2];const Bn=$t[3];Bn!=null&&(v.ka=Bn,v.j.info("VER="+v.ka));const Di=$t[4];Di!=null&&(v.za=Di,v.j.info("SVER="+v.za));const ai=$t[5];ai!=null&&typeof ai=="number"&&ai>0&&(b=1.5*ai,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const li=u.g;if(li){const kr=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kr){var B=b.h;B.g||kr.indexOf("spdy")==-1&&kr.indexOf("quic")==-1&&kr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(xl(B,B.h),B.h=null))}if(b.G){const _a=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;_a&&(b.wa=_a,Wt(b.J,b.G,_a))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var it=u;if(b.na=wu(b,b.L?b.ba:null,b.W),it.L){Cl(b.h,it);var It=it,we=b.O;we&&(It.H=we),It.D&&(Ti(It),Ei(It)),b.g=it}else Eu(b);v.i.length>0&&Ii(v)}else $t[0]!="stop"&&$t[0]!="close"||Ni(v,7);else v.I==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?Ni(v,7):Ul(v):$t[0]!="noop"&&v.l&&v.l.qa($t),v.A=0)}}pi(4)}catch{}}var Me=class{constructor(u,m){this.g=u,this.map=m}};function wl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Rl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Si(u){return u.h?1:u.g?u.g.size:0}function Ai(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function xl(u,m){u.g?u.g.add(m):u.h=m}function Cl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}wl.prototype.cancel=function(){if(this.i=Il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Il(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return q(u.i)}var mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let U,B=null;b>=0?(U=u[v].substring(0,b),B=u[v].substring(b+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function xn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof xn?(this.l=u.l,Ke(this,u.j),this.o=u.o,this.g=u.g,ws(this,u.u),this.h=u.h,Nl(this,_u(u.i)),this.m=u.m):u&&(m=String(u).match(mu))?(this.l=!1,Ke(this,m[1]||"",!0),this.o=wi(m[2]||""),this.g=wi(m[3]||"",!0),ws(this,m[4]),this.h=wi(m[5]||"",!0),Nl(this,m[6]||"",!0),this.m=wi(m[7]||"")):(this.l=!1,this.i=new xs(null,this.l))}xn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Cr(m,ha,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Cr(m,ha,!0),"@"),u.push(Qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Cr(v,v.charAt(0)=="/"?Dl:pu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Cr(v,gu)),u.join("")},xn.prototype.resolve=function(u){const m=Ve(this);let v=!!u.j;v?Ke(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)ws(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let it=0;it<U.length;){const It=U[it++];It=="."?b&&it==U.length&&B.push(""):It==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&it==U.length&&B.push("")):(B.push(It),b=!0)}b=B.join("/")}else b=U}return v?m.h=b:v=u.i.toString()!=="",v?Nl(m,_u(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ve(u){return new xn(u)}function Ke(u,m,v){u.j=v?wi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ws(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Nl(u,m,v){m instanceof xs?(u.i=m,da(u.i,u.l)):(v||(m=Cr(m,Rs)),u.i=new xs(m,u.l))}function Wt(u,m,v){u.i.set(m,v)}function xr(u){return Wt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function wi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Cr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,yn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ha=/[#\/\?@]/g,pu=/[#\?:]/g,Dl=/[#\?]/g,Rs=/[#\?@]/g,gu=/#/g;function xs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&ca(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=xs.prototype,r.add=function(u,m){_n(this),this.i=null,u=Cs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function yu(u,m){_n(u),m=Cs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ol(u,m){return _n(u),m=Cs(u,m),u.g.has(m)}r.forEach=function(u,m){_n(this),this.g.forEach(function(v,b){v.forEach(function(U){u.call(m,U,b,this)},this)},this)};function Ml(u,m){_n(u);let v=[];if(typeof m=="string")Ol(u,m)&&(v=v.concat(u.g.get(Cs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return _n(this),this.i=null,u=Cs(this,u),Ol(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Ml(this,u),u.length>0?String(u[0]):m):m};function fa(u,m,v){yu(u,m),v.length>0&&(u.i=null,u.g.set(Cs(u,m),q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const U=Qi(v);v=Ml(this,v);for(let B=0;B<v.length;B++){let it=U;v[B]!==""&&(it+="="+Qi(v[B])),u.push(it)}}return this.i=u.join("&")};function _u(u){const m=new xs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Cs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function da(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(v,b){const U=b.toLowerCase();b!=U&&(yu(this,b),fa(this,U,v))},u)),u.j=m}function ii(u,m){const v=new ti;if(d.Image){const b=new Image;b.onload=E(jn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(jn,v,"TestLoadImage: error",!1,m,b),b.onabort=E(jn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(jn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Vl(u,m){const v=new ti,b=new AbortController,U=setTimeout(()=>{b.abort(),jn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(U),B.ok?jn(v,"TestPingServer: ok",!0,m):jn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),jn(v,"TestPingServer: error",!1,m)})}function jn(u,m,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function Is(){this.g=new ru}function Ri(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Ri,au),Ri.prototype.g=function(){return new Ir(this.i,this.h)};function Ir(u,m){$.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Ir,$),r=Ir.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,si(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ma(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ma(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ns(this):si(this),this.readyState==3&&ma(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Ns(this))},r.Na=function(u){this.g&&(this.response=u,Ns(this))},r.ga=function(){this.g&&Ns(this)};function Ns(u){u.readyState=4,u.l=null,u.j=null,u.B=null,si(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function si(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ir.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function zn(u){let m="";return Ht(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Nr(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=zn(v),typeof u=="string"?v!=null&&Qi(v):Wt(u,m,v))}function ie(u){$.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(ie,$);var xi=/^https?$/i,kl=["POST","PUT"];r=ie.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Al.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Dr(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(kl,m,void 0)>=0)||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,it]of v)this.g.setRequestHeader(B,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Dr(this,B)}};function Dr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ll(u),Ki(u)}function Ll(u){u.A||(u.A=!0,tt(u,"complete"),tt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,tt(this,"complete"),tt(this,"abort"),Ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),ie.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Or(this):this.Xa())},r.Xa=function(){Or(this)};function Or(u){if(u.h&&typeof c<"u"){if(u.v&&ri(u)==4)setTimeout(u.Ca.bind(u),0);else if(tt(u,"readystatechange"),ri(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let it=String(u.D).match(mu)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),b=!xi.test(it?it.toLowerCase():"")}v=b}if(v)tt(u,"complete"),tt(u,"success");else{u.o=6;try{var U=ri(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Ll(u)}}finally{Ki(u)}}}}function Ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||tt(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ri(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),As(m)}};function Je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(u){const m={};u=(u.g&&ri(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var v=hu(u[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Xt(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ds(u){this.za=0,this.i=[],this.j=new ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,u),this.Za=Ci("retryDelaySeedMs",1e4,u),this.Ta=Ci("forwardChannelMaxRetries",2,u),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new wl(u&&u.concurrentRequestLimit),this.Ba=new Is,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ds.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){De(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=wu(this,null,this.W),Ii(this)};function Ul(u){if(pa(u),u.I==3){var m=u.V++,v=Ve(u.J);if(Wt(v,"SID",u.M),Wt(v,"RID",m),Wt(v,"TYPE","terminate"),Mr(u,v),m=new ei(u,u.j,m),m.M=2,m.A=xr(Ve(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Ru(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ei(m)}Au(u)}function Os(u){u.g&&(jl(u),u.g.cancel(),u.g=null)}function pa(u){Os(u),u.v&&(d.clearTimeout(u.v),u.v=null),ya(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ii(u){if(!Rl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Qt||A(),Bt||(Qt(),Bt=!0),I.add(m,u),u.D=0}}function ga(u,m){return Si(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=yi(_(u.Ea,u,m),Su(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new ei(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),at(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=vu(this,U,m),v=Ve(this.J),Wt(v,"RID",u),Wt(v,"CVER",22),this.G&&Wt(v,"X-HTTP-Session-Id",this.G),Mr(this,v),B&&(this.R?m="headers="+Qi(zn(B))+"&"+m:this.u&&Nr(v,this.u,B)),xl(this.h,U),this.Ra&&Wt(v,"TYPE","init"),this.S?(Wt(v,"$req",m),Wt(v,"SID","null"),U.U=!0,vi(U,v,null)):vi(U,v,m),this.I=2}}else this.I==3&&(u?Pl(this,u):this.i.length==0||Rl(this.h)||Pl(this))};function Pl(u,m){var v;m?v=m.l:v=u.V++;const b=Ve(u.J);Wt(b,"SID",u.M),Wt(b,"RID",v),Wt(b,"AID",u.K),Mr(u,b),u.u&&u.o&&Nr(b,u.u,u.o),v=new ei(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=vu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),xl(u.h,v),vi(v,b,m)}function Mr(u,m){u.H&&Ht(u.H,function(v,b){Wt(m,b,v)}),u.l&&Ht({},function(v,b){Wt(m,b,v)})}function vu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let It=-1;for(;;){const we=["count="+v];It==-1?v>0?(It=U[0].g,we.push("ofs="+It)):It=0:we.push("ofs="+It);let $t=!0;for(let me=0;me<v;me++){var B=U[me].g;const Bn=U[me].map;if(B-=It,B<0)It=Math.max(0,U[me].g-100),$t=!1;else try{B="req"+B+"_"||"";try{var it=Bn instanceof Map?Bn:Object.entries(Bn);for(const[Di,ai]of it){let li=ai;g(ai)&&(li=dn(ai)),we.push(B+Di+"="+encodeURIComponent(li))}}catch(Di){throw we.push(B+"type="+encodeURIComponent("_badmap")),Di}}catch{b&&b(Bn)}}if($t){it=we.join("&");break t}}it=void 0}return u=u.i.splice(0,v),m.G=u,it}function Eu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Qt||A(),Bt||(Qt(),Bt=!0),I.add(m,u),u.A=0}}function Vr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=yi(_(u.Da,u),Su(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=yi(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,De(10),Os(this),Tu(this))};function jl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Tu(u){u.g=new ei(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ve(u.na);Wt(m,"RID","rpc"),Wt(m,"SID",u.M),Wt(m,"AID",u.K),Wt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Wt(m,"TO",u.ia),Wt(m,"TYPE","xmlhttp"),Mr(u,m),u.u&&u.o&&Nr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=xr(Ve(m)),v.u=null,v.R=!0,oa(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Os(this),Vr(this),De(19))};function ya(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function bu(u,m){var v=null;if(u.g==m){ya(u),jl(u),u.g=null;var b=2}else if(Ai(u.h,m))v=m.G,Cl(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=la(),tt(b,new gi(b,v)),Ii(u)}else Eu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&ga(u,m)||b==2&&Vr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Ni(u,5);break;case 4:Ni(u,10);break;case 3:Ni(u,6);break;default:Ni(u,2)}}}function Su(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ni(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const U=!b;b=new xn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ke(b,"https"),xr(b),U?ii(b.toString(),v):Vl(b.toString(),v)}else De(2);u.I=0,u.l&&u.l.pa(m),Au(u),pa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))};function Au(u){if(u.I=0,u.ja=[],u.l){const m=Il(u.h);(m.length!=0||u.i.length!=0)&&(nt(u.ja,m),nt(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function wu(u,m,v){var b=v instanceof xn?Ve(v):new xn(v);if(b.g!="")m&&(b.g=m+"."+b.g),ws(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new xn(null);b&&Ke(B,b),m&&(B.g=m),U&&ws(B,U),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&Wt(b,v,m),Wt(b,"VER",u.ka),Mr(u,b),b}function Ru(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ie(new Ri({ab:v})):new ie(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}r=xu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ms(){}Ms.prototype.g=function(u,m){return new mn(u,m)};function mn(u,m){$.call(this),this.g=new Ds(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xi(this)}w(mn,$),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Ul(this.g)},mn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=dn(u),u=v);m.i.push(new Me(m.Ya++,u)),m.I==3&&Ii(m)},mn.prototype.N=function(){this.g.l=null,delete this.j,Ul(this.g),delete this.g,mn.Z.N.call(this)};function Cu(u){Ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Cu,Ze);function Iu(){Un.call(this),this.status=1}w(Iu,Un);function Xi(u){this.g=u}w(Xi,xu),Xi.prototype.ra=function(){tt(this.g,"a")},Xi.prototype.qa=function(u){tt(this.g,new Cu(u))},Xi.prototype.pa=function(u){tt(this.g,new Iu)},Xi.prototype.oa=function(){tt(this.g,"b")},Ms.prototype.createWebChannel=Ms.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,wE=function(){return new Ms},AE=function(){return la()},SE=Ae,cm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wr.NO_ERROR=0,wr.TIMEOUT=8,wr.HTTP_ERROR=6,Fc=wr,Sl.COMPLETE="complete",bE=Sl,lu.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",$.prototype.listen=$.prototype.J,wo=lu,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,TE=ie}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const C0="@firebase/firestore",I0="4.9.3";class un{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let vl="12.7.0";const na=new Om("@firebase/firestore");function $a(){return na.logLevel}function ut(r,...t){if(na.logLevel<=Pt.DEBUG){const i=t.map(qm);na.debug(`Firestore (${vl}): ${r}`,...i)}}function _s(r,...t){if(na.logLevel<=Pt.ERROR){const i=t.map(qm);na.error(`Firestore (${vl}): ${r}`,...i)}}function ul(r,...t){if(na.logLevel<=Pt.WARN){const i=t.map(qm);na.warn(`Firestore (${vl}): ${r}`,...i)}}function qm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Et(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,RE(r,a,i)}function RE(r,t,i){let a=`FIRESTORE (${vl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw _s(a),new Error(a)}function Jt(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||RE(t,o,a)}function Rt(r,t){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends Es{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class xE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Dw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(un.UNAUTHENTICATED)))}shutdown(){}}class Ow{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Mw{constructor(t){this.t=t,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Jt(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new fr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new fr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Jt(typeof a.accessToken=="string",31837,{l:a}),new xE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Jt(t===null||typeof t=="string",2055,{h:t}),new un(t)}}class Vw{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kw{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Vw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Jt(this.o===void 0,3512);const a=c=>{c.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new N0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new N0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Uw(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Gm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Uw(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function jt(r,t){return r<t?-1:r>t?1:0}function hm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return Kd(o)===Kd(c)?jt(o,c):Kd(o)?1:-1}return jt(r.length,t.length)}const Pw=55296,jw=57343;function Kd(r){const t=r.charCodeAt(0);return t>=Pw&&t<=jw}function cl(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const D0="__name__";class Li{constructor(t,i,a){i===void 0?i=0:i>t.length&&Et(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&Et(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Li.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Li?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Li.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return jt(t.length,i.length)}static compareSegments(t,i){const a=Li.isNumericId(t),o=Li.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Li.extractNumericId(t).compare(Li.extractNumericId(i)):hm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return hr.fromString(t.substring(4,t.length-2))}}class _e extends Li{construct(t,i,a){return new _e(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ft(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new _e(i)}static emptyPath(){return new _e([])}}const zw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Li{construct(t,i,a){return new rn(t,i,a)}static isValidIdentifier(t){return zw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D0}static keyField(){return new rn([D0])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ft(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new ft(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ft(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new ft(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new rn(i)}static emptyPath(){return new rn([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(_e.fromString(t))}static fromName(t){return new yt(_e.fromString(t).popFirst(5))}static empty(){return new yt(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&_e.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return _e.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new _e(t.slice()))}}function Bw(r,t,i){if(!i)throw new ft(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Hw(r,t,i,a){if(t===!0&&a===!0)throw new ft(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function O0(r){if(!yt.isDocumentKey(r))throw new ft(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function CE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Fm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function fi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ft(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Fm(r);throw new ft(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Be(r,t){const i={typeString:r};return t&&(i.value=t),i}function Jo(r,t){if(!CE(r))throw new ft(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ft(J.INVALID_ARGUMENT,i);return!0}const M0=-62135596800,V0=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(t){return de.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*V0);return new de(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ft(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ft(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<M0)throw new ft(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V0}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Jo(t,de._jsonSchema))return new de(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-M0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:Be("string",de._jsonSchemaVersion),seconds:Be("number"),nanoseconds:Be("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new de(0,0))}static max(){return new At(new de(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Po=-1;function qw(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=At.fromTimestamp(a===1e9?new de(i+1,0):new de(i,a));return new mr(o,yt.empty(),t)}function Gw(r){return new mr(r.readTime,r.key,Po)}class mr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new mr(At.min(),yt.empty(),Po)}static max(){return new mr(At.max(),yt.empty(),Po)}}function Fw(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=yt.comparator(r.documentKey,t.documentKey),i!==0?i:jt(r.largestBatchId,t.largestBatchId))}const Qw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function El(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==Qw)throw r;ut("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let o=0,c=0,d=!1;t.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((o=>o?Z.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,o)=>{const c=t.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((E=>{d[_]=E,++g,g===c&&a(d)}),(E=>o(E)))}}))}static doWhile(t,i){return new Z(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function Yw(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Tl(r){return r.name==="IndexedDbTransactionError"}class Eh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Eh.ce=-1;const Qm=-1;function Th(r){return r==null}function ah(r){return r===0&&1/r==-1/0}function Xw(r){return typeof r=="number"&&Number.isInteger(r)&&!ah(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const IE="";function $w(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=k0(t)),t=Zw(r.get(i),t);return k0(t)}function Zw(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case IE:i+="";break;default:i+=c}}return i}function k0(r){return r+IE+""}function L0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Er(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function NE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ve{constructor(t,i){this.comparator=t,this.root=i||sn.EMPTY}insert(t,i){return new ve(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(t){return new ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new kc(this.root,t,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new kc(this.root,t,this.comparator,!0)}}class kc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class sn{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??sn.RED,this.left=o??sn.EMPTY,this.right=c??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new sn(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new sn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fe{constructor(t){this.comparator=t,this.data=new ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new U0(this.data.getIterator())}getIteratorFrom(t){return new U0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Fe)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Fe(this.comparator);return i.data=t,i}}class U0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kn{constructor(t){this.fields=t,t.sort(rn.comparator)}static empty(){return new kn([])}unionWith(t){let i=new Fe(rn.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new kn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return cl(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class DE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class an{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new DE("Invalid base64 string: "+c):c}})(t);return new an(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new an(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}an.EMPTY_BYTE_STRING=new an("");const Jw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pr(r){if(Jt(!!r,39018),typeof r=="string"){let t=0;const i=Jw.exec(r);if(Jt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ne(r.seconds),nanos:Ne(r.nanos)}}function Ne(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function gr(r){return typeof r=="string"?an.fromBase64String(r):an.fromUint8Array(r)}const OE="server_timestamp",ME="__type__",VE="__previous_value__",kE="__local_write_time__";function Km(r){return(r?.mapValue?.fields||{})[ME]?.stringValue===OE}function bh(r){const t=r.mapValue.fields[VE];return Km(t)?bh(t):t}function jo(r){const t=pr(r.mapValue.fields[kE].timestampValue);return new de(t.seconds,t.nanos)}class Ww{constructor(t,i,a,o,c,d,g,y,_,E){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const lh="(default)";class zo{constructor(t,i){this.projectId=t,this.database=i||lh}static empty(){return new zo("","")}get isDefaultDatabase(){return this.database===lh}isEqual(t){return t instanceof zo&&t.projectId===this.projectId&&t.database===this.database}}const LE="__type__",tR="__max__",Lc={mapValue:{}},UE="__vector__",oh="value";function yr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Km(r)?4:nR(r)?9007199254740991:eR(r)?10:11:Et(28295,{value:r})}function qi(r,t){if(r===t)return!0;const i=yr(r);if(i!==yr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return jo(r).isEqual(jo(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=pr(o.timestampValue),g=pr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return gr(o.bytesValue).isEqual(gr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return Ne(o.geoPointValue.latitude)===Ne(c.geoPointValue.latitude)&&Ne(o.geoPointValue.longitude)===Ne(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ne(o.integerValue)===Ne(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Ne(o.doubleValue),g=Ne(c.doubleValue);return d===g?ah(d)===ah(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return cl(r.arrayValue.values||[],t.arrayValue.values||[],qi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(L0(d)!==L0(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!qi(d[y],g[y])))return!1;return!0})(r,t);default:return Et(52216,{left:r})}}function Bo(r,t){return(r.values||[]).find((i=>qi(i,t)))!==void 0}function hl(r,t){if(r===t)return 0;const i=yr(r),a=yr(t);if(i!==a)return jt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return jt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=Ne(c.integerValue||c.doubleValue),y=Ne(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,t);case 3:return P0(r.timestampValue,t.timestampValue);case 4:return P0(jo(r),jo(t));case 5:return hm(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=gr(c),y=gr(d);return g.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const E=jt(g[_],y[_]);if(E!==0)return E}return jt(g.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=jt(Ne(c.latitude),Ne(d.latitude));return g!==0?g:jt(Ne(c.longitude),Ne(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return j0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[oh]?.arrayValue,E=y[oh]?.arrayValue,w=jt(_?.values?.length||0,E?.values?.length||0);return w!==0?w:j0(_,E)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Lc.mapValue&&d===Lc.mapValue)return 0;if(c===Lc.mapValue)return 1;if(d===Lc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let w=0;w<y.length&&w<E.length;++w){const M=hm(y[w],E[w]);if(M!==0)return M;const q=hl(g[y[w]],_[E[w]]);if(q!==0)return q}return jt(y.length,E.length)})(r.mapValue,t.mapValue);default:throw Et(23264,{he:i})}}function P0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return jt(r,t);const i=pr(r),a=pr(t),o=jt(i.seconds,a.seconds);return o!==0?o:jt(i.nanos,a.nanos)}function j0(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=hl(i[o],a[o]);if(c)return c}return jt(i.length,a.length)}function fl(r){return fm(r)}function fm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=pr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return gr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return yt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=fm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${fm(i.fields[d])}`;return o+"}"})(r.mapValue):Et(61005,{value:r})}function Qc(r){switch(yr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=bh(r);return t?16+Qc(t):16;case 5:return 2*r.stringValue.length;case 6:return gr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Qc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Er(a.fields,((c,d)=>{o+=c.length+Qc(d)})),o})(r.mapValue);default:throw Et(13486,{value:r})}}function dm(r){return!!r&&"integerValue"in r}function Ym(r){return!!r&&"arrayValue"in r}function z0(r){return!!r&&"nullValue"in r}function B0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Kc(r){return!!r&&"mapValue"in r}function eR(r){return(r?.mapValue?.fields||{})[LE]?.stringValue===UE}function Do(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Er(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Do(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Do(r.arrayValue.values[i]);return t}return{...r}}function nR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===tR}class wn{constructor(t){this.value=t}static empty(){return new wn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Kc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Do(i)}setAll(t){let i=rn.emptyPath(),a={},o=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Do(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());Kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return qi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){Er(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new wn(Do(this.value))}}function PE(r){const t=[];return Er(r.fields,((i,a)=>{const o=new rn([i]);if(Kc(a)){const c=PE(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new kn(t)}class cn{constructor(t,i,a,o,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new cn(t,0,At.min(),At.min(),At.min(),wn.empty(),0)}static newFoundDocument(t,i,a,o){return new cn(t,1,i,At.min(),a,o,0)}static newNoDocument(t,i){return new cn(t,2,i,At.min(),At.min(),wn.empty(),0)}static newUnknownDocument(t,i){return new cn(t,3,i,At.min(),At.min(),wn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof cn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uh{constructor(t,i){this.position=t,this.inclusive=i}}function H0(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=yt.comparator(yt.fromName(d.referenceValue),i.key):a=hl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function q0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!qi(r.position[i],t.position[i]))return!1;return!0}class ch{constructor(t,i="asc"){this.field=t,this.dir=i}}function iR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class jE{}class Ge extends jE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new rR(t,i,a):i==="array-contains"?new oR(t,a):i==="in"?new uR(t,a):i==="not-in"?new cR(t,a):i==="array-contains-any"?new hR(t,a):new Ge(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new aR(t,a):new lR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(hl(i,this.value)):i!==null&&yr(this.value)===yr(i)&&this.matchesComparison(hl(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends jE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Gi(t,i)}matches(t){return zE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zE(r){return r.op==="and"}function BE(r){return sR(r)&&zE(r)}function sR(r){for(const t of r.filters)if(t instanceof Gi)return!1;return!0}function mm(r){if(r instanceof Ge)return r.field.canonicalString()+r.op.toString()+fl(r.value);if(BE(r))return r.filters.map((t=>mm(t))).join(",");{const t=r.filters.map((i=>mm(i))).join(",");return`${r.op}(${t})`}}function HE(r,t){return r instanceof Ge?(function(a,o){return o instanceof Ge&&a.op===o.op&&a.field.isEqual(o.field)&&qi(a.value,o.value)})(r,t):r instanceof Gi?(function(a,o){return o instanceof Gi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&HE(d,o.filters[g])),!0):!1})(r,t):void Et(19439)}function qE(r){return r instanceof Ge?(function(i){return`${i.field.canonicalString()} ${i.op} ${fl(i.value)}`})(r):r instanceof Gi?(function(i){return i.op.toString()+" {"+i.getFilters().map(qE).join(" ,")+"}"})(r):"Filter"}class rR extends Ge{constructor(t,i,a){super(t,i,a),this.key=yt.fromName(a.referenceValue)}matches(t){const i=yt.comparator(t.key,this.key);return this.matchesComparison(i)}}class aR extends Ge{constructor(t,i){super(t,"in",i),this.keys=GE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class lR extends Ge{constructor(t,i){super(t,"not-in",i),this.keys=GE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function GE(r,t){return(t.arrayValue?.values||[]).map((i=>yt.fromName(i.referenceValue)))}class oR extends Ge{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Ym(i)&&Bo(i.arrayValue,this.value)}}class uR extends Ge{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Bo(this.value.arrayValue,i)}}class cR extends Ge{constructor(t,i){super(t,"not-in",i)}matches(t){if(Bo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Bo(this.value.arrayValue,i)}}class hR extends Ge{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Ym(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Bo(this.value.arrayValue,a)))}}class fR{constructor(t,i=null,a=[],o=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function G0(r,t=null,i=[],a=[],o=null,c=null,d=null){return new fR(r,t,i,a,o,c,d)}function Xm(r){const t=Rt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>mm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Th(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>fl(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>fl(a))).join(",")),t.Te=i}return t.Te}function $m(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!iR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!HE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!q0(r.startAt,t.startAt)&&q0(r.endAt,t.endAt)}function pm(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Sh{constructor(t,i=null,a=[],o=[],c=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dR(r,t,i,a,o,c,d,g){return new Sh(r,t,i,a,o,c,d,g)}function Ah(r){return new Sh(r)}function F0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function mR(r){return r.collectionGroup!==null}function Oo(r){const t=Rt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Fe(rn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new ch(c,a))})),i.has(rn.keyField().canonicalString())||t.Ie.push(new ch(rn.keyField(),a))}return t.Ie}function ji(r){const t=Rt(r);return t.Ee||(t.Ee=pR(t,Oo(r))),t.Ee}function pR(r,t){if(r.limitType==="F")return G0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new ch(o.field,c)}));const i=r.endAt?new uh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new uh(r.startAt.position,r.startAt.inclusive):null;return G0(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function gm(r,t,i){return new Sh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function wh(r,t){return $m(ji(r),ji(t))&&r.limitType===t.limitType}function FE(r){return`${Xm(ji(r))}|lt:${r.limitType}`}function Za(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>qE(o))).join(", ")}]`),Th(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>fl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>fl(o))).join(",")),`Target(${a})`})(ji(r))}; limitType=${r.limitType})`}function Rh(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):yt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of Oo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,g,y){const _=H0(d,g,y);return d.inclusive?_<=0:_<0})(a.startAt,Oo(a),o)||a.endAt&&!(function(d,g,y){const _=H0(d,g,y);return d.inclusive?_>=0:_>0})(a.endAt,Oo(a),o))})(r,t)}function gR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function QE(r){return(t,i)=>{let a=!1;for(const o of Oo(r)){const c=yR(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function yR(r,t,i){const a=r.field.isKeyField()?yt.comparator(t.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?hl(y,_):Et(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Et(19790,{direction:r.dir})}}class ra{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Er(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return NE(this.inner)}size(){return this.innerSize}}const _R=new ve(yt.comparator);function vs(){return _R}const KE=new ve(yt.comparator);function Ro(...r){let t=KE;for(const i of r)t=t.insert(i.key,i);return t}function YE(r){let t=KE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Jr(){return Mo()}function XE(){return Mo()}function Mo(){return new ra((r=>r.toString()),((r,t)=>r.isEqual(t)))}const vR=new ve(yt.comparator),ER=new Fe(yt.comparator);function zt(...r){let t=ER;for(const i of r)t=t.add(i);return t}const TR=new Fe(jt);function bR(){return TR}function Zm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(t)?"-0":t}}function $E(r){return{integerValue:""+r}}function ZE(r,t){return Xw(t)?$E(t):Zm(r,t)}class xh{constructor(){this._=void 0}}function SR(r,t,i){return r instanceof hh?(function(o,c){const d={fields:{[ME]:{stringValue:OE},[kE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Km(c)&&(c=bh(c)),c&&(d.fields[VE]=c),{mapValue:d}})(i,t):r instanceof dl?WE(r,t):r instanceof Ho?t1(r,t):(function(o,c){const d=JE(o,c),g=Q0(d)+Q0(o.Ae);return dm(d)&&dm(o.Ae)?$E(g):Zm(o.serializer,g)})(r,t)}function AR(r,t,i){return r instanceof dl?WE(r,t):r instanceof Ho?t1(r,t):i}function JE(r,t){return r instanceof qo?(function(a){return dm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class hh extends xh{}class dl extends xh{constructor(t){super(),this.elements=t}}function WE(r,t){const i=e1(t);for(const a of r.elements)i.some((o=>qi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Ho extends xh{constructor(t){super(),this.elements=t}}function t1(r,t){let i=e1(t);for(const a of r.elements)i=i.filter((o=>!qi(o,a)));return{arrayValue:{values:i}}}class qo extends xh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Q0(r){return Ne(r.integerValue||r.doubleValue)}function e1(r){return Ym(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class n1{constructor(t,i){this.field=t,this.transform=i}}function wR(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof dl&&o instanceof dl||a instanceof Ho&&o instanceof Ho?cl(a.elements,o.elements,qi):a instanceof qo&&o instanceof qo?qi(a.Ae,o.Ae):a instanceof hh&&o instanceof hh})(r.transform,t.transform)}class RR{constructor(t,i){this.version=t,this.transformResults=i}}class di{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new di}static exists(t){return new di(void 0,t)}static updateTime(t){return new di(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Yc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Ch{}function i1(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Jm(r.key,di.none()):new Wo(r.key,r.data,di.none());{const i=r.data,a=wn.empty();let o=new Fe(rn.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Tr(r.key,a,new kn(o.toArray()),di.none())}}function xR(r,t,i){r instanceof Wo?(function(o,c,d){const g=o.value.clone(),y=Y0(o.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof Tr?(function(o,c,d){if(!Yc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Y0(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(s1(o)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Vo(r,t,i,a){return r instanceof Wo?(function(c,d,g,y){if(!Yc(c.precondition,d))return g;const _=c.value.clone(),E=X0(c.fieldTransforms,y,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof Tr?(function(c,d,g,y){if(!Yc(c.precondition,d))return g;const _=X0(c.fieldTransforms,y,d),E=d.data;return E.setAll(s1(c)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,t,i,a):(function(c,d,g){return Yc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function CR(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=JE(a.transform,o||null);c!=null&&(i===null&&(i=wn.empty()),i.set(a.field,c))}return i||null}function K0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&cl(a,o,((c,d)=>wR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Wo extends Ch{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Tr extends Ch{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function s1(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Y0(r,t,i){const a=new Map;Jt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=t.data.field(c.field);a.set(c.field,AR(d,g,i[o]))}return a}function X0(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,SR(c,d,t))}return a}class Jm extends Ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IR extends Ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class NR{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&xR(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Vo(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Vo(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=XE();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const y=i1(d,g);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(At.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&cl(this.mutations,t.mutations,((i,a)=>K0(i,a)))&&cl(this.baseMutations,t.baseMutations,((i,a)=>K0(i,a)))}}class Wm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Jt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return vR})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Wm(t,i,a,o)}}class DR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class OR{constructor(t,i){this.count=t,this.unchangedNames=i}}var ze,Gt;function MR(r){switch(r){case J.OK:return Et(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function r1(r){if(r===void 0)return _s("GRPC error has no .code"),J.UNKNOWN;switch(r){case ze.OK:return J.OK;case ze.CANCELLED:return J.CANCELLED;case ze.UNKNOWN:return J.UNKNOWN;case ze.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case ze.INTERNAL:return J.INTERNAL;case ze.UNAVAILABLE:return J.UNAVAILABLE;case ze.UNAUTHENTICATED:return J.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case ze.NOT_FOUND:return J.NOT_FOUND;case ze.ALREADY_EXISTS:return J.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return J.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case ze.ABORTED:return J.ABORTED;case ze.OUT_OF_RANGE:return J.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return J.UNIMPLEMENTED;case ze.DATA_LOSS:return J.DATA_LOSS;default:return Et(39323,{code:r})}}(Gt=ze||(ze={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";function VR(){return new TextEncoder}const kR=new hr([4294967295,4294967295],0);function $0(r){const t=VR().encode(r),i=new EE;return i.update(t),new Uint8Array(i.digest())}function Z0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new hr([i,a],0),new hr([o,c],0)]}class tp{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new xo(`Invalid padding: ${i}`);if(a<0)throw new xo(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new xo(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new xo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=hr.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(hr.fromNumber(a)));return o.compare(kR)===1&&(o=new hr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=$0(t),[a,o]=Z0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new tp(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=$0(t),[a,o]=Z0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class xo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ih{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,tu.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Ih(At.min(),o,new ve(jt),vs(),zt())}}class tu{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new tu(a,i,zt(),zt(),zt())}}class Xc{constructor(t,i,a,o){this.be=t,this.removedTargetIds=i,this.key=a,this.De=o}}class a1{constructor(t,i){this.targetId=t,this.Ce=i}}class l1{constructor(t,i,a=an.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class J0{constructor(){this.ve=0,this.Fe=W0(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),a=zt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Et(38017,{changeType:c})}})),new tu(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=W0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class LR{constructor(t){this.Ge=t,this.ze=new Map,this.je=vs(),this.Je=Uc(),this.He=Uc(),this.Ye=new ve(jt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(pm(c))if(a===0){const d=new yt(c.path);this.et(i,d,cn.newNoDocument(d,At.min()))}else Jt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=gr(a).toUint8Array()}catch(y){if(y instanceof DE)return ul("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new tp(d,o,c)}catch(y){return ul(y instanceof xo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&pm(g.target)){const y=new yt(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,cn.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=zt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new Ih(t,i,this.Ye,this.je,a);return this.je=vs(),this.Je=Uc(),this.He=Uc(),this.Ye=new ve(jt),o}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new J0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Fe(jt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Fe(jt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new J0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Uc(){return new ve(yt.comparator)}function W0(){return new ve(yt.comparator)}const UR={asc:"ASCENDING",desc:"DESCENDING"},PR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jR={and:"AND",or:"OR"};class zR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function ym(r,t){return r.useProto3Json||Th(t)?t:{value:t}}function fh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function o1(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function BR(r,t){return fh(r,t.toTimestamp())}function zi(r){return Jt(!!r,49232),At.fromTimestamp((function(i){const a=pr(i);return new de(a.seconds,a.nanos)})(r))}function ep(r,t){return _m(r,t).canonicalString()}function _m(r,t){const i=(function(o){return new _e(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function u1(r){const t=_e.fromString(r);return Jt(m1(t),10190,{key:t.toString()}),t}function vm(r,t){return ep(r.databaseId,t.path)}function Yd(r,t){const i=u1(t);if(i.get(1)!==r.databaseId.projectId)throw new ft(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ft(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new yt(h1(i))}function c1(r,t){return ep(r.databaseId,t)}function HR(r){const t=u1(r);return t.length===4?_e.emptyPath():h1(t)}function Em(r){return new _e(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function h1(r){return Jt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function tv(r,t,i){return{name:vm(r,t),fields:i.value.mapValue.fields}}function qR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Et(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(_,E){return _.useProto3Json?(Jt(E===void 0||typeof E=="string",58123),an.fromBase64String(E||"")):(Jt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),an.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const E=_.code===void 0?J.UNKNOWN:r1(_.code);return new ft(E,_.message||"")})(d);i=new l1(a,o,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Yd(r,a.document.name),c=zi(a.document.updateTime),d=a.document.createTime?zi(a.document.createTime):At.min(),g=new wn({mapValue:{fields:a.document.fields}}),y=cn.newFoundDocument(o,c,d,g),_=a.targetIds||[],E=a.removedTargetIds||[];i=new Xc(_,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Yd(r,a.document),c=a.readTime?zi(a.readTime):At.min(),d=cn.newNoDocument(o,c),g=a.removedTargetIds||[];i=new Xc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Yd(r,a.document),c=a.removedTargetIds||[];i=new Xc([],c,o,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new OR(o,c),g=a.targetId;i=new a1(g,d)}}return i}function GR(r,t){let i;if(t instanceof Wo)i={update:tv(r,t.key,t.value)};else if(t instanceof Jm)i={delete:vm(r,t.key)};else if(t instanceof Tr)i={update:tv(r,t.key,t.data),updateMask:WR(t.fieldMask)};else{if(!(t instanceof IR))return Et(16599,{Vt:t.type});i={verify:vm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof hh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof dl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ho)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof qo)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Et(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:BR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)})(r,t.precondition)),i}function FR(r,t){return r&&r.length>0?(Jt(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?zi(o.updateTime):zi(c);return d.isEqual(At.min())&&(d=zi(c)),new RR(d,o.transformResults||[])})(i,t)))):[]}function QR(r,t){return{documents:[c1(r,t.path)]}}function KR(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=c1(r,o);const c=(function(_){if(_.length!==0)return d1(Gi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((E=>(function(M){return{field:Ja(M.field),direction:$R(M.dir)}})(E)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=ym(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:o}}function YR(r){let t=HR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Jt(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=(function(w){const M=f1(w);return M instanceof Gi&&BE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(nt){return new ch(Wa(nt.field),(function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(nt.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let M;return M=typeof w=="object"?w.value:w,Th(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(w){const M=!!w.before,q=w.values||[];return new uh(q,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const M=!w.before,q=w.values||[];return new uh(q,M)})(i.endAt)),dR(t,o,d,c,g,"F",y,_)}function XR(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function f1(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Wa(i.unaryFilter.field);return Ge.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Wa(i.unaryFilter.field);return Ge.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Wa(i.unaryFilter.field);return Ge.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Wa(i.unaryFilter.field);return Ge.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ge.create(Wa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Gi.create(i.compositeFilter.filters.map((a=>f1(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(i.compositeFilter.op))})(r):Et(30097,{filter:r})}function $R(r){return UR[r]}function ZR(r){return PR[r]}function JR(r){return jR[r]}function Ja(r){return{fieldPath:r.canonicalString()}}function Wa(r){return rn.fromServerFormat(r.fieldPath)}function d1(r){return r instanceof Ge?(function(i){if(i.op==="=="){if(B0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NAN"}};if(z0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(B0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NAN"}};if(z0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(i.field),op:ZR(i.op),value:i.value}}})(r):r instanceof Gi?(function(i){const a=i.getFilters().map((o=>d1(o)));return a.length===1?a[0]:{compositeFilter:{op:JR(i.op),filters:a}}})(r):Et(54877,{filter:r})}function WR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function m1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class lr{constructor(t,i,a,o,c=At.min(),d=At.min(),g=an.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new lr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class tx{constructor(t){this.yt=t}}function ex(r){const t=YR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?gm(t,t.limit,"L"):t}class nx{constructor(){this.Cn=new ix}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(mr.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(mr.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class ix{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Fe(_e.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Fe(_e.comparator)).toArray()}}const ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},p1=41943040;class An{static withCacheSize(t){return new An(t,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(p1,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class ml{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ml(0)}static cr(){return new ml(-1)}}const nv="LruGarbageCollector",sx=1048576;function iv([r,t],[i,a]){const o=jt(r,i);return o===0?jt(t,a):o}class rx{constructor(t){this.Ir=t,this.buffer=new Fe(iv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();iv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ax{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ut(nv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Tl(i)?ut(nv,"Ignoring IndexedDB error during garbage collection: ",i):await El(i)}await this.Vr(3e5)}))}}class lx{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(Eh.ce);const a=new rx(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(ev)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ev):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,c,d,g,y,_;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(t,o)))).next((w=>(a=w,g=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(_=Date.now(),$a()<=Pt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${w} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function ox(r,t){return new lx(r,t)}class ux{constructor(){this.changes=new ra((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,cn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class cx{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class hx{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&Vo(a.mutation,o,kn.empty(),de.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=zt()){const o=Jr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=Ro();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Jr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,zt())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,o){let c=vs();const d=Mo(),g=(function(){return Mo()})();return i.forEach(((y,_)=>{const E=a.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof Tr)?c=c.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),Vo(E.mutation,_,E.mutation.getFieldMask(),de.now())):d.set(_.key,kn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,E)=>d.set(_,E))),i.forEach(((_,E)=>g.set(_,new cx(E,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Mo();let o=new ve(((d,g)=>d-g)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let E=a.get(y)||kn.empty();E=g.applyToLocalView(_,E),a.set(y,E);const w=(o.get(g.batchId)||zt()).add(y);o=o.insert(g.batchId,w)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,E=y.value,w=XE();E.forEach((M=>{if(!c.has(M)){const q=i1(i.get(M),a.get(M));q!==null&&w.set(M,q),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,w))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return yt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):mR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):Z.resolve(Jr());let g=Po,y=c;return d.next((_=>Z.forEach(_,((E,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(t,E).next((M=>{y=y.insert(E,M)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,zt()))).next((E=>({batchId:g,changes:YE(E)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new yt(i)).next((a=>{let o=Ro();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=Ro();return this.indexManager.getCollectionParents(t,c).next((g=>Z.forEach(g,(y=>{const _=(function(w,M){return new Sh(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,o).next((E=>{E.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((y,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,cn.newInvalidDocument(E)))}));let g=Ro();return d.forEach(((y,_)=>{const E=c.get(y);E!==void 0&&Vo(E.mutation,_,kn.empty(),de.now()),Rh(i,_)&&(g=g.insert(y,_))})),g}))}}class fx{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:zi(o.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:ex(o.bundledQuery),readTime:zi(o.readTime)}})(i)),Z.resolve()}}class dx{constructor(){this.overlays=new ve(yt.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Jr();return Z.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const o=Jr(),c=i.length+1,d=new yt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return Z.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new ve(((_,E)=>_-E));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let E=c.get(_.largestBatchId);E===null&&(E=Jr(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const g=Jr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>g.set(_,E))),!(g.size()>=o)););return Z.resolve(g)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new DR(i,a));let c=this.qr.get(i);c===void 0&&(c=zt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class mx{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class np{constructor(){this.Qr=new Fe($e.$r),this.Ur=new Fe($e.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new $e(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new $e(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new yt(new _e([])),a=new $e(i,t),o=new $e(i,t+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new yt(new _e([])),a=new $e(i,t),o=new $e(i,t+1);let c=zt();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new $e(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class $e{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return yt.comparator(t.key,i.key)||jt(t.Yr,i.Yr)}static Kr(t,i){return jt(t.Yr,i.Yr)||yt.comparator(t.key,i.key)}}class px{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Fe($e.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new NR(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new $e(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Qm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new $e(i,0),o=new $e(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Fe(jt);return i.forEach((o=>{const c=new $e(o,0),d=new $e(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;yt.isDocumentKey(c)||(c=c.child(""));const d=new $e(new yt(c),0);let g=new Fe(jt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(g=g.add(y.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Jt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(o=>{const c=new $e(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new $e(i,0),o=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class gx{constructor(t){this.ri=t,this.docs=(function(){return new ve(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():cn.newInvalidDocument(i))}getEntries(t,i){let a=vs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():cn.newInvalidDocument(o))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=vs();const d=i.path,g=new yt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Fw(Gw(E),a)<=0||(o.has(E.key)||Rh(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,a,o){Et(9500)}ii(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new yx(this)}getSize(t){return Z.resolve(this.size)}}class yx extends ux{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class _x{constructor(t){this.persistence=t,this.si=new ra((i=>Xm(i)),$m),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new np,this.targetCount=0,this.ai=ml.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new ml(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),Z.waitFor(c).next((()=>o))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class g1{constructor(t,i){this.ui={},this.overlays={},this.ci=new Eh(0),this.li=!1,this.li=!0,this.hi=new mx,this.referenceDelegate=t(this),this.Pi=new _x(this),this.indexManager=new nx,this.remoteDocumentCache=(function(o){return new gx(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new tx(i),this.Ii=new fx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new dx,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new px(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ut("MemoryPersistence","Starting transaction:",t);const o=new vx(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class vx extends Kw{constructor(t){super(),this.currentSequenceNumber=t}}class ip{constructor(t){this.persistence=t,this.Ri=new np,this.Vi=null}static mi(t){return new ip(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const o=yt.fromPath(a);return this.gi(t,o).next((c=>{c||i.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class dh{constructor(t,i){this.persistence=t,this.pi=new ra((a=>$w(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=ox(this,i)}static mi(t,i){return new dh(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((a,o)=>this.br(t,a,o).next((c=>c?Z.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,c.removeEntry(d,At.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Qc(t.data.value)),i}br(t,i,a){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class sp{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=zt(),o=zt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new sp(t,i.fromCache,a,o)}}class Ex{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Tx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return uS()?8:Yw(hn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Ex;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?($a()<=Pt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):($a()<=Pt.DEBUG&&ut("QueryEngine","Query:",Za(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?($a()<=Pt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ji(i))):Z.resolve())}ys(t,i){if(F0(i))return Z.resolve(null);let a=ji(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=gm(i,null,"F"),a=ji(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=zt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(t,gm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,o){return F0(i)||o.isEqual(At.min())?Z.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?Z.resolve(null):($a()<=Pt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(i)),this.vs(t,d,i,qw(o,Po)).next((g=>g)))}))}Ds(t,i){let a=new Fe(QE(t));return i.forEach(((o,c)=>{Rh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,a){return $a()<=Pt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Za(i)),this.ps.getDocumentsMatchingQuery(t,i,mr.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const rp="LocalStore",bx=3e8;class Sx{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new ve(jt),this.xs=new ra((c=>Xm(c)),$m),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new hx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function Ax(r,t,i,a){return new Sx(r,t,i,a)}async function y1(r,t){const i=Rt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let y=zt();for(const _ of o){d.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of c){g.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function wx(r,t){const i=Rt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,E){const w=_.batch,M=w.keys();let q=Z.resolve();return M.forEach((nt=>{q=q.next((()=>E.getEntry(y,nt))).next((st=>{const et=_.docVersions.get(nt);Jt(et!==null,48541),st.version.compareTo(et)<0&&(w.applyToRemoteDocument(st,_),st.isValidDocument()&&(st.setReadTime(_.commitVersion),E.addEntry(st)))}))})),q.next((()=>g.mutationQueue.removeMutationBatch(y,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let y=zt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function _1(r){const t=Rt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function Rx(r,t){const i=Rt(r),a=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];t.targetChanges.forEach(((E,w)=>{const M=o.get(w);if(!M)return;g.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,w))));let q=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?q=q.withResumeToken(an.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(E.resumeToken,a)),o=o.insert(w,q),(function(st,et,gt){return st.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=bx?!0:gt.addedDocuments.size+gt.modifiedDocuments.size+gt.removedDocuments.size>0})(M,q,E)&&g.push(i.Pi.updateTargetData(c,q))}));let y=vs(),_=zt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(xx(c,d,t.documentUpdates).next((E=>{y=E.ks,_=E.qs}))),!a.isEqual(At.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(E)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function xx(r,t,i){let a=zt(),o=zt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=vs();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(At.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):ut(rp,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function Cx(r,t){const i=Rt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Qm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function Ix(r,t){const i=Rt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,t).next((c=>c?(o=c,Z.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new lr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function Tm(r,t,i){const a=Rt(r),o=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Tl(d))throw d;ut(rp,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function sv(r,t,i){const a=Rt(r);let o=At.min(),c=zt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,E){const w=Rt(y),M=w.xs.get(E);return M!==void 0?Z.resolve(w.Ms.get(M)):w.Pi.getTargetData(_,E)})(a,d,ji(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?o:At.min(),i?c:zt()))).next((g=>(Nx(a,gR(t),g),{documents:g,Qs:c})))))}function Nx(r,t,i){let a=r.Os.get(t)||At.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class rv{constructor(){this.activeTargetIds=bR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Dx{constructor(){this.Mo=new rv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new rv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Ox{Oo(t){}shutdown(){}}const av="ConnectivityMonitor";class lv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(av,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ut(av,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pc=null;function bm(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}const Xd="RestConnection",Mx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vx{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===lh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,c){const d=bm(),g=this.zo(t,i.toUriEncodedString());ut(Xd,`Sending RPC '${t}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(g),E=gl(_);return this.Jo(t,g,y,a,E).then((w=>(ut(Xd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw ul(Xd,`RPC '${t}' ${d} failed with error: `,w,"url: ",g,"request:",a),w}))}Ho(t,i,a,o,c,d){return this.Go(t,i,a,o,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const a=Mx[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class kx{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const on="WebChannelConnection";class Lx extends Vx{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,c){const d=bm();return new Promise(((g,y)=>{const _=new TE;_.setWithCredentials(!0),_.listenOnce(bE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Fc.NO_ERROR:const w=_.getResponseJson();ut(on,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),g(w);break;case Fc.TIMEOUT:ut(on,`RPC '${t}' ${d} timed out`),y(new ft(J.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const M=_.getStatus();if(ut(on,`RPC '${t}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const nt=q?.error;if(nt&&nt.status&&nt.message){const st=(function(gt){const St=gt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(St)>=0?St:J.UNKNOWN})(nt.status);y(new ft(st,nt.message))}else y(new ft(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ft(J.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ut(on,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(o);ut(on,`RPC '${t}' ${d} sending request:`,o),_.send(i,"POST",E,a,15)}))}T_(t,i,a){const o=bm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=wE(),g=AE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const E=c.join("");ut(on,`Creating RPC '${t}' stream ${o}: ${E}`,y);const w=d.createWebChannel(E,y);this.I_(w);let M=!1,q=!1;const nt=new kx({Yo:et=>{q?ut(on,`Not sending because RPC '${t}' stream ${o} is closed:`,et):(M||(ut(on,`Opening RPC '${t}' stream ${o} transport.`),w.open(),M=!0),ut(on,`RPC '${t}' stream ${o} sending:`,et),w.send(et))},Zo:()=>w.close()}),st=(et,gt,St)=>{et.listen(gt,(vt=>{try{St(vt)}catch(Ft){setTimeout((()=>{throw Ft}),0)}}))};return st(w,wo.EventType.OPEN,(()=>{q||(ut(on,`RPC '${t}' stream ${o} transport opened.`),nt.o_())})),st(w,wo.EventType.CLOSE,(()=>{q||(q=!0,ut(on,`RPC '${t}' stream ${o} transport closed`),nt.a_(),this.E_(w))})),st(w,wo.EventType.ERROR,(et=>{q||(q=!0,ul(on,`RPC '${t}' stream ${o} transport errored. Name:`,et.name,"Message:",et.message),nt.a_(new ft(J.UNAVAILABLE,"The operation could not be completed")))})),st(w,wo.EventType.MESSAGE,(et=>{if(!q){const gt=et.data[0];Jt(!!gt,16349);const St=gt,vt=St?.error||St[0]?.error;if(vt){ut(on,`RPC '${t}' stream ${o} received error:`,vt);const Ft=vt.status;let Qt=(function(A){const x=ze[A];if(x!==void 0)return r1(x)})(Ft),Bt=vt.message;Qt===void 0&&(Qt=J.INTERNAL,Bt="Unknown error status: "+Ft+" with message "+vt.message),q=!0,nt.a_(new ft(Qt,Bt)),w.close()}else ut(on,`RPC '${t}' stream ${o} received:`,gt),nt.u_(gt)}})),st(g,SE.STAT_EVENT,(et=>{et.stat===cm.PROXY?ut(on,`RPC '${t}' stream ${o} detected buffering proxy`):et.stat===cm.NOPROXY&&ut(on,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{nt.__()}),0),nt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function $d(){return typeof document<"u"?document:null}function Nh(r){return new zR(r,!0)}class v1{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const ov="PersistentStream";class E1{constructor(t,i,a,o,c,d,g,y){this.Mi=t,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new v1(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(_s(i.toString()),_s("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new ft(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(ov,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ut(ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ux extends E1{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=qR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?zi(d.readTime):At.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=Em(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=pm(y)?{documents:QR(c,y)}:{query:KR(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=o1(c,d.resumeToken);const _=ym(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=fh(c,d.snapshotVersion.toTimestamp());const _=ym(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const a=XR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=Em(this.serializer),i.removeTarget=t,this.q_(i)}}class Px extends E1{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=FR(t.writeResults,t.commitTime),a=zi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=Em(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>GR(this.serializer,a)))};this.q_(i)}}class jx{}class zx extends jx{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ft(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,_m(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ft(J.UNKNOWN,c.toString())}))}Ho(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,_m(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ft(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Bx{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_s(i),this.aa=!1):ut("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ia="RemoteStore";class Hx{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{aa(this)&&(ut(ia,"Restarting streams for network reachability change."),await(async function(y){const _=Rt(y);_.Ea.add(4),await eu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Dh(_)})(this))}))})),this.Ra=new Bx(a,o)}}async function Dh(r){if(aa(r))for(const t of r.da)await t(!0)}async function eu(r){for(const t of r.da)await t(!1)}function T1(r,t){const i=Rt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),up(i)?op(i):bl(i).O_()&&lp(i,t))}function ap(r,t){const i=Rt(r),a=bl(i);i.Ia.delete(t),a.O_()&&b1(i,t),i.Ia.size===0&&(a.O_()?a.L_():aa(i)&&i.Ra.set("Unknown"))}function lp(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}bl(r).Y_(t)}function b1(r,t){r.Va.Ue(t),bl(r).Z_(t)}function op(r){r.Va=new LR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),bl(r).start(),r.Ra.ua()}function up(r){return aa(r)&&!bl(r).x_()&&r.Ia.size>0}function aa(r){return Rt(r).Ea.size===0}function S1(r){r.Va=void 0}async function qx(r){r.Ra.set("Online")}async function Gx(r){r.Ia.forEach(((t,i)=>{lp(r,t)}))}async function Fx(r,t){S1(r),up(r)?(r.Ra.ha(t),op(r)):r.Ra.set("Unknown")}async function Qx(r,t,i){if(r.Ra.set("Online"),t instanceof l1&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,t)}catch(a){ut(ia,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await mh(r,a)}else if(t instanceof Xc?r.Va.Ze(t):t instanceof a1?r.Va.st(t):r.Va.tt(t),!i.isEqual(At.min()))try{const a=await _1(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(_);E&&c.Ia.set(_,E.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(an.EMPTY_BYTE_STRING,E.snapshotVersion)),b1(c,y);const w=new lr(E.target,y,_,E.sequenceNumber);lp(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){ut(ia,"Failed to raise snapshot:",a),await mh(r,a)}}async function mh(r,t,i){if(!Tl(t))throw t;r.Ea.add(1),await eu(r),r.Ra.set("Offline"),i||(i=()=>_1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ut(ia,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Dh(r)}))}function A1(r,t){return t().catch((i=>mh(r,i,t)))}async function Oh(r){const t=Rt(r),i=_r(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Qm;for(;Kx(t);)try{const o=await Cx(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,Yx(t,o)}catch(o){await mh(t,o)}w1(t)&&R1(t)}function Kx(r){return aa(r)&&r.Ta.length<10}function Yx(r,t){r.Ta.push(t);const i=_r(r);i.O_()&&i.X_&&i.ea(t.mutations)}function w1(r){return aa(r)&&!_r(r).x_()&&r.Ta.length>0}function R1(r){_r(r).start()}async function Xx(r){_r(r).ra()}async function $x(r){const t=_r(r);for(const i of r.Ta)t.ea(i.mutations)}async function Zx(r,t,i){const a=r.Ta.shift(),o=Wm.from(a,t,i);await A1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Oh(r)}async function Jx(r,t){t&&_r(r).X_&&await(async function(a,o){if((function(d){return MR(d)&&d!==J.ABORTED})(o.code)){const c=a.Ta.shift();_r(a).B_(),await A1(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Oh(a)}})(r,t),w1(r)&&R1(r)}async function uv(r,t){const i=Rt(r);i.asyncQueue.verifyOperationInProgress(),ut(ia,"RemoteStore received new credentials");const a=aa(i);i.Ea.add(3),await eu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Dh(i)}async function Wx(r,t){const i=Rt(r);t?(i.Ea.delete(2),await Dh(i)):t||(i.Ea.add(2),await eu(i),i.Ra.set("Unknown"))}function bl(r){return r.ma||(r.ma=(function(i,a,o){const c=Rt(i);return c.sa(),new Ux(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:qx.bind(null,r),t_:Gx.bind(null,r),r_:Fx.bind(null,r),H_:Qx.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),up(r)?op(r):r.Ra.set("Unknown")):(await r.ma.stop(),S1(r))}))),r.ma}function _r(r){return r.fa||(r.fa=(function(i,a,o){const c=Rt(i);return c.sa(),new Px(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Xx.bind(null,r),r_:Jx.bind(null,r),ta:$x.bind(null,r),na:Zx.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Oh(r)):(await r.fa.stop(),r.Ta.length>0&&(ut(ia,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class cp{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,g=new cp(t,i,d,o,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hp(r,t){if(_s("AsyncQueue",`${t}: ${r}`),Tl(r))return new ft(J.UNAVAILABLE,`${t}: ${r}`);throw r}class al{static emptySet(t){return new al(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||yt.comparator(i.key,a.key):(i,a)=>yt.comparator(i.key,a.key),this.keyedMap=Ro(),this.sortedSet=new ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof al)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new al;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class cv{constructor(){this.ga=new ve(yt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class pl{constructor(t,i,a,o,c,d,g,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new pl(t,i,al.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class tC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class eC{constructor(){this.queries=hv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Rt(i),c=o.queries;o.queries=hv(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(a)}))})(this,new ft(J.ABORTED,"Firestore shutting down"))}}function hv(){return new ra((r=>FE(r)),wh)}async function x1(r,t){const i=Rt(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(a=2):(c=new tC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=hp(d,`Initialization of query '${Za(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&fp(i)}async function C1(r,t){const i=Rt(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function nC(r,t){const i=Rt(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&fp(i)}function iC(r,t,i){const a=Rt(r),o=a.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(t)}function fp(r){r.Ca.forEach((t=>{t.next()}))}var Sm,fv;(fv=Sm||(Sm={})).Ma="default",fv.Cache="cache";class I1{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new pl(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=pl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Sm.Cache}}class N1{constructor(t){this.key=t}}class D1{constructor(t){this.key=t}}class sC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=QE(t),this.tu=new al(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new cv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,w)=>{const M=o.get(E),q=Rh(this.query,w)?w:null,nt=!!M&&this.mutatedKeys.has(M.key),st=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let et=!1;M&&q?M.data.isEqual(q.data)?nt!==st&&(a.track({type:3,doc:q}),et=!0):this.su(M,q)||(a.track({type:2,doc:q}),et=!0,(y&&this.eu(q,y)>0||_&&this.eu(q,_)<0)&&(g=!0)):!M&&q?(a.track({type:0,doc:q}),et=!0):M&&!q&&(a.track({type:1,doc:M}),et=!0,(y||_)&&(g=!0)),et&&(q?(d=d.add(q),c=st?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,w)=>(function(q,nt){const st=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:et})}};return st(q)-st(nt)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new pl(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new D1(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new N1(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return pl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dp="SyncEngine";class rC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class aC{constructor(t){this.key=t,this.hu=!1}}class lC{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ra((g=>FE(g)),wh),this.Iu=new Map,this.Eu=new Set,this.du=new ve(yt.comparator),this.Au=new Map,this.Ru=new np,this.Vu={},this.mu=new Map,this.fu=ml.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oC(r,t,i=!0){const a=U1(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await O1(a,t,i,!0),o}async function uC(r,t){const i=U1(r);await O1(i,t,!0,!1)}async function O1(r,t,i,a){const o=await Ix(r.localStore,ji(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await cC(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&T1(r.remoteStore,o),g}async function cC(r,t,i,a,o){r.pu=(w,M,q)=>(async function(st,et,gt,St){let vt=et.view.ru(gt);vt.Cs&&(vt=await sv(st.localStore,et.query,!1).then((({documents:I})=>et.view.ru(I,vt))));const Ft=St&&St.targetChanges.get(et.targetId),Qt=St&&St.targetMismatches.get(et.targetId)!=null,Bt=et.view.applyChanges(vt,st.isPrimaryClient,Ft,Qt);return mv(st,et.targetId,Bt.au),Bt.snapshot})(r,w,M,q);const c=await sv(r.localStore,t,!0),d=new sC(t,c.Qs),g=d.ru(c.documents),y=tu.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),_=d.applyChanges(g,r.isPrimaryClient,y);mv(r,i,_.au);const E=new rC(t,i,d);return r.Tu.set(t,E),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function hC(r,t,i){const a=Rt(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!wh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Tm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&ap(a.remoteStore,o.targetId),Am(a,o.targetId)})).catch(El)):(Am(a,o.targetId),await Tm(a.localStore,o.targetId,!0))}async function fC(r,t){const i=Rt(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ap(i.remoteStore,a.targetId))}async function dC(r,t,i){const a=EC(r);try{const o=await(function(d,g){const y=Rt(d),_=de.now(),E=g.reduce(((q,nt)=>q.add(nt.key)),zt());let w,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let nt=vs(),st=zt();return y.Ns.getEntries(q,E).next((et=>{nt=et,nt.forEach(((gt,St)=>{St.isValidDocument()||(st=st.add(gt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(q,nt))).next((et=>{w=et;const gt=[];for(const St of g){const vt=CR(St,w.get(St.key).overlayedDocument);vt!=null&&gt.push(new Tr(St.key,vt,PE(vt.value.mapValue),di.exists(!0)))}return y.mutationQueue.addMutationBatch(q,_,gt,g)})).next((et=>{M=et;const gt=et.applyToLocalDocumentSet(w,st);return y.documentOverlayCache.saveOverlays(q,et.batchId,gt)}))})).then((()=>({batchId:M.batchId,changes:YE(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ve(jt)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await nu(a,o.changes),await Oh(a.remoteStore)}catch(o){const c=hp(o,"Failed to persist write");i.reject(c)}}async function M1(r,t){const i=Rt(r);try{const a=await Rx(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Jt(d.hu,14607):o.removedDocuments.size>0&&(Jt(d.hu,42227),d.hu=!1))})),await nu(i,a,t)}catch(a){await El(a)}}function dv(r,t,i){const a=Rt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const y=Rt(d);y.onlineState=g;let _=!1;y.queries.forEach(((E,w)=>{for(const M of w.Sa)M.va(g)&&(_=!0)})),_&&fp(y)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function mC(r,t,i){const a=Rt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new ve(yt.comparator);d=d.insert(c,cn.newNoDocument(c,At.min()));const g=zt().add(c),y=new Ih(At.min(),new Map,new ve(jt),d,g);await M1(a,y),a.du=a.du.remove(c),a.Au.delete(t),mp(a)}else await Tm(a.localStore,t,!1).then((()=>Am(a,t,i))).catch(El)}async function pC(r,t){const i=Rt(r),a=t.batch.batchId;try{const o=await wx(i.localStore,t);k1(i,a,null),V1(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await nu(i,o)}catch(o){await El(o)}}async function gC(r,t,i){const a=Rt(r);try{const o=await(function(d,g){const y=Rt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return y.mutationQueue.lookupMutationBatch(_,g).next((w=>(Jt(w!==null,37113),E=w.keys(),y.mutationQueue.removeMutationBatch(_,w)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>y.localDocuments.getDocuments(_,E)))}))})(a.localStore,t);k1(a,t,i),V1(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await nu(a,o)}catch(o){await El(o)}}function V1(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function k1(r,t,i){const a=Rt(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function Am(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||L1(r,a)}))}function L1(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(ap(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),mp(r))}function mv(r,t,i){for(const a of i)a instanceof N1?(r.Ru.addReference(a.key,t),yC(r,a)):a instanceof D1?(ut(dp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||L1(r,a.key)):Et(19791,{wu:a})}function yC(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ut(dp,"New document in limbo: "+i),r.Eu.add(a),mp(r))}function mp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new yt(_e.fromString(t)),a=r.fu.next();r.Au.set(a,new aC(i)),r.du=r.du.insert(i,a),T1(r.remoteStore,new lr(ji(Ah(i.path)),a,"TargetPurposeLimboResolution",Eh.ce))}}async function nu(r,t,i){const a=Rt(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const E=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){o.push(_);const E=sp.As(y.targetId,_);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,_){const E=Rt(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Z.forEach(_,(M=>Z.forEach(M.Es,(q=>E.persistence.referenceDelegate.addReference(w,M.targetId,q))).next((()=>Z.forEach(M.ds,(q=>E.persistence.referenceDelegate.removeReference(w,M.targetId,q)))))))))}catch(w){if(!Tl(w))throw w;ut(rp,"Failed to update sequence numbers: "+w)}for(const w of _){const M=w.targetId;if(!w.fromCache){const q=E.Ms.get(M),nt=q.snapshotVersion,st=q.withLastLimboFreeSnapshotVersion(nt);E.Ms=E.Ms.insert(M,st)}}})(a.localStore,c))}async function _C(r,t){const i=Rt(r);if(!i.currentUser.isEqual(t)){ut(dp,"User change. New user:",t.toKey());const a=await y1(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new ft(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await nu(i,a.Ls)}}function vC(r,t){const i=Rt(r),a=i.Au.get(t);if(a&&a.hu)return zt().add(a.key);{let o=zt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function U1(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=M1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mC.bind(null,t),t.Pu.H_=nC.bind(null,t.eventManager),t.Pu.yu=iC.bind(null,t.eventManager),t}function EC(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gC.bind(null,t),t}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Nh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return Ax(this.persistence,new Tx,t.initialUser,this.serializer)}Cu(t){return new g1(ip.mi,this.serializer)}Du(t){return new Dx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class TC extends ph{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Jt(this.persistence.referenceDelegate instanceof dh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new ax(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new g1((a=>dh.mi(a,i)),this.serializer)}}class wm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>dv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=_C.bind(null,this.syncEngine),await Wx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new eC})()}createDatastore(t){const i=Nh(t.databaseInfo.databaseId),a=(function(c){return new Lx(c)})(t.databaseInfo);return(function(c,d,g,y){return new zx(c,d,g,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,g){return new Hx(a,o,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>dv(this.syncEngine,i,0)),(function(){return lv.v()?new lv:new Ox})())}createSyncEngine(t,i){return(function(o,c,d,g,y,_,E){const w=new lC(o,c,d,g,y,_);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Rt(i);ut(ia,"RemoteStore shutting down."),a.Ea.add(5),await eu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wm.provider={build:()=>new wm};class P1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):_s("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const vr="FirestoreClient";class bC{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=un.UNAUTHENTICATED,this.clientId=Gm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ut(vr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ut(vr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=hp(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Zd(r,t){r.asyncQueue.verifyOperationInProgress(),ut(vr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await y1(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function pv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await SC(r);ut(vr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>uv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>uv(t.remoteStore,o))),r._onlineComponents=t}async function SC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ut(vr,"Using user provided OfflineComponentProvider");try{await Zd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;ul("Error using user provided cache. Falling back to memory cache: "+i),await Zd(r,new ph)}}else ut(vr,"Using default OfflineComponentProvider"),await Zd(r,new TC(void 0));return r._offlineComponents}async function j1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ut(vr,"Using user provided OnlineComponentProvider"),await pv(r,r._uninitializedComponentsProvider._online)):(ut(vr,"Using default OnlineComponentProvider"),await pv(r,new wm))),r._onlineComponents}function AC(r){return j1(r).then((t=>t.syncEngine))}async function Rm(r){const t=await j1(r),i=t.eventManager;return i.onListen=oC.bind(null,t.syncEngine),i.onUnlisten=hC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=uC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=fC.bind(null,t.syncEngine),i}function wC(r,t,i={}){const a=new fr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,_){const E=new P1({next:M=>{E.Nu(),d.enqueueAndForget((()=>C1(c,w)));const q=M.docs.has(g);!q&&M.fromCache?_.reject(new ft(J.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&M.fromCache&&y&&y.source==="server"?_.reject(new ft(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),w=new I1(Ah(g.path),E,{includeMetadataChanges:!0,qa:!0});return x1(c,w)})(await Rm(r),r.asyncQueue,t,i,a))),a.promise}function z1(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const gv=new Map;const B1="firestore.googleapis.com",yv=!0;class _v{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ft(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=B1,this.ssl=yv}else this.host=t.host,this.ssl=t.ssl??yv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=p1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<sx)throw new ft(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Hw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=z1(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ft(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ft(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ft(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class pp{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _v({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _v(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Dw;switch(a.type){case"firstParty":return new kw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ft(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=gv.get(i);a&&(ut("ComponentProvider","Removing Datastore"),gv.delete(i),a.terminate())})(this),Promise.resolve()}}function RC(r,t,i,a={}){r=fi(r,pp);const o=gl(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;o&&(kv(`https://${g}`),Lv("Firestore",!0)),c.host!==B1&&c.host!==g&&ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:o,emulatorOptions:a};if(!dr(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,E;if(typeof a.mockUserToken=="string")_=a.mockUserToken,E=un.MOCK_USER;else{_=tS(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ft(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new un(w)}r._authCredentials=new Ow(new xE(_,E))}}class Mh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Mh(this.firestore,t,this._query)}}class He{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Go(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new He(this.firestore,t,this._key)}toJSON(){return{type:He._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Jo(i,He._jsonSchema))return new He(t,a||null,new yt(_e.fromString(i.referencePath)))}}He._jsonSchemaVersion="firestore/documentReference/1.0",He._jsonSchema={type:Be("string",He._jsonSchemaVersion),referencePath:Be("string")};class Go extends Mh{constructor(t,i,a){super(t,i,Ah(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new He(this.firestore,null,new yt(t))}withConverter(t){return new Go(this.firestore,t,this._path)}}function Ce(r,t,...i){if(r=gn(r),arguments.length===1&&(t=Gm.newId()),Bw("doc","path",t),r instanceof pp){const a=_e.fromString(t,...i);return O0(a),new He(r,null,new yt(a))}{if(!(r instanceof He||r instanceof Go))throw new ft(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(_e.fromString(t,...i));return O0(a),new He(r.firestore,r instanceof Go?r.converter:null,new yt(a))}}const vv="AsyncQueue";class Ev{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new v1(this,"async_queue_retry"),this._c=()=>{const a=$d();a&&ut(vv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=$d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=$d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Tl(t))throw t;ut(vv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,_s("INTERNAL UNHANDLED ERROR: ",Tv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=cp.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Et(47125,{Pc:Tv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Tv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function bv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class sa extends pp{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new Ev,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Ev(t),this._firestoreClient=void 0,await t}}}function xC(r,t){const i=typeof r=="object"?r:zv(),a=typeof r=="string"?r:lh,o=Vm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Jb("firestore");c&&RC(o,...c)}return o}function gp(r){if(r._terminated)throw new ft(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||CC(r),r._firestoreClient}function CC(r){const t=r._freezeSettings(),i=(function(o,c,d,g){return new Ww(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,z1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new bC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Jn(an.fromBase64String(t))}catch(i){throw new ft(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Jn(an.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Jo(t,Jn._jsonSchema))return Jn.fromBase64String(t.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Be("string",Jn._jsonSchemaVersion),bytes:Be("string")};class Vh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ft(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class iu{constructor(t){this._methodName=t}}class Bi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ft(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ft(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(t){if(Jo(t,Bi._jsonSchema))return new Bi(t.latitude,t.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Be("string",Bi._jsonSchemaVersion),latitude:Be("number"),longitude:Be("number")};class Hi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Jo(t,Hi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Hi(t.vectorValues);throw new ft(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hi._jsonSchemaVersion="firestore/vectorValue/1.0",Hi._jsonSchema={type:Be("string",Hi._jsonSchemaVersion),vectorValues:Be("object")};const IC=/^__.*__$/;class NC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Tr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Wo(t,this.data,i,this.fieldTransforms)}}class H1{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Tr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function q1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:r})}}class kh{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new kh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return gh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(q1(this.Ac)&&IC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class DC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Nh(t)}Cc(t,i,a,o=!1){return new kh({Ac:t,methodName:i,Dc:a,path:rn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function G1(r){const t=r._freezeSettings(),i=Nh(r._databaseId);return new DC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function OC(r,t,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,o);vp("Data must be an object, but it was:",d,a);const g=F1(a,d);let y,_;if(c.merge)y=new kn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const w of c.mergeFields){const M=xm(t,w,i);if(!d.contains(M))throw new ft(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);K1(E,M)||E.push(M)}y=new kn(E),_=d.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,_=d.fieldTransforms;return new NC(new wn(g),y,_)}class Lh extends iu{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Lh}}function MC(r,t,i){return new kh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class yp extends iu{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=MC(this,t,!0),a=this.vc.map((c=>su(c,i))),o=new dl(a);return new n1(t.path,o)}isEqual(t){return t instanceof yp&&dr(this.vc,t.vc)}}class _p extends iu{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new qo(t.serializer,ZE(t.serializer,this.Fc));return new n1(t.path,i)}isEqual(t){return t instanceof _p&&this.Fc===t.Fc}}function VC(r,t,i,a){const o=r.Cc(1,t,i);vp("Data must be an object, but it was:",o,a);const c=[],d=wn.empty();Er(a,((y,_)=>{const E=Ep(t,y,i);_=gn(_);const w=o.yc(E);if(_ instanceof Lh)c.push(E);else{const M=su(_,w);M!=null&&(c.push(E),d.set(E,M))}}));const g=new kn(c);return new H1(d,g,o.fieldTransforms)}function kC(r,t,i,a,o,c){const d=r.Cc(1,t,i),g=[xm(t,a,i)],y=[o];if(c.length%2!=0)throw new ft(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push(xm(t,c[M])),y.push(c[M+1]);const _=[],E=wn.empty();for(let M=g.length-1;M>=0;--M)if(!K1(_,g[M])){const q=g[M];let nt=y[M];nt=gn(nt);const st=d.yc(q);if(nt instanceof Lh)_.push(q);else{const et=su(nt,st);et!=null&&(_.push(q),E.set(q,et))}}const w=new kn(_);return new H1(E,w,d.fieldTransforms)}function su(r,t){if(Q1(r=gn(r)))return vp("Unsupported field value:",t,r),F1(r,t);if(r instanceof iu)return(function(a,o){if(!q1(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let y=su(g,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=gn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return ZE(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=de.fromDate(a);return{timestampValue:fh(o.serializer,c)}}if(a instanceof de){const c=new de(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:fh(o.serializer,c)}}if(a instanceof Bi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Jn)return{bytesValue:o1(o.serializer,a._byteString)};if(a instanceof He){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ep(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Hi)return(function(d,g){return{mapValue:{fields:{[LE]:{stringValue:UE},[oh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Zm(g.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Fm(a)}`)})(r,t)}function F1(r,t){const i={};return NE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Er(r,((a,o)=>{const c=su(o,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function Q1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof de||r instanceof Bi||r instanceof Jn||r instanceof He||r instanceof iu||r instanceof Hi)}function vp(r,t,i){if(!Q1(i)||!CE(i)){const a=Fm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function xm(r,t,i){if((t=gn(t))instanceof Vh)return t._internalPath;if(typeof t=="string")return Ep(r,t);throw gh("Field path arguments must be of type string or ",r,!1,void 0,i)}const LC=new RegExp("[~\\*/\\[\\]]");function Ep(r,t,i){if(t.search(LC)>=0)throw gh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Vh(...t.split("."))._internalPath}catch{throw gh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function gh(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new ft(J.INVALID_ARGUMENT,g+r+y)}function K1(r,t){return r.some((i=>i.isEqual(t)))}class Y1{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new UC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(X1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class UC extends Y1{data(){return super.data()}}function X1(r,t){return typeof t=="string"?Ep(r,t):t instanceof Vh?t._internalPath:t._delegate._internalPath}function PC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ft(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jC{convertValue(t,i="none"){switch(yr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ne(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(gr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Er(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[oh].arrayValue?.values?.map((a=>Ne(a.doubleValue)));return new Hi(i)}convertGeoPoint(t){return new Bi(Ne(t.latitude),Ne(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=bh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(jo(t));default:return null}}convertTimestamp(t){const i=pr(t);return new de(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=_e.fromString(t);Jt(m1(a),9688,{name:t});const o=new zo(a.get(1),a.get(3)),c=new yt(a.popFirst(5));return o.isEqual(i)||_s(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function zC(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Co{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Wr extends Y1{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(X1("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Wr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Wr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wr._jsonSchema={type:Be("string",Wr._jsonSchemaVersion),bundleSource:Be("string","DocumentSnapshot"),bundleName:Be("string"),bundle:Be("string")};class $c extends Wr{data(t={}){return super.data(t)}}class ll{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Co(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new $c(this._firestore,this._userDataWriter,a.key,a,new Co(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ft(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const y=new $c(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Co(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new $c(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Co(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:BC(g.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ll._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Gm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function BC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}function HC(r){r=fi(r,He);const t=fi(r.firestore,sa);return wC(gp(t),r._key).then((i=>Z1(t,r,i)))}ll._jsonSchemaVersion="firestore/querySnapshot/1.0",ll._jsonSchema={type:Be("string",ll._jsonSchemaVersion),bundleSource:Be("string","QuerySnapshot"),bundleName:Be("string"),bundle:Be("string")};class $1 extends jC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Jn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new He(this.firestore,null,i)}}function qC(r,t,i){r=fi(r,He);const a=fi(r.firestore,sa),o=zC(r.converter,t);return Tp(a,[OC(G1(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,di.none())])}function Xe(r,t,i,...a){r=fi(r,He);const o=fi(r.firestore,sa),c=G1(o);let d;return d=typeof(t=gn(t))=="string"||t instanceof Vh?kC(c,"updateDoc",r._key,t,i,a):VC(c,"updateDoc",r._key,t),Tp(o,[d.toMutation(r._key,di.exists(!0))])}function GC(r){return Tp(fi(r.firestore,sa),[new Jm(r._key,di.none())])}function Sv(r,...t){r=gn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||bv(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(bv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,g;if(r instanceof He)d=fi(r.firestore,sa),g=Ah(r._key.path),c={next:y=>{t[a]&&t[a](Z1(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=fi(r,Mh);d=fi(y.firestore,sa),g=y._query;const _=new $1(d);c={next:E=>{t[a]&&t[a](new ll(d,_,y,E))},error:t[a+1],complete:t[a+2]},PC(r._query)}return(function(_,E,w,M){const q=new P1(M),nt=new I1(E,q,w);return _.asyncQueue.enqueueAndForget((async()=>x1(await Rm(_),nt))),()=>{q.Nu(),_.asyncQueue.enqueueAndForget((async()=>C1(await Rm(_),nt)))}})(gp(d),g,o,c)}function Tp(r,t){return(function(a,o){const c=new fr;return a.asyncQueue.enqueueAndForget((async()=>dC(await AC(a),o,c))),c.promise})(gp(r),t)}function Z1(r,t,i){const a=i.docs.get(t._key),o=new $1(r);return new Wr(r,o,t._key,a,new Co(i.hasPendingWrites,i.fromCache),t.converter)}function $n(...r){return new yp("arrayUnion",r)}function FC(r){return new _p("increment",r)}(function(t,i=!0){(function(o){vl=o})(yl),ol(new ta("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new sa(new Mw(a.getProvider("auth-internal")),new Lw(d,a.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ft(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zo(_.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),cr(C0,I0,t),cr(C0,I0,"esm2020")})();const QC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),Av=r=>{const t=KC(r);return t.charAt(0).toUpperCase()+t.slice(1)},J1=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),YC=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var XC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $C=ne.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},y)=>ne.createElement("svg",{ref:y,...XC,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:J1("lucide",o),...!c&&!YC(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,E])=>ne.createElement(_,E)),...Array.isArray(c)?c:[c]]));const Ee=(r,t)=>{const i=ne.forwardRef(({className:a,...o},c)=>ne.createElement($C,{ref:c,iconNode:t,className:J1(`lucide-${QC(Av(r))}`,`lucide-${r}`,a),...o}));return i.displayName=Av(r),i};const ZC=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],el=Ee("anchor",ZC);const JC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],WC=Ee("aperture",JC);const tI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Jd=Ee("book-open",tI);const eI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jc=Ee("circle-check-big",eI);const nI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],iI=Ee("circle",nI);const sI=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],rI=Ee("copy",sI);const aI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],wv=Ee("crown",aI);const lI=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],W1=Ee("fish",lI);const oI=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],uI=Ee("hammer",oI);const cI=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],hI=Ee("hand",cI);const fI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],dI=Ee("history",fI);const mI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Rv=Ee("log-out",mI);const pI=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],xv=Ee("play",pI);const gI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],tT=Ee("rotate-ccw",gI);const yI=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Cm=Ee("scissors",yI);const _I=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],bp=Ee("ship",_I);const vI=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],EI=Ee("snowflake",vI);const TI=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],nl=Ee("sparkles",TI);const bI=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],Zc=Ee("sword",bI);const SI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],AI=Ee("trash-2",SI);const wI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],zc=Ee("triangle-alert",wI);const RI=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Im=Ee("trophy",RI);const xI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],CI=Ee("x",xI),II={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:c0d92602ad20ed876aa637"},eT=jv(II),Wd=Iw(eT),Ie=xC(eT),je=typeof __app_id<"u"?__app_id:"paper-oceans",NI="18",nT=30,iT=7,ko={CRAB:{id:"CRAB",name:"Paper Crab",type:"DUO",points:0,icon:Cm,color:"text-red-400",bg:"bg-red-950",border:"border-red-700",desc:"Pair: Look through discard pile and pick 1 card.",count:9},BOAT:{id:"BOAT",name:"Origami Boat",type:"DUO",points:0,icon:bp,color:"text-blue-400",bg:"bg-blue-950",border:"border-blue-700",desc:"Pair: Take another turn immediately.",count:8},FISH:{id:"FISH",name:"Flying Fish",type:"DUO",points:0,icon:W1,color:"text-emerald-400",bg:"bg-emerald-950",border:"border-emerald-700",desc:"Pair: Draw the top card of the deck.",count:7},SHARK:{id:"SHARK",name:"Shadow Shark",type:"DUO",points:0,icon:Zc,color:"text-slate-400",bg:"bg-slate-800",border:"border-slate-600",desc:"Pair: Steal a random card from an opponent.",count:5},SHELL:{id:"SHELL",name:"Spiral Shell",type:"COLLECT",points:0,icon:iI,color:"text-amber-200",bg:"bg-amber-950",border:"border-amber-700",desc:"Set: 2pts per shell.",count:6},OCTOPUS:{id:"OCTOPUS",name:"Ink Octopus",type:"COLLECT",points:0,icon:WC,color:"text-purple-400",bg:"bg-purple-950",border:"border-purple-700",desc:"Set: 3pts per octopus.",count:5},PENGUIN:{id:"PENGUIN",name:"Ice Penguin",type:"COLLECT",points:0,icon:EI,color:"text-cyan-200",bg:"bg-cyan-950",border:"border-cyan-700",desc:"Set: 1=1pt, 2=3pts, 3=5pts.",count:3},MERMAID:{id:"MERMAID",name:"Mystic Mermaid",type:"MULTIPLIER",points:0,icon:nl,color:"text-fuchsia-400",bg:"bg-fuchsia-950",border:"border-fuchsia-700",desc:"+1 Point for each card of your most common color.",count:4}},Nm={CRAB:"RED",BOAT:"BLUE",FISH:"GREEN",SHARK:"BLACK",SHELL:"YELLOW",OCTOPUS:"PURPLE",PENGUIN:"CYAN",MERMAID:"MULTI"},DI=()=>{let r=[];Object.values(ko).forEach(t=>{for(let i=0;i<t.count;i++)r.push({id:`${t.id}-${Math.random().toString(36).substr(2,9)}`,type:t.id})});for(let t=r.length-1;t>0;t--){const i=Math.floor(Math.random()*(t+1));[r[t],r[i]]=[r[i],r[t]]}return r},Ya=(r,t)=>{const i=[...r,...t];let a=0;["CRAB","BOAT","FISH","SHARK"].forEach(_=>{const E=t.filter(w=>w.type===_).length;a+=Math.floor(E/2)});const c=i.filter(_=>_.type==="SHELL").length;c>=1&&(a+=c*2);const d=i.filter(_=>_.type==="OCTOPUS").length;a+=d*3;const g=i.filter(_=>_.type==="PENGUIN").length;g===1&&(a+=1),g===2&&(a+=3),g>=3&&(a+=5);const y=i.filter(_=>_.type==="MERMAID").length;if(y>0){const _={};i.forEach(w=>{const M=Nm[w.type];M&&M!=="MULTI"&&(_[M]=(_[M]||0)+1)});const E=Math.max(0,...Object.values(_));a+=y*E}return a},tm=()=>S.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[S.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-blue-900 via-slate-900 to-black"}),S.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-cyan-500/5 mix-blend-overlay"})]}),Cv=()=>S.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-40 mt-auto pb-4 pt-2 relative z-10 pointer-events-none select-none",children:[S.jsx(bp,{size:14,className:"text-cyan-500"}),S.jsx("span",{className:"text-[10px] font-black tracking-[0.2em] text-cyan-500 uppercase",children:"PAPER OCEANS"})]}),OI=({type:r,message:t,subtext:i,icon:a})=>S.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none animate-in fade-in zoom-in duration-300",children:S.jsxs("div",{className:`
      flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-2xl backdrop-blur-xl max-w-sm md:max-w-xl mx-4 text-center
      ${r==="success"?"bg-emerald-900/90 border-emerald-500 text-emerald-100":r==="failure"?"bg-red-900/90 border-red-500 text-red-100":r==="warning"?"bg-amber-900/90 border-amber-500 text-amber-100":"bg-blue-900/90 border-blue-500 text-blue-100"}
    `,children:[a&&S.jsx("div",{className:"mb-4 p-4 bg-black/20 rounded-full",children:S.jsx(a,{size:64,className:"animate-bounce"})}),S.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest drop-shadow-md mb-2",children:t}),i&&S.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide",children:i})]})}),Xa=({cardType:r,onClick:t,disabled:i,highlight:a,small:o,tiny:c,count:d})=>{const g=ko[r];if(!g)return S.jsx("div",{className:"w-16 h-24 bg-gray-800 rounded"});if(c)return S.jsx("div",{className:`w-6 h-8 rounded flex items-center justify-center ${g.bg} border ${g.border} shadow-sm shrink-0`,title:g.name,children:S.jsx(g.icon,{size:12,className:g.color})});const y="relative rounded-xl border-2 shadow-lg transition-all flex flex-col items-center justify-between cursor-pointer active:scale-95 select-none",_=o?"w-14 h-20 md:w-16 md:h-24 p-1":"w-20 h-28 sm:w-24 sm:h-36 md:w-28 md:h-44 lg:w-32 lg:h-48 p-2 md:p-3";return S.jsxs("div",{onClick:i?void 0:t,className:`
        ${y} ${_} ${g.bg} ${a?"ring-4 ring-yellow-400 z-10 scale-105":g.border}
        ${i?"opacity-50 grayscale cursor-not-allowed":"hover:brightness-110 hover:-translate-y-1"}
      `,children:[S.jsxs("div",{className:"w-full flex justify-between items-center text-[8px] md:text-[10px] font-bold text-white/70",children:[S.jsx("span",{children:g.type==="DUO"?"DUO":g.type==="COLLECT"?"SET":"X"}),d>1&&S.jsxs("span",{className:"bg-black/50 px-1 rounded text-white",children:["x",d]})]}),S.jsx(g.icon,{className:`${g.color}`,size:o?16:28}),S.jsxs("div",{className:"w-full text-center",children:[S.jsx("div",{className:"font-bold text-white text-[8px] sm:text-[9px] md:text-xs lg:text-sm leading-tight mb-1 truncate px-1",children:g.name}),!o&&S.jsx("div",{className:"text-[7px] sm:text-[8px] md:text-[9px] text-white/60 leading-tight bg-black/40 p-1 rounded h-8 flex items-center justify-center overflow-hidden",children:g.desc})]})]})},em=({onClose:r})=>S.jsx("div",{className:"fixed inset-0 z-[200] bg-slate-950/95 backdrop-blur-md flex items-center justify-center p-4 animate-in fade-in duration-300",children:S.jsxs("div",{className:"bg-slate-900 border border-slate-700 w-full max-w-4xl rounded-3xl shadow-2xl p-6 md:p-10 relative my-8 max-h-[90vh] flex flex-col",children:[S.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 bg-slate-800 rounded-full hover:bg-red-500/20 hover:text-red-400 transition-colors z-10",children:S.jsx(CI,{size:24})}),S.jsxs("div",{className:"text-center mb-6 shrink-0",children:[S.jsx("h2",{className:"text-3xl md:text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500 tracking-widest uppercase mb-2",children:"How To Play"}),S.jsx("p",{className:"text-slate-400",children:"Collect cards, play pairs, and bet on your victory."})]}),S.jsx("div",{className:"overflow-y-auto pr-2 custom-scrollbar flex-1",children:S.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[S.jsxs("div",{className:"space-y-6",children:[S.jsxs("section",{children:[S.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[S.jsx(el,{className:"text-cyan-500",size:20})," The Goal"]}),S.jsxs("p",{className:"text-slate-300 text-sm leading-relaxed",children:["Win rounds to gain points. The first player to reach"," ",S.jsxs("strong",{children:[nT," points"]})," wins the game. A round ends when a player decides to ",S.jsx("strong",{children:"STOP"})," or call"," ",S.jsx("strong",{children:"LAST CHANCE"}),"."]})]}),S.jsxs("section",{children:[S.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[S.jsx(tT,{className:"text-emerald-500",size:20})," Your Turn"]}),S.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 space-y-3",children:[S.jsxs("div",{className:"flex gap-3",children:[S.jsx("div",{className:"bg-slate-700 w-6 h-6 rounded flex items-center justify-center font-bold text-xs shrink-0",children:"1"}),S.jsxs("div",{className:"text-sm text-slate-300",children:[S.jsx("strong",{children:"Draw:"})," Choose one:",S.jsxs("ul",{className:"list-disc ml-4 mt-1 text-slate-400",children:[S.jsxs("li",{children:["Draw ",S.jsx("strong",{children:"2 cards"})," from Deck, keep"," ",S.jsx("strong",{children:"1"}),"."]}),S.jsxs("li",{children:["Take ",S.jsx("strong",{children:"1 card"})," from Discard."]})]})]})]}),S.jsxs("div",{className:"flex gap-3",children:[S.jsx("div",{className:"bg-slate-700 w-6 h-6 rounded flex items-center justify-center font-bold text-xs shrink-0",children:"2"}),S.jsxs("div",{className:"text-sm text-slate-300",children:[S.jsx("strong",{children:"Play Pairs (Optional):"})," If you have a matching pair of Duo cards, play them to trigger their effect and score points."]})]}),S.jsxs("div",{className:"flex gap-3",children:[S.jsx("div",{className:"bg-slate-700 w-6 h-6 rounded flex items-center justify-center font-bold text-xs shrink-0",children:"3"}),S.jsxs("div",{className:"text-sm text-slate-300",children:[S.jsx("strong",{children:"End Round?"})," If you have"," ",S.jsxs("strong",{children:[iT,"+ points"]}),", you can choose to end the round. Otherwise, end your turn."]})]})]})]})]}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("section",{children:[S.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[S.jsx(nl,{className:"text-purple-500",size:20})," Card Effects"]}),S.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[S.jsxs("div",{className:"bg-red-900/20 border border-red-900/50 p-2 rounded",children:[S.jsx("strong",{className:"text-red-400 block mb-1",children:"CRAB (Duo)"}),"Look through Discard & pick 1."]}),S.jsxs("div",{className:"bg-blue-900/20 border border-blue-900/50 p-2 rounded",children:[S.jsx("strong",{className:"text-blue-400 block mb-1",children:"BOAT (Duo)"}),"Take another turn immediately."]}),S.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-900/50 p-2 rounded",children:[S.jsx("strong",{className:"text-emerald-400 block mb-1",children:"FISH (Duo)"}),"Draw the top card of the deck."]}),S.jsxs("div",{className:"bg-slate-800 border border-slate-600 p-2 rounded",children:[S.jsx("strong",{className:"text-slate-400 block mb-1",children:"SHARK (Duo)"}),"Steal a card from an opponent."]})]})]}),S.jsxs("section",{children:[S.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[S.jsx(Im,{className:"text-yellow-500",size:20})," Ending the Round"]}),S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"bg-slate-800 p-3 rounded-lg border-l-4 border-slate-400",children:[S.jsx("strong",{className:"text-white block",children:"STOP (Safe)"}),S.jsx("span",{className:"text-slate-400 text-xs",children:"Round ends immediately. Everyone scores their points."})]}),S.jsxs("div",{className:"bg-slate-800 p-3 rounded-lg border-l-4 border-yellow-500",children:[S.jsx("strong",{className:"text-yellow-400 block",children:"LAST CHANCE (Bet)"}),S.jsxs("span",{className:"text-slate-400 text-xs",children:["You bet you have the most points. Everyone else gets"," ",S.jsx("strong",{children:"1 final turn"}),"."]}),S.jsxs("ul",{className:"list-disc ml-4 mt-1 text-xs text-slate-500",children:[S.jsxs("li",{children:[S.jsx("strong",{children:"Win Bet:"})," You get Points + Bonus. Opponents get minimal points."]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Lose Bet:"})," You get minimal points. Opponents score big."]})]})]})]})]})]})]})}),S.jsx("div",{className:"text-center pt-4 border-t border-slate-800 shrink-0",children:S.jsx("button",{onClick:r,className:"bg-cyan-600 hover:bg-cyan-500 text-white px-8 py-3 rounded-full font-bold shadow-lg transition-transform active:scale-95",children:"Got it, Captain!"})})]})});function MI(){const[r,t]=ne.useState(null),[i,a]=ne.useState("menu"),[o,c]=ne.useState(""),[d,g]=ne.useState(""),[y,_]=ne.useState(""),[E,w]=ne.useState(null),[M,q]=ne.useState(""),[nt,st]=ne.useState(!1),[et,gt]=ne.useState(!1),[St,vt]=ne.useState(!1),[Ft,Qt]=ne.useState(!1),[Bt,I]=ne.useState(!1),[A,x]=ne.useState([]),[V,N]=ne.useState(null),[L,R]=ne.useState(!1),[ue,ge]=ne.useState(!1),G=ne.useRef(null);ne.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await p2(Wd,__initial_auth_token):await c2(Wd))();const Q=_2(Wd,$=>{if(t($),$){const tt=localStorage.getItem("paper_oceans_name");tt&&c(tt)}});return()=>Q()},[]),ne.useEffect(()=>{const W=localStorage.getItem("paperoceans_roomId");W&&_(W)},[]),ne.useEffect(()=>{if(!y||!r)return;const W=Sv(Ce(Ie,"artifacts",je,"public","data","rooms",y),Q=>{if(Q.exists()){const $=Q.data();if(!$.players.some(tt=>tt.id===r.uid)){_(""),a("menu"),localStorage.removeItem("paperoceans_roomId"),q("You have been kicked from the room.");return}w($),$.status==="lobby"?a("lobby"):($.status==="playing"||$.status==="last_chance"||$.status==="finished"||$.status==="round_end")&&a("game")}else a("menu"),_(""),localStorage.removeItem("paperoceans_roomId"),q("Session dissolved or room does not exist.")},Q=>{console.error("Sync error:",Q),q("Connection lost.")});return()=>W()},[y,r]),ne.useEffect(()=>{y||(G.current=null)},[y]),ne.useEffect(()=>{const W=Sv(Ce(Ie,"game_hub_settings","config"),Q=>{Q.exists()&&Q.data()[NI]?.maintenance?gt(!0):gt(!1)});return()=>W()},[]),ne.useEffect(()=>{if(!E?.logs||E.logs.length===0)return;const W=E.logs[E.logs.length-1];if(G.current===null){G.current=W.id;return}if(W.id<=G.current)return;G.current=W.id;const Q=W.text;let $="",tt="",Ct=jc,lt=!1;Q.includes("played a pair")?(lt=!0,$="PAIR PLAYED!",tt=Q,Ct=nl,Q.includes("Shark")?($="SHARK ATTACK!",Ct=Zc):Q.includes("Crab")?($="SCAVENGER!",Ct=Cm):Q.includes("Boat")&&($="FULL SPEED AHEAD!",Ct=bp)):Q.includes("Stole")?(lt=!0,$="THIEVERY!",tt=Q,Ct=Zc):Q.includes("STOP")?(lt=!0,$="ROUND STOPPED!",tt=Q.split("! ")[0]+" called STOP!",Ct=hI):Q.includes("LAST CHANCE")?(lt=!0,$="LAST CHANCE!",tt="All other players get 1 final turn.",Ct=zc):W.type==="success"&&Q.includes("Bet")?(lt=!0,$="BET SUCCEEDED!",tt="The gamble paid off!",Ct=Im):W.type==="failure"&&Q.includes("Bet")?(lt=!0,$="BET FAILED!",tt="The challenger fell short.",Ct=zc):Q.includes("Round")&&Q.includes("Start")&&(lt=!0,$="ANCHORS AWEIGH!",tt=`Round ${E.round} Begin`,Ct=el),lt&&rt(W.type,$,tt,Ct)},[E?.logs]);const rt=(W,Q,$,tt)=>{N({type:W,message:Q,subtext:$,icon:tt}),setTimeout(()=>N(null),2500)},dt=async()=>{if(!o)return q("Enter Name.");localStorage.setItem("paper_oceans_name",o),st(!0);const W=Math.random().toString(36).substring(2,7).toUpperCase(),Q={roomId:W,hostId:r.uid,status:"lobby",players:[{id:r.uid,name:o,score:0,hand:[],tableau:[],ready:!0}],deck:[],discardPile:[],turnIndex:0,turnState:"DRAW",logs:[],winnerId:null,bettingPlayerId:null,tempDraw:[],round:1};try{await qC(Ce(Ie,"artifacts",je,"public","data","rooms",W),Q),localStorage.setItem("paperoceans_roomId",W),_(W)}catch($){console.error($),q("Could not create room.")}st(!1)},Ht=async()=>{if(!d||!o)return q("Input credentials.");localStorage.setItem("paper_oceans_name",o),st(!0);const W=d.toUpperCase().trim(),Q=Ce(Ie,"artifacts",je,"public","data","rooms",W);try{const $=await HC(Q);if(!$.exists()){q("Room not found."),st(!1);return}const tt=$.data();if(tt.status!=="lobby"){q("Game in progress."),st(!1);return}if(tt.players.length>=4){q("Room full (Max 4)."),st(!1);return}if(tt.players.some(lt=>lt.id===r.uid)){localStorage.setItem("paperoceans_roomId",W),_(W),st(!1);return}const Ct=[...tt.players,{id:r.uid,name:o,score:0,hand:[],tableau:[],ready:!1}];await Xe(Q,{players:Ct}),localStorage.setItem("paperoceans_roomId",W),_(W)}catch($){console.error($),q("Error joining room.")}st(!1)},Xt=async()=>{const W=[...E.players],Q=W.findIndex($=>$.id===r.uid);Q>-1&&(W[Q].ready=!W[Q].ready,await Xe(Ce(Ie,"artifacts",je,"public","data","rooms",y),{players:W}))},O=async W=>{if(E.hostId!==r.uid)return;const Q=E.players.filter($=>$.id!==W);await Xe(Ce(Ie,"artifacts",je,"public","data","rooms",y),{players:Q})},Y=async(W=!1)=>{if(E.hostId!==r.uid)return;let Q=DI();const $=E.players.map(tt=>({...tt,hand:[],tableau:[],score:W?tt.score:0}));await Xe(Ce(Ie,"artifacts",je,"public","data","rooms",y),{status:"playing",deck:Q,discardPile:[Q.pop(),Q.pop()],players:$,turnIndex:W?(E.turnIndex+1)%$.length:0,turnState:"DRAW",logs:$n({text:W?`--- Round ${E.round+1} Start ---`:"--- Game Start ---",type:"neutral",id:Date.now()}),bettingPlayerId:null,tempDraw:[],round:W?FC(1):1})},at=async()=>{if(y){try{const W=Ce(Ie,"artifacts",je,"public","data","rooms",y);if(E.hostId===r.uid)await GC(W);else{const Q=E.players.filter($=>$.id!==r.uid);await Xe(W,{players:Q})}}catch{console.log("Room might already be deleted")}localStorage.removeItem("paperoceans_roomId"),_(""),a("menu"),I(!1),w(null)}},ot=async()=>{if(E.hostId!==r.uid)return;const W=E.players.map($=>({...$,hand:[],tableau:[],score:0,ready:!1})),Q=W.find($=>$.id===E.hostId);Q&&(Q.ready=!0),await Xe(Ce(Ie,"artifacts",je,"public","data","rooms",y),{status:"lobby",players:W,deck:[],discardPile:[],logs:[],round:1,turnIndex:0,winnerId:null,bettingPlayerId:null,tempDraw:[]}),I(!1)},Tt=()=>{try{navigator.clipboard.writeText(y),rt("neutral","COPIED!","",jc)}catch{const Q=document.createElement("textarea");Q.value=y,document.body.appendChild(Q),Q.select(),document.execCommand("copy"),document.body.removeChild(Q),rt("neutral","COPIED!","",jc)}},xt=async()=>{const W=[...E.players],Q=[...E.deck];if(Q.length<2){const tt=[...E.discardPile];if(tt.length===0&&Q.length===0)return;if(E.discardPile.length>0){const Ct=tt.pop(),lt=[...Q,...tt];for(let pt=lt.length-1;pt>0;pt--){const kt=Math.floor(Math.random()*(pt+1));[lt[pt],lt[kt]]=[lt[kt],lt[pt]]}await Xe(Ce(Ie,"artifacts",je,"public","data","rooms",y),{deck:lt,discardPile:[Ct],logs:$n({text:"Deck reshuffled from discard.",type:"neutral",id:Date.now()})});return}}const $=[Q.pop(),Q.pop()].filter(Boolean);await Xe(Ce(Ie,"artifacts",je,"public","data","rooms",y),{turnState:"DRAW_DECISION",tempDraw:$,deck:Q,logs:$n({text:`${W[E.turnIndex].name} draws 2...`,type:"neutral",id:Date.now()})})},Vt=async W=>{const Q=[...E.players],$=[...E.discardPile],tt=[...E.tempDraw],Ct=E.turnIndex,lt=tt[W],pt=tt[W===0?1:0];Q[Ct].hand.push(lt),pt&&$.push(pt),await Xe(Ce(Ie,"artifacts",je,"public","data","rooms",y),{turnState:"ACTION_PHASE",players:Q,discardPile:$,tempDraw:[],logs:$n({text:"...kept 1 and discarded 1.",type:"neutral",id:Date.now()})})},Se=async()=>{const W=[...E.players],Q=[...E.discardPile],$=E.turnIndex,tt=Q.pop();W[$].hand.push(tt),await Xe(Ce(Ie,"artifacts",je,"public","data","rooms",y),{turnState:"ACTION_PHASE",players:W,discardPile:Q,logs:$n({text:`${W[$].name} took ${ko[tt.type].name} from discard.`,type:"neutral",id:Date.now()})})},ce=async()=>{if(A.length!==2)return;const W=E.turnIndex,Q=[...E.players],$=Q[W],tt=$.hand[A[0]],Ct=$.hand[A[1]];if(tt.type!==Ct.type||ko[tt.type].type!=="DUO"){rt("failure","INVALID DUO","Must pick 2 matching Duo cards.",zc),x([]);return}const lt=[...A].sort((ye,le)=>le-ye);$.hand.splice(lt[0],1),$.hand.splice(lt[1],1),$.tableau.push(tt,Ct);let pt="ACTION_PHASE",kt=[{text:`${$.name} played a pair of ${ko[tt.type].name}s!`,type:"success",id:Date.now()}];if(tt.type==="BOAT")pt="DRAW",kt.push({text:"Effect: Extra Turn! Draw again.",type:"success",id:Date.now()+1});else if(tt.type==="FISH"){const ye=[...E.deck];if(ye.length>0){const le=ye.pop();$.hand.push(le),kt.push({text:"Effect: Drew a card from deck.",type:"neutral",id:Date.now()+1})}}else tt.type==="CRAB"?E.discardPile.length>0&&R(!0):tt.type==="SHARK"&&(Q.some((le,fn)=>fn!==W&&le.hand.length>0)?ge(!0):kt.push({text:"No one to steal from!",type:"neutral",id:Date.now()+1}));x([]),await Xe(Ce(Ie,"artifacts",je,"public","data","rooms",y),{players:Q,turnState:pt,logs:$n(...kt),deck:E.deck})},Fi=async W=>{const Q=[...E.players],$=[...E.discardPile],tt=$.findIndex(Ct=>Ct.id===W.id);tt>-1&&($.splice(tt,1),Q[E.turnIndex].hand.push(W)),R(!1),await Xe(Ce(Ie,"artifacts",je,"public","data","rooms",y),{players:Q,discardPile:$,logs:$n({text:"Effect: Picked a card from discard.",type:"neutral",id:Date.now()})})},Ts=async W=>{const Q=[...E.players],$=E.turnIndex,tt=Q.findIndex(Ct=>Ct.id===W);if(Q[tt].hand.length>0){const Ct=Math.floor(Math.random()*Q[tt].hand.length),lt=Q[tt].hand.splice(Ct,1)[0];Q[$].hand.push(lt),ge(!1),await Xe(Ce(Ie,"artifacts",je,"public","data","rooms",y),{players:Q,logs:$n({text:`Effect: Stole card from ${Q[tt].name}.`,type:"failure",id:Date.now()})})}else ge(!1)},bs=async()=>{const W=[...E.players],Q=(E.turnIndex+1)%W.length;if(E.status==="last_chance"&&W[Q].id===E.bettingPlayerId){await br(W);return}await Xe(Ce(Ie,"artifacts",je,"public","data","rooms",y),{turnIndex:Q,turnState:"DRAW",logs:$n({text:`Turn: ${W[Q].name}`,type:"neutral",id:Date.now()})})},Ss=async()=>{const W=[...E.players],Q=W[E.turnIndex];W.forEach($=>{const tt=Ya($.hand,$.tableau);$.score+=tt,$.ready=$.id===E.hostId}),await Xe(Ce(Ie,"artifacts",je,"public","data","rooms",y),{status:"round_end",players:W,logs:$n({text:`${Q.name} called STOP! Round ended safely.`,type:"success",id:Date.now()})}),setTimeout(()=>mi(W,y),3e3)},Ln=async()=>{const W=[...E.players],Q=W[E.turnIndex];await Xe(Ce(Ie,"artifacts",je,"public","data","rooms",y),{status:"last_chance",bettingPlayerId:Q.id,turnIndex:(E.turnIndex+1)%W.length,turnState:"DRAW",logs:$n({text:` ${Q.name} called LAST CHANCE! Everyone gets 1 turn to beat them.`,type:"warning",id:Date.now()})})},br=async W=>{const Q=[...W],$=E.bettingPlayerId,tt=Q.find(pt=>pt.id===$),Ct=Ya(tt.hand,tt.tableau);let lt=!0;if(Q.forEach(pt=>{pt.id!==$&&Ya(pt.hand,pt.tableau)>=Ct&&(lt=!1)}),lt)tt.score+=Ct+5,Q.forEach(pt=>{if(pt.id!==$){const kt=[...pt.hand,...pt.tableau],ye=kt.filter(fn=>fn.type==="MERMAID").length;let le=0;if(ye>0){const fn={};kt.forEach(dn=>{const As=Nm[dn.type];As&&As!=="MULTI"&&(fn[As]=(fn[As]||0)+1)}),le=ye*Math.max(0,...Object.values(fn))}pt.score+=le}});else{const pt=[...tt.hand,...tt.tableau],kt=pt.filter(le=>le.type==="MERMAID").length;let ye=0;if(kt>0){const le={};pt.forEach(fn=>{const dn=Nm[fn.type];dn&&dn!=="MULTI"&&(le[dn]=(le[dn]||0)+1)}),ye=kt*Math.max(0,...Object.values(le))}tt.score+=ye,Q.forEach(le=>{le.id!==$&&(le.score+=Ya(le.hand,le.tableau))})}Q.forEach(pt=>pt.ready=pt.id===E.hostId),await Xe(Ce(Ie,"artifacts",je,"public","data","rooms",y),{status:"round_end",players:Q,logs:$n({text:lt?`Bet Succeeded! ${tt.name} gets bonus.`:`Bet Failed! ${tt.name} gets minimum.`,type:lt?"success":"failure",id:Date.now()})}),setTimeout(()=>mi(Q,y),4e3)},mi=async(W,Q)=>{const tt=[...W].sort((Ct,lt)=>lt.score-Ct.score)[0];tt.score>=nT&&await Xe(Ce(Ie,"artifacts",je,"public","data","rooms",Q),{status:"finished",winnerId:tt.id})};if(et)return S.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[S.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[S.jsx(uI,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),S.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),S.jsx("p",{className:"text-gray-400",children:"Tide is low. Folding operations paused."})]}),S.jsx("div",{className:"h-8"}),S.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:S.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:S.jsx("div",{className:"text-center pb-12 animate-pulse",children:S.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[S.jsx(nl,{size:16})," Visit Gamehub...Try our other releases..."," ",S.jsx(nl,{size:16})]})})})})]});if(i==="menu")return S.jsxs("div",{className:"min-h-screen bg-slate-900 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans select-none",children:[S.jsx(tm,{}),Ft&&S.jsx(em,{onClose:()=>Qt(!1)}),S.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[S.jsx(el,{size:64,className:"text-cyan-400 mx-auto mb-4 animate-bounce"}),S.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-b from-cyan-400 to-blue-600 tracking-widest drop-shadow-md",children:"PAPER OCEANS"}),S.jsx("p",{className:"text-cyan-400/60 tracking-[0.3em] uppercase mt-2 text-sm md:text-base",children:"Fold. Collect. Bet."})]}),S.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-md border border-cyan-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 relative",children:[M&&S.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 text-red-200 p-3 mb-4 rounded text-center text-sm font-bold flex items-center justify-center gap-2",children:[S.jsx(zc,{size:16})," ",M]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"text-xs font-bold text-cyan-500 uppercase ml-1",children:"Captain Name"}),S.jsx("input",{className:"w-full bg-black/50 border border-slate-700 focus:border-cyan-500 p-4 rounded-xl text-white outline-none transition-all text-lg font-bold",placeholder:"Enter Name...",value:o,onChange:W=>c(W.target.value),maxLength:12})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[S.jsxs("button",{onClick:dt,disabled:nt,className:"bg-gradient-to-br from-cyan-600 to-blue-700 hover:from-cyan-500 hover:to-blue-600 p-4 rounded-xl font-bold flex flex-col items-center justify-center gap-1 transition-all active:scale-95 shadow-lg shadow-cyan-900/50",children:[S.jsx(el,{size:24}),S.jsx("span",{children:"New Voyage"})]}),S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsx("input",{className:"bg-black/50 border border-slate-700 focus:border-cyan-500 p-2 rounded-xl text-white text-center uppercase font-mono font-bold tracking-widest outline-none h-12",placeholder:"CODE",value:d,onChange:W=>g(W.target.value.toUpperCase()),maxLength:5}),S.jsx("button",{onClick:Ht,disabled:nt,className:"bg-slate-800 hover:bg-slate-700 p-2 rounded-xl font-bold text-slate-300 transition-all active:scale-95 h-full",children:"Join Fleet"})]})]})]}),S.jsxs("button",{onClick:()=>Qt(!0),className:"w-full mt-4 text-slate-400 hover:text-cyan-400 text-sm font-bold flex items-center justify-center gap-2 transition-colors py-2",children:[S.jsx(Jd,{size:16})," How to Play"]})]})]});if(i==="lobby"&&E){const W=E.hostId===r.uid;return S.jsxs("div",{className:"min-h-screen bg-slate-900 text-white flex flex-col items-center justify-center p-6 relative",children:[S.jsx(tm,{}),Ft&&S.jsx(em,{onClose:()=>Qt(!1)}),S.jsxs("div",{className:"z-10 w-full max-w-lg bg-slate-900/90 backdrop-blur p-8 rounded-2xl border border-cyan-500/30 shadow-2xl animate-in slide-in-from-bottom-8",children:[S.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-slate-700 pb-4",children:[S.jsxs("div",{className:"flex flex-col",children:[S.jsx("span",{className:"text-xs text-cyan-500 uppercase font-bold tracking-wider",children:"Voyage Code"}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("h2",{className:"text-4xl font-black text-white font-mono tracking-widest",children:E.roomId}),S.jsx("button",{onClick:Tt,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:S.jsx(rI,{size:16})})]})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:()=>Qt(!0),className:"p-3 bg-slate-800 hover:bg-slate-700 rounded-xl text-cyan-400 transition-colors",title:"How to Play",children:S.jsx(Jd,{size:20})}),S.jsx("button",{onClick:at,className:"p-3 bg-red-900/30 hover:bg-red-900/50 rounded-xl text-red-400 transition-colors",children:S.jsx(Rv,{size:20})})]})]}),S.jsxs("div",{className:"space-y-3 mb-8",children:[S.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:["Crew Manifest (",E.players.length,"/4)"]}),E.players.map(Q=>S.jsxs("div",{className:"flex justify-between items-center bg-slate-800 p-4 rounded-xl border border-slate-700",children:[S.jsxs("span",{className:"font-bold flex items-center gap-3 text-lg",children:[S.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center text-xs font-black",children:Q.name.charAt(0)}),Q.name,Q.id===E.hostId&&S.jsx(wv,{size:16,className:"text-yellow-500"})]}),S.jsx("div",{className:"flex items-center gap-2",children:W&&Q.id!==r.uid&&S.jsx("button",{onClick:()=>O(Q.id),className:"p-1.5 hover:bg-red-900/50 rounded text-slate-500 hover:text-red-400 transition-colors",title:"Kick Player",children:S.jsx(AI,{size:16})})})]},Q.id)),Array.from({length:4-E.players.length}).map((Q,$)=>S.jsx("div",{className:"border-2 border-dashed border-slate-800 rounded-xl p-4 flex items-center justify-center text-slate-700 font-bold uppercase text-sm",children:"Empty Slot"},$))]}),W?S.jsx("button",{onClick:()=>Y(!1),disabled:E.players.length<2,className:"w-full bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 py-4 rounded-xl font-bold text-xl disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-emerald-900/50 transition-all active:scale-95 flex items-center justify-center gap-2",children:E.players.length<2?"Waiting for Crew...":S.jsxs(S.Fragment,{children:[S.jsx(xv,{size:24,fill:"currentColor"})," Set Sail"]})}):S.jsx("div",{className:"w-full py-4 rounded-xl bg-slate-800 border border-slate-700 text-slate-400 text-center font-bold",children:"Waiting for Captain..."})]}),S.jsx(Cv,{})]})}if(i==="game"&&E){const W=E.players.findIndex(lt=>lt.id===r.uid),Q=E.players[W],$=E.turnIndex===W,tt=Ya(Q.hand,Q.tableau),Ct=tt>=iT&&$&&E.turnState==="ACTION_PHASE";return S.jsxs("div",{className:"fixed inset-0 bg-slate-950 text-white overflow-hidden flex flex-col font-sans select-none",children:[S.jsx(tm,{}),Ft&&S.jsx(em,{onClose:()=>Qt(!1)}),V&&S.jsx(OI,{type:V.type,message:V.message,subtext:V.subtext,icon:V.icon}),S.jsxs("div",{className:"h-14 bg-slate-900/80 border-b border-slate-800 flex items-center justify-between px-4 z-50 backdrop-blur-md shrink-0",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-8 h-8 bg-cyan-900/50 rounded flex items-center justify-center",children:S.jsx(W1,{size:18,className:"text-cyan-500"})}),S.jsxs("div",{className:"flex flex-col",children:[S.jsxs("span",{className:"font-bold tracking-wider text-cyan-100 text-sm leading-none",children:["ROOM: ",E.roomId]}),S.jsxs("span",{className:"text-[10px] text-cyan-500 font-mono",children:["ROUND ",E.round]})]})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:()=>Qt(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400 hover:text-cyan-400 transition-colors",title:"How to Play",children:S.jsx(Jd,{size:18})}),S.jsx("button",{onClick:()=>vt(!St),className:`p-2 rounded transition-colors ${St?"bg-cyan-900 text-cyan-400":"hover:bg-slate-800 text-slate-400"}`,children:S.jsx(dI,{size:18})}),S.jsx("button",{onClick:()=>I(!0),className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:S.jsx(Rv,{size:18})})]})]}),St&&S.jsxs("div",{className:"absolute top-14 right-0 w-64 bg-slate-900/95 border-l border-slate-700 bottom-0 z-[60] overflow-y-auto p-2 backdrop-blur-xl",children:[S.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 sticky top-0 bg-slate-900/95 py-2",children:"Captain's Log"}),S.jsx("div",{className:"space-y-2",children:E.logs.slice().reverse().map(lt=>S.jsx("div",{className:`text-xs p-2 rounded border-l-2 ${lt.type==="success"?"border-emerald-500 bg-emerald-900/10":lt.type==="failure"?"border-red-500 bg-red-900/10":lt.type==="warning"?"border-amber-500 bg-amber-900/10":"border-slate-500 bg-slate-800/30"}`,children:lt.text},lt.id))})]}),S.jsxs("div",{className:"flex-1 flex flex-col relative z-10 overflow-hidden",children:[S.jsx("div",{className:"flex-none p-2 grid grid-cols-3 gap-2",children:E.players.map((lt,pt)=>{if(lt.id===r.uid)return null;const kt=E.turnIndex===pt;return Ya([],lt.tableau),S.jsxs("div",{className:`relative p-2 rounded-xl transition-all duration-500 ${kt?"bg-slate-800 border-2 border-cyan-500 shadow-[0_0_15px_rgba(6,182,212,0.3)]":"bg-slate-900/50 border border-slate-800 opacity-80"}`,children:[kt&&S.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-cyan-500 text-black text-[9px] font-black px-2 py-0.5 rounded-full uppercase tracking-widest z-20",children:"Active"}),S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[S.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center font-bold text-xs border border-slate-600",children:lt.name.charAt(0)}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("div",{className:"text-xs font-bold truncate",children:lt.name}),S.jsxs("div",{className:"text-[10px] text-slate-400 flex justify-between",children:[S.jsxs("span",{children:["Cards: ",lt.hand.length]}),S.jsxs("span",{className:"text-yellow-500",children:[lt.score,"pts"]})]})]})]}),S.jsxs("div",{className:"flex flex-wrap gap-1 h-12 content-start overflow-hidden",children:[lt.tableau.map((ye,le)=>S.jsx(Xa,{cardType:ye.type,tiny:!0},le)),lt.tableau.length===0&&S.jsx("span",{className:"text-[9px] text-slate-600 italic",children:"No cards played"})]}),ue&&lt.hand.length>0&&S.jsxs("button",{onClick:()=>Ts(lt.id),className:"absolute inset-0 bg-red-500/80 rounded-xl z-30 flex flex-col items-center justify-center animate-in zoom-in cursor-pointer hover:bg-red-600/90 transition-colors",children:[S.jsx(Zc,{size:24,className:"text-white mb-1"}),S.jsx("span",{className:"font-black text-white text-sm uppercase tracking-widest",children:"STEAL"})]})]},lt.id)})}),S.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center relative min-h-[180px]",children:[$&&E.turnState==="DRAW_DECISION"?S.jsxs("div",{className:"flex flex-col items-center gap-4 animate-in zoom-in duration-300",children:[S.jsx("h3",{className:"text-lg font-bold text-white bg-black/50 px-4 py-1 rounded-full backdrop-blur",children:"Choose 1 to Keep"}),S.jsx("div",{className:"flex gap-4",children:E.tempDraw.map((lt,pt)=>S.jsxs("div",{className:"flex flex-col items-center gap-3",children:[S.jsx(Xa,{cardType:lt.type,highlight:!0}),S.jsx("button",{onClick:()=>Vt(pt),className:"bg-emerald-500 hover:bg-emerald-400 text-white px-6 py-2 rounded-full font-bold text-sm shadow-lg transition-transform active:scale-95",children:"Keep"})]},pt))})]}):S.jsxs("div",{className:"flex gap-4 md:gap-8 items-center",children:[S.jsxs("div",{onClick:()=>$&&E.turnState==="DRAW"?xt():null,className:`
                    w-20 h-28 sm:w-24 sm:h-36 md:w-28 md:h-44 bg-slate-800 rounded-xl border-2 border-slate-600 flex flex-col items-center justify-center relative shadow-xl transition-all
                    ${$&&E.turnState==="DRAW"?"cursor-pointer hover:-translate-y-2 hover:border-cyan-400 hover:shadow-cyan-500/20 ring-4 ring-cyan-500/20":"opacity-80"}
                  `,children:[S.jsx("div",{className:"absolute inset-2 border-2 border-dashed border-slate-700/50 rounded flex items-center justify-center",children:S.jsx(el,{className:"text-slate-700",size:32})}),S.jsxs("div",{className:"z-10 bg-slate-900 px-2 py-1 rounded text-xs font-bold text-slate-400 shadow",children:[E.deck.length," Left"]}),$&&E.turnState==="DRAW"&&S.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 bg-cyan-600 text-white text-[10px] font-bold px-2 py-1 rounded whitespace-nowrap animate-bounce",children:"DRAW 2"})]}),S.jsx("div",{onClick:()=>$&&E.turnState==="DRAW"&&E.discardPile.length>0?Se():null,className:`
                    w-20 h-28 sm:w-24 sm:h-36 md:w-28 md:h-44 bg-black/20 rounded-xl border-2 border-dashed border-slate-700 flex items-center justify-center relative
                    ${$&&E.turnState==="DRAW"&&E.discardPile.length>0?"cursor-pointer hover:border-cyan-400 hover:bg-slate-800/50":""}
                  `,children:E.discardPile.length>0?S.jsxs("div",{className:"relative w-full h-full transform rotate-3",children:[S.jsx(Xa,{cardType:E.discardPile[E.discardPile.length-1].type,disabled:!$||E.turnState!=="DRAW"}),$&&E.turnState==="DRAW"&&S.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 bg-cyan-600 text-white text-[10px] font-bold px-2 py-1 rounded whitespace-nowrap animate-bounce",children:"TAKE 1"})]}):S.jsx("span",{className:"text-xs text-slate-600 font-bold uppercase tracking-widest",children:"Empty"})})]}),S.jsx("div",{className:"absolute top-0 w-full text-center pointer-events-none",children:!$&&E.status==="playing"&&S.jsxs("div",{className:"inline-block bg-slate-900/80 px-4 py-1 rounded-full text-slate-400 text-sm border border-slate-700",children:["Waiting for ",E.players[E.turnIndex].name,"..."]})})]}),S.jsxs("div",{className:"flex-none bg-slate-900 border-t border-slate-800 p-3 pb-6 relative z-20 shadow-[0_-5px_20px_rgba(0,0,0,0.5)]",children:[S.jsxs("div",{className:"flex flex-wrap justify-between items-end mb-3 gap-2",children:[S.jsxs("div",{className:"flex gap-4 items-center",children:[S.jsxs("div",{className:"flex flex-col",children:[S.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider text-yellow-500/80",children:"Total Score"}),S.jsx("span",{className:"text-2xl font-black text-yellow-500 leading-none",children:Q.score})]}),S.jsx("div",{className:"w-px bg-slate-700 h-8"}),S.jsxs("div",{className:"flex flex-col",children:[S.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider",children:"Round Est."}),S.jsx("span",{className:"text-2xl font-black text-white leading-none",children:tt})]})]}),S.jsxs("div",{className:"flex gap-2 items-center flex-wrap justify-end ml-auto",children:[A.length===2&&$&&E.turnState==="ACTION_PHASE"&&S.jsxs("button",{onClick:ce,className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-6 py-2 rounded-lg font-bold shadow-lg animate-in slide-in-from-bottom-2 hover:scale-105 transition-all flex items-center gap-2",children:[S.jsx(nl,{size:16})," Play Pair"]}),$&&E.turnState==="ACTION_PHASE"&&S.jsxs("button",{onClick:bs,className:"bg-slate-700 hover:bg-slate-600 text-white px-6 py-2 rounded-lg font-bold shadow-lg flex items-center gap-2 transition-colors",children:["End Turn ",S.jsx(tT,{size:16})]}),Ct&&S.jsxs("div",{className:"flex gap-2 ml-4 pl-4 border-l border-slate-700",children:[S.jsx("button",{onClick:Ss,className:"bg-slate-100 hover:bg-white text-slate-900 px-4 py-2 rounded-lg font-black shadow-lg hover:shadow-white/20 transition-all active:scale-95",children:"STOP"}),S.jsx("button",{onClick:Ln,className:"bg-gradient-to-r from-amber-500 to-orange-600 hover:brightness-110 text-white px-4 py-2 rounded-lg font-black shadow-lg animate-pulse transition-all active:scale-95 border-2 border-white/20",children:"LAST CHANCE"})]})]})]}),S.jsxs("div",{className:"flex gap-4 h-48",children:[S.jsxs("div",{className:"w-24 flex-none flex flex-col gap-1 border-r border-slate-800 pr-2",children:[S.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold text-center flex-none",children:"Tableau"}),S.jsxs("div",{className:"flex-1 overflow-y-auto space-y-1 custom-scrollbar pb-16",children:[Q.tableau.map((lt,pt)=>S.jsx("div",{className:`${pt>0?"-mt-16":""} transition-all hover:translate-x-2`,children:S.jsx(Xa,{cardType:lt.type,small:!0})},pt)),Q.tableau.length===0&&S.jsx("div",{className:"h-full flex items-center justify-center text-[10px] text-slate-700 text-center",children:"No Pairs Played"})]})]}),S.jsxs("div",{className:"flex-1 overflow-x-auto pb-2 pt-8 flex items-center gap-2 px-2",children:[Q.hand.map((lt,pt)=>{const kt=A.includes(pt);return S.jsx("div",{className:`transition-all duration-200 transform origin-bottom ${kt?"-translate-y-6 scale-105 z-10":"hover:-translate-y-2 hover:z-10"}`,children:S.jsx(Xa,{cardType:lt.type,highlight:kt,onClick:()=>{E.turnState!=="ACTION_PHASE"&&E.turnState!=="DRAW_DECISION"||(A.includes(pt)?x(A.filter(ye=>ye!==pt)):A.length<2&&x([...A,pt]))}})},pt)}),Q.hand.length===0&&S.jsx("div",{className:"w-full text-center text-slate-600 font-bold italic",children:"Hand Empty"})]})]})]})]}),L&&S.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in",children:S.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-3xl p-6 shadow-2xl",children:[S.jsxs("h3",{className:"text-2xl font-black text-white mb-6 flex items-center gap-3",children:[S.jsx(Cm,{className:"text-red-400"})," Salvage from Discard"]}),S.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 md:grid-cols-6 gap-3 max-h-[60vh] overflow-y-auto p-2 bg-black/20 rounded-xl mb-4",children:E.discardPile.map((lt,pt)=>S.jsx(Xa,{cardType:lt.type,onClick:()=>Fi(lt),small:!0},pt))}),S.jsx("button",{onClick:()=>R(!1),className:"w-full bg-slate-800 hover:bg-slate-700 py-4 rounded-xl text-slate-300 font-bold transition-colors",children:"Cancel"})]})}),(E.status==="finished"||E.status==="round_end")&&S.jsxs("div",{className:"absolute inset-0 bg-slate-950/95 backdrop-blur-xl z-[150] flex flex-col items-center justify-center p-4 text-center animate-in fade-in duration-500",children:[E.status==="finished"?S.jsx(Im,{size:80,className:"text-yellow-400 mb-6 animate-bounce"}):S.jsx(VI,{status:E.status}),S.jsx("h2",{className:"text-4xl md:text-6xl font-black text-white mb-2 uppercase tracking-widest drop-shadow-xl",children:E.status==="finished"?"LEGEND OF THE SEA":"ROUND COMPLETE"}),S.jsx("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-white/10 w-full max-w-md mb-8",children:S.jsx("div",{className:"space-y-3",children:[...E.players].sort((lt,pt)=>pt.score-lt.score).map((lt,pt)=>S.jsxs("div",{className:"flex justify-between items-center border-b border-slate-800 pb-2 last:border-0",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsxs("span",{className:"font-mono text-slate-500 font-bold w-6",children:["#",pt+1]}),S.jsx("span",{className:"font-bold text-lg",children:lt.name}),E.status==="finished"&&pt===0&&S.jsx(wv,{size:16,className:"text-yellow-500"})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[lt.ready?S.jsxs("span",{className:"text-emerald-400 text-[10px] font-bold uppercase bg-emerald-900/30 px-2 py-1 rounded flex items-center gap-1",children:[S.jsx(jc,{size:10})," Ready"]}):S.jsx("span",{className:"text-slate-500 text-[10px] font-bold uppercase bg-slate-900/30 px-2 py-1 rounded",children:"Not Ready"}),S.jsx("span",{className:"text-2xl font-black text-cyan-400",children:lt.score})]})]},lt.id))})}),E.hostId===r.uid?S.jsxs("div",{className:"flex flex-col gap-3",children:[S.jsxs("button",{onClick:()=>Y(E.status==="round_end"),disabled:!E.players.every(lt=>lt.ready),className:"bg-white hover:bg-cyan-50 text-cyan-900 px-10 py-4 rounded-full font-black text-xl shadow-xl hover:scale-105 transition-all flex items-center gap-2 justify-center disabled:opacity-50 disabled:grayscale disabled:scale-100 disabled:cursor-not-allowed",children:[E.players.every(lt=>lt.ready)?E.status==="finished"?"NEW GAME":"NEXT ROUND":"WAITING FOR READY...",S.jsx(xv,{fill:"currentColor",size:20})]}),S.jsx("button",{onClick:ot,className:"text-slate-400 hover:text-white text-sm font-bold uppercase tracking-widest hover:underline",children:"Return to Lobby"})]}):S.jsxs("div",{className:"flex flex-col items-center gap-2",children:[S.jsx("button",{onClick:Xt,className:`px-8 py-3 rounded-full font-bold text-lg shadow-lg transition-all active:scale-95 flex items-center justify-center gap-2 ${E.players.find(lt=>lt.id===r.uid)?.ready?"bg-slate-700 text-emerald-400 hover:bg-slate-600":"bg-emerald-600 hover:bg-emerald-500 text-white"}`,children:E.players.find(lt=>lt.id===r.uid)?.ready?"READY! (Wait for Captain)":"MARK READY"}),S.jsx("div",{className:"text-slate-400 text-xs font-bold animate-pulse mt-2",children:"Waiting for next round..."})]})]}),Bt&&S.jsx("div",{className:"fixed inset-0 z-[200] bg-black/80 flex items-center justify-center p-4",children:S.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-xl max-w-xs w-full text-center",children:[S.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Abandon Ship?"}),S.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:"You will leave the current game."}),S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:()=>I(!1),className:"flex-1 bg-slate-800 py-2 rounded font-bold text-slate-300",children:"Cancel"}),S.jsx("button",{onClick:at,className:"flex-1 bg-red-600 py-2 rounded font-bold text-white",children:"Leave"})]}),E.hostId===r.uid&&S.jsx("button",{onClick:ot,className:"w-full bg-slate-700 hover:bg-slate-600 py-2 rounded font-bold text-cyan-400 mt-2 text-sm",children:"Return All to Lobby"})]})]})}),S.jsx(Cv,{})]})}return null}const VI=({status:r})=>S.jsx(el,{size:64,className:"text-cyan-500 mb-6"});qb.createRoot(document.getElementById("root")).render(S.jsx(ne.StrictMode,{children:S.jsx(MI,{})}));
