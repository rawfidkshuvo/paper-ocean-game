(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var kd={exports:{}},Sl={};var q_;function Mb(){if(q_)return Sl;q_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Sl.Fragment=t,Sl.jsx=i,Sl.jsxs=i,Sl}var G_;function Vb(){return G_||(G_=1,kd.exports=Mb()),kd.exports}var S=Vb(),Ld={exports:{}},Rt={};var F_;function kb(){if(F_)return Rt;F_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function q(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,tt={};function lt(O,X,ot){this.props=O,this.context=X,this.refs=tt,this.updater=ot||et}lt.prototype.isReactComponent={},lt.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},lt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function pt(){}pt.prototype=lt.prototype;function mt(O,X,ot){this.props=O,this.context=X,this.refs=tt,this.updater=ot||et}var Ft=mt.prototype=new pt;Ft.constructor=mt,it(Ft,lt.prototype),Ft.isPureReactComponent=!0;var Qt=Array.isArray;function Bt(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function x(O,X,ot){var ut=ot.ref;return{$$typeof:r,type:O,key:X,ref:ut!==void 0?ut:null,props:ot}}function V(O,X){return x(O.type,X,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function L(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ot){return X[ot]})}var R=/\/+/g;function ue(O,X){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):X.toString(36)}function ge(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Bt,Bt):(O.status="pending",O.then(function(X){O.status==="pending"&&(O.status="fulfilled",O.value=X)},function(X){O.status==="pending"&&(O.status="rejected",O.reason=X)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,X,ot,ut,bt){var Ct=typeof O;(Ct==="undefined"||Ct==="boolean")&&(O=null);var kt=!1;if(O===null)kt=!0;else switch(Ct){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(O.$$typeof){case r:case t:kt=!0;break;case E:return kt=O._init,G(kt(O._payload),X,ot,ut,bt)}}if(kt)return bt=bt(O),kt=ut===""?"."+ue(O,0):ut,Qt(bt)?(ot="",kt!=null&&(ot=kt.replace(R,"$&/")+"/"),G(bt,X,ot,"",function(Fi){return Fi})):bt!=null&&(N(bt)&&(bt=V(bt,ot+(bt.key==null||O&&O.key===bt.key?"":(""+bt.key).replace(R,"$&/")+"/")+kt)),X.push(bt)),1;kt=0;var Te=ut===""?".":ut+":";if(Qt(O))for(var ce=0;ce<O.length;ce++)ut=O[ce],Ct=Te+ue(ut,ce),kt+=G(ut,X,ot,Ct,bt);else if(ce=q(O),typeof ce=="function")for(O=ce.call(O),ce=0;!(ut=O.next()).done;)ut=ut.value,Ct=Te+ue(ut,ce++),kt+=G(ut,X,ot,Ct,bt);else if(Ct==="object"){if(typeof O.then=="function")return G(ge(O),X,ot,ut,bt);throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return kt}function rt(O,X,ot){if(O==null)return O;var ut=[],bt=0;return G(O,ut,"","",function(Ct){return X.call(ot,Ct,bt++)}),ut}function gt(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(ot){(O._status===0||O._status===-1)&&(O._status=1,O._result=ot)},function(ot){(O._status===0||O._status===-1)&&(O._status=2,O._result=ot)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var Ht=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Xt={map:rt,forEach:function(O,X,ot){rt(O,function(){X.apply(this,arguments)},ot)},count:function(O){var X=0;return rt(O,function(){X++}),X},toArray:function(O){return rt(O,function(X){return X})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Rt.Activity=w,Rt.Children=Xt,Rt.Component=lt,Rt.Fragment=i,Rt.Profiler=l,Rt.PureComponent=mt,Rt.StrictMode=a,Rt.Suspense=y,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Rt.cache=function(O){return function(){return O.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(O,X,ot){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ut=it({},O.props),bt=O.key;if(X!=null)for(Ct in X.key!==void 0&&(bt=""+X.key),X)!A.call(X,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&X.ref===void 0||(ut[Ct]=X[Ct]);var Ct=arguments.length-2;if(Ct===1)ut.children=ot;else if(1<Ct){for(var kt=Array(Ct),Te=0;Te<Ct;Te++)kt[Te]=arguments[Te+2];ut.children=kt}return x(O.type,bt,ut)},Rt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Rt.createElement=function(O,X,ot){var ut,bt={},Ct=null;if(X!=null)for(ut in X.key!==void 0&&(Ct=""+X.key),X)A.call(X,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(bt[ut]=X[ut]);var kt=arguments.length-2;if(kt===1)bt.children=ot;else if(1<kt){for(var Te=Array(kt),ce=0;ce<kt;ce++)Te[ce]=arguments[ce+2];bt.children=Te}if(O&&O.defaultProps)for(ut in kt=O.defaultProps,kt)bt[ut]===void 0&&(bt[ut]=kt[ut]);return x(O,Ct,bt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(O){return{$$typeof:g,render:O}},Rt.isValidElement=N,Rt.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:gt}},Rt.memo=function(O,X){return{$$typeof:_,type:O,compare:X===void 0?null:X}},Rt.startTransition=function(O){var X=I.T,ot={};I.T=ot;try{var ut=O(),bt=I.S;bt!==null&&bt(ot,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(Bt,Ht)}catch(Ct){Ht(Ct)}finally{X!==null&&ot.types!==null&&(X.types=ot.types),I.T=X}},Rt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Rt.use=function(O){return I.H.use(O)},Rt.useActionState=function(O,X,ot){return I.H.useActionState(O,X,ot)},Rt.useCallback=function(O,X){return I.H.useCallback(O,X)},Rt.useContext=function(O){return I.H.useContext(O)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(O,X){return I.H.useDeferredValue(O,X)},Rt.useEffect=function(O,X){return I.H.useEffect(O,X)},Rt.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Rt.useId=function(){return I.H.useId()},Rt.useImperativeHandle=function(O,X,ot){return I.H.useImperativeHandle(O,X,ot)},Rt.useInsertionEffect=function(O,X){return I.H.useInsertionEffect(O,X)},Rt.useLayoutEffect=function(O,X){return I.H.useLayoutEffect(O,X)},Rt.useMemo=function(O,X){return I.H.useMemo(O,X)},Rt.useOptimistic=function(O,X){return I.H.useOptimistic(O,X)},Rt.useReducer=function(O,X,ot){return I.H.useReducer(O,X,ot)},Rt.useRef=function(O){return I.H.useRef(O)},Rt.useState=function(O){return I.H.useState(O)},Rt.useSyncExternalStore=function(O,X,ot){return I.H.useSyncExternalStore(O,X,ot)},Rt.useTransition=function(){return I.H.useTransition()},Rt.version="19.2.3",Rt}var Q_;function Om(){return Q_||(Q_=1,Ld.exports=kb()),Ld.exports}var ne=Om(),Ud={exports:{}},Al={},Pd={exports:{}},jd={};var K_;function Lb(){return K_||(K_=1,(function(r){function t(G,rt){var gt=G.length;G.push(rt);t:for(;0<gt;){var Ht=gt-1>>>1,Xt=G[Ht];if(0<l(Xt,rt))G[Ht]=rt,G[gt]=Xt,gt=Ht;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var rt=G[0],gt=G.pop();if(gt!==rt){G[0]=gt;t:for(var Ht=0,Xt=G.length,O=Xt>>>1;Ht<O;){var X=2*(Ht+1)-1,ot=G[X],ut=X+1,bt=G[ut];if(0>l(ot,gt))ut<Xt&&0>l(bt,ot)?(G[Ht]=bt,G[ut]=gt,Ht=ut):(G[Ht]=ot,G[X]=gt,Ht=X);else if(ut<Xt&&0>l(bt,gt))G[Ht]=bt,G[ut]=gt,Ht=ut;else break t}}return rt}function l(G,rt){var gt=G.sortIndex-rt.sortIndex;return gt!==0?gt:G.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],_=[],E=1,w=null,M=3,q=!1,et=!1,it=!1,tt=!1,lt=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Ft(G){for(var rt=i(_);rt!==null;){if(rt.callback===null)a(_);else if(rt.startTime<=G)a(_),rt.sortIndex=rt.expirationTime,t(y,rt);else break;rt=i(_)}}function Qt(G){if(it=!1,Ft(G),!et)if(i(y)!==null)et=!0,Bt||(Bt=!0,L());else{var rt=i(_);rt!==null&&ge(Qt,rt.startTime-G)}}var Bt=!1,I=-1,A=5,x=-1;function V(){return tt?!0:!(r.unstable_now()-x<A)}function N(){if(tt=!1,Bt){var G=r.unstable_now();x=G;var rt=!0;try{t:{et=!1,it&&(it=!1,pt(I),I=-1),q=!0;var gt=M;try{e:{for(Ft(G),w=i(y);w!==null&&!(w.expirationTime>G&&V());){var Ht=w.callback;if(typeof Ht=="function"){w.callback=null,M=w.priorityLevel;var Xt=Ht(w.expirationTime<=G);if(G=r.unstable_now(),typeof Xt=="function"){w.callback=Xt,Ft(G),rt=!0;break e}w===i(y)&&a(y),Ft(G)}else a(y);w=i(y)}if(w!==null)rt=!0;else{var O=i(_);O!==null&&ge(Qt,O.startTime-G),rt=!1}}break t}finally{w=null,M=gt,q=!1}rt=void 0}}finally{rt?L():Bt=!1}}}var L;if(typeof mt=="function")L=function(){mt(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ue=R.port2;R.port1.onmessage=N,L=function(){ue.postMessage(null)}}else L=function(){lt(N,0)};function ge(G,rt){I=lt(function(){G(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(G){switch(M){case 1:case 2:case 3:var rt=3;break;default:rt=M}var gt=M;M=rt;try{return G()}finally{M=gt}},r.unstable_requestPaint=function(){tt=!0},r.unstable_runWithPriority=function(G,rt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var gt=M;M=G;try{return rt()}finally{M=gt}},r.unstable_scheduleCallback=function(G,rt,gt){var Ht=r.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Ht+gt:Ht):gt=Ht,G){case 1:var Xt=-1;break;case 2:Xt=250;break;case 5:Xt=1073741823;break;case 4:Xt=1e4;break;default:Xt=5e3}return Xt=gt+Xt,G={id:E++,callback:rt,priorityLevel:G,startTime:gt,expirationTime:Xt,sortIndex:-1},gt>Ht?(G.sortIndex=gt,t(_,G),i(y)===null&&G===i(_)&&(it?(pt(I),I=-1):it=!0,ge(Qt,gt-Ht))):(G.sortIndex=Xt,t(y,G),et||q||(et=!0,Bt||(Bt=!0,L()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var rt=M;return function(){var gt=M;M=rt;try{return G.apply(this,arguments)}finally{M=gt}}}})(jd)),jd}var Y_;function Ub(){return Y_||(Y_=1,Pd.exports=Lb()),Pd.exports}var zd={exports:{}},on={};var X_;function Pb(){if(X_)return on;X_=1;var r=Om();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:y,containerInfo:_,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,on.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,E)},on.flushSync=function(y){var _=d.T,E=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=E,a.d.f()}},on.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},on.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},on.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,w=g(E,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:q}):E==="script"&&a.d.X(y,{crossOrigin:w,integrity:M,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},on.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=g(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},on.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,w=g(E,_.crossOrigin);a.d.L(y,E,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},on.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=g(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},on.requestFormReset=function(y){a.d.r(y)},on.unstable_batchedUpdates=function(y,_){return y(_)},on.useFormState=function(y,_,E){return d.H.useFormState(y,_,E)},on.useFormStatus=function(){return d.H.useHostTransitionStatus()},on.version="19.2.3",on}var $_;function jb(){if($_)return zd.exports;$_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),zd.exports=Pb(),zd.exports}var Z_;function zb(){if(Z_)return Al;Z_=1;var r=Ub(),t=Om(),i=jb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var p=!1,T=h.child;T;){if(T===s){p=!0,s=h,o=f;break}if(T===o){p=!0,o=h,s=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===s){p=!0,s=f,o=h;break}if(T===o){p=!0,o=f,s=h;break}T=T.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),pt=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Ft=Symbol.for("react.forward_ref"),Qt=Symbol.for("react.suspense"),Bt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case lt:return"Profiler";case tt:return"StrictMode";case Qt:return"Suspense";case Bt:return"SuspenseList";case x:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case et:return"Portal";case mt:return e.displayName||"Context";case pt:return(e._context.displayName||"Context")+".Consumer";case Ft:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:ue(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return ue(e(n))}catch{}}return null}var ge=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Ht=[],Xt=-1;function O(e){return{current:e}}function X(e){0>Xt||(e.current=Ht[Xt],Ht[Xt]=null,Xt--)}function ot(e,n){Xt++,Ht[Xt]=e.current,e.current=n}var ut=O(null),bt=O(null),Ct=O(null),kt=O(null);function Te(e,n){switch(ot(Ct,n),ot(bt,e),ot(ut,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?f_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=f_(n),e=d_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(ut),ot(ut,e)}function ce(){X(ut),X(bt),X(Ct)}function Fi(e){e.memoizedState!==null&&ot(kt,e);var n=ut.current,s=d_(n,e.type);n!==s&&(ot(bt,e),ot(ut,s))}function Ss(e){bt.current===e&&(X(ut),X(bt)),kt.current===e&&(X(kt),vl._currentValue=gt)}var As,ws;function kn(e){if(As===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);As=n&&n[1]||"",ws=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+As+e+ws}var Ar=!1;function mi(e,n){if(!e||Ar)return"";Ar=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var z=H}Reflect.construct(e,[],$)}else{try{$.call()}catch(H){z=H}e.call($.prototype)}}else{try{throw Error()}catch(H){z=H}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var C=p.split(`
`),j=T.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===j.length)for(o=C.length-1,h=j.length-1;1<=o&&0<=h&&C[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==j[h]){var F=`
`+C[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{Ar=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?kn(s):""}function W(e,n){switch(e.tag){case 26:case 27:case 5:return kn(e.type);case 16:return kn("Lazy");case 13:return e.child!==n&&n!==null?kn("Suspense Fallback"):kn("Suspense");case 19:return kn("SuspenseList");case 0:case 15:return mi(e.type,!1);case 11:return mi(e.type.render,!1);case 1:return mi(e.type,!0);case 31:return kn("Activity");default:return""}}function Q(e){try{var n="",s=null;do n+=W(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Y=Object.prototype.hasOwnProperty,nt=r.unstable_scheduleCallback,wt=r.unstable_cancelCallback,at=r.unstable_shouldYield,It=r.unstable_requestPaint,Et=r.unstable_now,be=r.unstable_getCurrentPriorityLevel,an=r.unstable_ImmediatePriority,Zn=r.unstable_UserBlockingPriority,Jn=r.unstable_NormalPriority,wr=r.unstable_LowPriority,Rr=r.unstable_IdlePriority,Qi=r.log,au=r.unstable_setDisableYieldValue,Wn=null,$e=null;function Ln(e){if(typeof Qi=="function"&&au(e),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Wn,e)}catch{}}var Se=Math.clz32?Math.clz32:lu,ou=Math.log,ha=Math.LN2;function lu(e){return e>>>=0,e===0?32:31-(ou(e)/ha|0)|0}var pi=256,xr=262144,De=4194304;function gi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yi(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=gi(o):(p&=T,p!==0?h=gi(p):s||(s=T&~e,s!==0&&(h=gi(s))))):(T=o&~f,T!==0?h=gi(T):p!==0?h=gi(p):s||(s=o&~e,s!==0&&(h=gi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function ti(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ph(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uu(){var e=De;return De<<=1,(De&62914560)===0&&(De=4194304),e}function _i(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Cr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jh(e,n,s,o,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,j=e.hiddenUpdates;for(s=p&~s;0<s;){var F=31-Se(s),$=1<<F;T[F]=0,C[F]=-1;var z=j[F];if(z!==null)for(j[F]=null,F=0;F<z.length;F++){var H=z[F];H!==null&&(H.lane&=-536870913)}s&=~$}o!==0&&Ir(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function Ir(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Se(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function Ao(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-Se(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function wo(e,n){var s=n&-n;return s=(s&42)!==0?1:Nr(s),(s&(e.suspendedLanes|n))!==0?0:s}function Nr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ki(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cu(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:L_(e.type))}function ei(e,n){var s=rt.p;try{return rt.p=e,n()}finally{rt.p=s}}var ni=Math.random().toString(36).slice(2),Oe="__reactFiber$"+ni,Qe="__reactProps$"+ni,vi="__reactContainer$"+ni,fa="__reactEvents$"+ni,zh="__reactListeners$"+ni,hu="__reactHandles$"+ni,fu="__reactResources$"+ni,Ei="__reactMarker$"+ni;function da(e){delete e[Oe],delete e[Qe],delete e[fa],delete e[zh],delete e[hu]}function Ti(e){var n=e[Oe];if(n)return n;for(var s=e.parentNode;s;){if(n=s[vi]||s[Oe]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=E_(e);e!==null;){if(s=e[Oe])return s;e=E_(e)}return n}e=s,s=e.parentNode}return null}function Un(e){if(e=e[Oe]||e[vi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function An(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function bi(e){var n=e[fu];return n||(n=e[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Me(e){e[Ei]=!0}var Ro=new Set,xo={};function Si(e,n){Ai(e,n),Ai(e+"Capture",n)}function Ai(e,n){for(xo[e]=n,e=0;e<n.length;e++)Ro.add(n[e])}var Co=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},No={};function du(e){return Y.call(No,e)?!0:Y.call(Io,e)?!1:Co.test(e)?No[e]=!0:(Io[e]=!0,!1)}function ma(e,n,s){if(du(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function wn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ve(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Do(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Wt(e){if(!e._valueTracker){var n=Rs(e)?"checked":"value";e._valueTracker=Do(e,n,""+e[n])}}function Dr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=Rs(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Or=/[\n"\\]/g;function pn(e){return e.replace(Or,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function pa(e,n,s,o,h,f,p,T){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ke(n)):e.value!==""+Ke(n)&&(e.value=""+Ke(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Oo(e,p,Ke(n)):s!=null?Oo(e,p,Ke(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ke(T):e.removeAttribute("name")}function mu(e,n,s,o,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Wt(e);return}s=s!=null?""+Ke(s):"",n=n!=null?""+Ke(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Wt(e)}function Oo(e,n,s){n==="number"&&wi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function xs(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Ke(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function pu(e,n,s){if(n!=null&&(n=""+Ke(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ke(s):""}function Cs(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(ge(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Ke(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Wt(e)}function gn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||gu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Vo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Mo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Mo(e,f,n[f])}function ga(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(e){return Is.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ii(){}var ko=null;function Pn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ns=null,Ri=null;function Mr(e){var n=Un(e);if(n&&(e=n.stateNode)){var s=e[Qe]||null;t:switch(e=n.stateNode,n.type){case"input":if(pa(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+pn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Qe]||null;if(!h)throw Error(a(90));pa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&Dr(o)}break t;case"textarea":pu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&xs(e,!!s.multiple,n,!1)}}}var _a=!1;function Ds(e,n,s){if(_a)return e(n,s);_a=!0;try{var o=e(n);return o}finally{if(_a=!1,(Ns!==null||Ri!==null)&&(cc(),Ns&&(n=Ns,e=Ri,Ri=Ns=null,Mr(n),e)))for(n=0;n<e.length;n++)Mr(e[n])}}function si(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Qe]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vr=!1;if(jn)try{var se={};Object.defineProperty(se,"passive",{get:function(){Vr=!0}}),window.addEventListener("test",se,se),window.removeEventListener("test",se,se)}catch{Vr=!1}var xi=null,Lo=null,kr=null;function Uo(){if(kr)return kr;var e,n=Lo,s=n.length,o,h="value"in xi?xi.value:xi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(o=1;o<=p&&n[s-o]===h[f-o];o++);return kr=h.slice(e,1<o?1-o:void 0)}function Lr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Yi(){return!0}function ri(){return!1}function Ze(e){function n(s,o,h,f,p){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Yi:ri,this.isPropagationStopped=ri,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),n}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Ze(Xi),Os=w({},Xi,{view:0,detail:0}),Po=Ze(Os),Ms,va,Ii,Ea=w({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ii&&(Ii&&e.type==="mousemove"?(Ms=e.screenX-Ii.screenX,va=e.screenY-Ii.screenY):va=Ms=0,Ii=e),Ms)},movementY:function(e){return"movementY"in e?e.movementY:va}}),jo=Ze(Ea),Ur=w({},Ea,{dataTransfer:0}),_u=Ze(Ur),vu=w({},Os,{relatedTarget:0}),Pr=Ze(vu),zo=w({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=Ze(zo),Ta=w({},Xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tu=Ze(Ta),bu=w({},Xi,{data:0}),Ni=Ze(bu),Su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ru(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=wu[e])?!!n[e]:!1}function Vs(){return Ru}var fn=w({},Os,{key:function(e){if(e.key){var n=Su[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Lr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Au[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(e){return e.type==="keypress"?Lr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Lr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xu=Ze(fn),Cu=w({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=Ze(Cu),u=w({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),m=Ze(u),v=w({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ze(v),U=w({},Ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Ze(U),st=w({},Xi,{newState:0,oldState:0}),Nt=Ze(st),Ae=[9,13,27,32],$t=jn&&"CompositionEvent"in window,me=null;jn&&"documentMode"in document&&(me=document.documentMode);var zn=jn&&"TextEvent"in window&&!me,Di=jn&&(!$t||me&&8<me&&11>=me),ai=" ",oi=!1;function jr(e,n){switch(e){case"keyup":return Ae.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ba(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sa=!1;function iT(e,n){switch(e){case"compositionend":return ba(n);case"keypress":return n.which!==32?null:(oi=!0,ai);case"textInput":return e=n.data,e===ai&&oi?null:e;default:return null}}function sT(e,n){if(Sa)return e==="compositionend"||!$t&&jr(e,n)?(e=Uo(),kr=Lo=xi=null,Sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Di&&n.locale!=="ko"?null:n.data;default:return null}}var rT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!rT[e.type]:n==="textarea"}function Ap(e,n,s,o){Ns?Ri?Ri.push(o):Ri=[o]:Ns=o,n=yc(n,"onChange"),0<n.length&&(s=new Ci("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Bo=null,Ho=null;function aT(e){a_(e,0)}function Iu(e){var n=An(e);if(Dr(n))return e}function wp(e,n){if(e==="change")return n}var Rp=!1;if(jn){var Bh;if(jn){var Hh="oninput"in document;if(!Hh){var xp=document.createElement("div");xp.setAttribute("oninput","return;"),Hh=typeof xp.oninput=="function"}Bh=Hh}else Bh=!1;Rp=Bh&&(!document.documentMode||9<document.documentMode)}function Cp(){Bo&&(Bo.detachEvent("onpropertychange",Ip),Ho=Bo=null)}function Ip(e){if(e.propertyName==="value"&&Iu(Ho)){var n=[];Ap(n,Ho,e,Pn(e)),Ds(aT,n)}}function oT(e,n,s){e==="focusin"?(Cp(),Bo=n,Ho=s,Bo.attachEvent("onpropertychange",Ip)):e==="focusout"&&Cp()}function lT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Iu(Ho)}function uT(e,n){if(e==="click")return Iu(n)}function cT(e,n){if(e==="input"||e==="change")return Iu(n)}function hT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Rn=typeof Object.is=="function"?Object.is:hT;function qo(e,n){if(Rn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Y.call(n,h)||!Rn(e[h],n[h]))return!1}return!0}function Np(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dp(e,n){var s=Np(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Np(s)}}function Op(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Op(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Mp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=wi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=wi(e.document)}return n}function qh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var fT=jn&&"documentMode"in document&&11>=document.documentMode,Aa=null,Gh=null,Go=null,Fh=!1;function Vp(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Fh||Aa==null||Aa!==wi(o)||(o=Aa,"selectionStart"in o&&qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Go&&qo(Go,o)||(Go=o,o=yc(Gh,"onSelect"),0<o.length&&(n=new Ci("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=Aa)))}function zr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var wa={animationend:zr("Animation","AnimationEnd"),animationiteration:zr("Animation","AnimationIteration"),animationstart:zr("Animation","AnimationStart"),transitionrun:zr("Transition","TransitionRun"),transitionstart:zr("Transition","TransitionStart"),transitioncancel:zr("Transition","TransitionCancel"),transitionend:zr("Transition","TransitionEnd")},Qh={},kp={};jn&&(kp=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Br(e){if(Qh[e])return Qh[e];if(!wa[e])return e;var n=wa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in kp)return Qh[e]=n[s];return e}var Lp=Br("animationend"),Up=Br("animationiteration"),Pp=Br("animationstart"),dT=Br("transitionrun"),mT=Br("transitionstart"),pT=Br("transitioncancel"),jp=Br("transitionend"),zp=new Map,Kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kh.push("scrollEnd");function li(e,n){zp.set(e,n),Si(n,[e])}var Nu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bn=[],Ra=0,Yh=0;function Du(){for(var e=Ra,n=Yh=Ra=0;n<e;){var s=Bn[n];Bn[n++]=null;var o=Bn[n];Bn[n++]=null;var h=Bn[n];Bn[n++]=null;var f=Bn[n];if(Bn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Bp(s,h,f)}}function Ou(e,n,s,o){Bn[Ra++]=e,Bn[Ra++]=n,Bn[Ra++]=s,Bn[Ra++]=o,Yh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Xh(e,n,s,o){return Ou(e,n,s,o),Mu(e)}function Hr(e,n){return Ou(e,null,null,n),Mu(e)}function Bp(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Se(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Mu(e){if(50<fl)throw fl=0,rd=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var xa={};function gT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,n,s,o){return new gT(e,n,s,o)}function $h(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zi(e,n){var s=e.alternate;return s===null?(s=xn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Hp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Vu(e,n,s,o,h,f){var p=0;if(o=e,typeof e=="function")$h(e)&&(p=1);else if(typeof e=="string")p=Tb(e,s,ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case x:return e=xn(31,s,n,h),e.elementType=x,e.lanes=f,e;case it:return qr(s.children,h,f,n);case tt:p=8,h|=24;break;case lt:return e=xn(12,s,n,h|2),e.elementType=lt,e.lanes=f,e;case Qt:return e=xn(13,s,n,h),e.elementType=Qt,e.lanes=f,e;case Bt:return e=xn(19,s,n,h),e.elementType=Bt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:p=10;break t;case pt:p=9;break t;case Ft:p=11;break t;case I:p=14;break t;case A:p=16,o=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=xn(p,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function qr(e,n,s,o){return e=xn(7,e,o,n),e.lanes=s,e}function Zh(e,n,s){return e=xn(6,e,null,n),e.lanes=s,e}function qp(e){var n=xn(18,null,null,0);return n.stateNode=e,n}function Jh(e,n,s){return n=xn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Gp=new WeakMap;function Hn(e,n){if(typeof e=="object"&&e!==null){var s=Gp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Q(n)},Gp.set(e,n),n)}return{value:e,source:n,stack:Q(n)}}var Ca=[],Ia=0,ku=null,Fo=0,qn=[],Gn=0,ks=null,Oi=1,Mi="";function Ji(e,n){Ca[Ia++]=Fo,Ca[Ia++]=ku,ku=e,Fo=n}function Fp(e,n,s){qn[Gn++]=Oi,qn[Gn++]=Mi,qn[Gn++]=ks,ks=e;var o=Oi;e=Mi;var h=32-Se(o)-1;o&=~(1<<h),s+=1;var f=32-Se(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Oi=1<<32-Se(n)+h|s<<h|o,Mi=f+e}else Oi=1<<f|s<<h|o,Mi=e}function Wh(e){e.return!==null&&(Ji(e,1),Fp(e,1,0))}function tf(e){for(;e===ku;)ku=Ca[--Ia],Ca[Ia]=null,Fo=Ca[--Ia],Ca[Ia]=null;for(;e===ks;)ks=qn[--Gn],qn[Gn]=null,Mi=qn[--Gn],qn[Gn]=null,Oi=qn[--Gn],qn[Gn]=null}function Qp(e,n){qn[Gn++]=Oi,qn[Gn++]=Mi,qn[Gn++]=ks,Oi=n.id,Mi=n.overflow,ks=e}var Je=null,he=null,qt=!1,Ls=null,Fn=!1,ef=Error(a(519));function Us(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qo(Hn(n,e)),ef}function Kp(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Oe]=e,n[Qe]=o,s){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(s=0;s<ml.length;s++)Vt(ml[s],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),mu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Cs(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||c_(n.textContent,s)?(o.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),o.onScroll!=null&&Vt("scroll",n),o.onScrollEnd!=null&&Vt("scrollend",n),o.onClick!=null&&(n.onclick=ii),n=!0):n=!1,n||Us(e,!0)}function Yp(e){for(Je=e.return;Je;)switch(Je.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Je=Je.return}}function Na(e){if(e!==Je)return!1;if(!qt)return Yp(e),qt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Ed(e.type,e.memoizedProps)),s=!s),s&&he&&Us(e),Yp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));he=v_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));he=v_(e)}else n===27?(n=he,Zs(e.type)?(e=wd,wd=null,he=e):he=n):he=Je?Kn(e.stateNode.nextSibling):null;return!0}function Gr(){he=Je=null,qt=!1}function nf(){var e=Ls;return e!==null&&(En===null?En=e:En.push.apply(En,e),Ls=null),e}function Qo(e){Ls===null?Ls=[e]:Ls.push(e)}var sf=O(null),Fr=null,Wi=null;function Ps(e,n,s){ot(sf,n._currentValue),n._currentValue=s}function ts(e){e._currentValue=sf.current,X(sf)}function rf(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function af(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),rf(f.return,s,e),o||(p=null);break t}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),rf(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Da(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var T=h.type;Rn(h.pendingProps.value,p.value)||(e!==null?e.push(T):e=[T])}}else if(h===kt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(vl):e=[vl])}h=h.return}e!==null&&af(n,e,s,o),n.flags|=262144}function Lu(e){for(e=e.firstContext;e!==null;){if(!Rn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Qr(e){Fr=e,Wi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function We(e){return Xp(Fr,e)}function Uu(e,n){return Fr===null&&Qr(e),Xp(e,n)}function Xp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Wi===null){if(e===null)throw Error(a(308));Wi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Wi=Wi.next=n;return s}var yT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},_T=r.unstable_scheduleCallback,vT=r.unstable_NormalPriority,ke={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new yT,data:new Map,refCount:0}}function Ko(e){e.refCount--,e.refCount===0&&_T(vT,function(){e.controller.abort()})}var Yo=null,lf=0,Oa=0,Ma=null;function ET(e,n){if(Yo===null){var s=Yo=[];lf=0,Oa=hd(),Ma={status:"pending",value:void 0,then:function(o){s.push(o)}}}return lf++,n.then($p,$p),n}function $p(){if(--lf===0&&Yo!==null){Ma!==null&&(Ma.status="fulfilled");var e=Yo;Yo=null,Oa=0,Ma=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function TT(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Zp=G.S;G.S=function(e,n){Vy=Et(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&ET(e,n),Zp!==null&&Zp(e,n)};var Kr=O(null);function uf(){var e=Kr.current;return e!==null?e:le.pooledCache}function Pu(e,n){n===null?ot(Kr,Kr.current):ot(Kr,n.pool)}function Jp(){var e=uf();return e===null?null:{parent:ke._currentValue,pool:e}}var Va=Error(a(460)),cf=Error(a(474)),ju=Error(a(542)),zu={then:function(){}};function Wp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function tg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(ii,ii),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ng(e),e;default:if(typeof n.status=="string")n.then(ii,ii);else{if(e=le,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ng(e),e}throw Xr=n,Va}}function Yr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Xr=s,Va):s}}var Xr=null;function eg(){if(Xr===null)throw Error(a(459));var e=Xr;return Xr=null,e}function ng(e){if(e===Va||e===ju)throw Error(a(483))}var ka=null,Xo=0;function Bu(e){var n=Xo;return Xo+=1,ka===null&&(ka=[]),tg(ka,e,n)}function $o(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Hu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ig(e){function n(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function s(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Zi(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,P,K){return D===null||D.tag!==6?(D=Zh(P,k.mode,K),D.return=k,D):(D=h(D,P),D.return=k,D)}function C(k,D,P,K){var yt=P.type;return yt===it?F(k,D,P.props.children,K,P.key):D!==null&&(D.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===A&&Yr(yt)===D.type)?(D=h(D,P.props),$o(D,P),D.return=k,D):(D=Vu(P.type,P.key,P.props,null,k.mode,K),$o(D,P),D.return=k,D)}function j(k,D,P,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Jh(P,k.mode,K),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function F(k,D,P,K,yt){return D===null||D.tag!==7?(D=qr(P,k.mode,K,yt),D.return=k,D):(D=h(D,P),D.return=k,D)}function $(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Zh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case q:return P=Vu(D.type,D.key,D.props,null,k.mode,P),$o(P,D),P.return=k,P;case et:return D=Jh(D,k.mode,P),D.return=k,D;case A:return D=Yr(D),$(k,D,P)}if(ge(D)||L(D))return D=qr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return $(k,Bu(D),P);if(D.$$typeof===mt)return $(k,Uu(k,D),P);Hu(k,D)}return null}function z(k,D,P,K){var yt=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return yt!==null?null:T(k,D,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case q:return P.key===yt?C(k,D,P,K):null;case et:return P.key===yt?j(k,D,P,K):null;case A:return P=Yr(P),z(k,D,P,K)}if(ge(P)||L(P))return yt!==null?null:F(k,D,P,K,null);if(typeof P.then=="function")return z(k,D,Bu(P),K);if(P.$$typeof===mt)return z(k,D,Uu(k,P),K);Hu(k,P)}return null}function H(k,D,P,K,yt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,T(D,k,""+K,yt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case q:return k=k.get(K.key===null?P:K.key)||null,C(D,k,K,yt);case et:return k=k.get(K.key===null?P:K.key)||null,j(D,k,K,yt);case A:return K=Yr(K),H(k,D,P,K,yt)}if(ge(K)||L(K))return k=k.get(P)||null,F(D,k,K,yt,null);if(typeof K.then=="function")return H(k,D,P,Bu(K),yt);if(K.$$typeof===mt)return H(k,D,P,Uu(D,K),yt);Hu(D,K)}return null}function ht(k,D,P,K){for(var yt=null,Kt=null,ft=D,Ot=D=0,Ut=null;ft!==null&&Ot<P.length;Ot++){ft.index>Ot?(Ut=ft,ft=null):Ut=ft.sibling;var Yt=z(k,ft,P[Ot],K);if(Yt===null){ft===null&&(ft=Ut);break}e&&ft&&Yt.alternate===null&&n(k,ft),D=f(Yt,D,Ot),Kt===null?yt=Yt:Kt.sibling=Yt,Kt=Yt,ft=Ut}if(Ot===P.length)return s(k,ft),qt&&Ji(k,Ot),yt;if(ft===null){for(;Ot<P.length;Ot++)ft=$(k,P[Ot],K),ft!==null&&(D=f(ft,D,Ot),Kt===null?yt=ft:Kt.sibling=ft,Kt=ft);return qt&&Ji(k,Ot),yt}for(ft=o(ft);Ot<P.length;Ot++)Ut=H(ft,k,Ot,P[Ot],K),Ut!==null&&(e&&Ut.alternate!==null&&ft.delete(Ut.key===null?Ot:Ut.key),D=f(Ut,D,Ot),Kt===null?yt=Ut:Kt.sibling=Ut,Kt=Ut);return e&&ft.forEach(function(nr){return n(k,nr)}),qt&&Ji(k,Ot),yt}function vt(k,D,P,K){if(P==null)throw Error(a(151));for(var yt=null,Kt=null,ft=D,Ot=D=0,Ut=null,Yt=P.next();ft!==null&&!Yt.done;Ot++,Yt=P.next()){ft.index>Ot?(Ut=ft,ft=null):Ut=ft.sibling;var nr=z(k,ft,Yt.value,K);if(nr===null){ft===null&&(ft=Ut);break}e&&ft&&nr.alternate===null&&n(k,ft),D=f(nr,D,Ot),Kt===null?yt=nr:Kt.sibling=nr,Kt=nr,ft=Ut}if(Yt.done)return s(k,ft),qt&&Ji(k,Ot),yt;if(ft===null){for(;!Yt.done;Ot++,Yt=P.next())Yt=$(k,Yt.value,K),Yt!==null&&(D=f(Yt,D,Ot),Kt===null?yt=Yt:Kt.sibling=Yt,Kt=Yt);return qt&&Ji(k,Ot),yt}for(ft=o(ft);!Yt.done;Ot++,Yt=P.next())Yt=H(ft,k,Ot,Yt.value,K),Yt!==null&&(e&&Yt.alternate!==null&&ft.delete(Yt.key===null?Ot:Yt.key),D=f(Yt,D,Ot),Kt===null?yt=Yt:Kt.sibling=Yt,Kt=Yt);return e&&ft.forEach(function(Ob){return n(k,Ob)}),qt&&Ji(k,Ot),yt}function oe(k,D,P,K){if(typeof P=="object"&&P!==null&&P.type===it&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case q:t:{for(var yt=P.key;D!==null;){if(D.key===yt){if(yt=P.type,yt===it){if(D.tag===7){s(k,D.sibling),K=h(D,P.props.children),K.return=k,k=K;break t}}else if(D.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===A&&Yr(yt)===D.type){s(k,D.sibling),K=h(D,P.props),$o(K,P),K.return=k,k=K;break t}s(k,D);break}else n(k,D);D=D.sibling}P.type===it?(K=qr(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Vu(P.type,P.key,P.props,null,k.mode,K),$o(K,P),K.return=k,k=K)}return p(k);case et:t:{for(yt=P.key;D!==null;){if(D.key===yt)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(k,D.sibling),K=h(D,P.children||[]),K.return=k,k=K;break t}else{s(k,D);break}else n(k,D);D=D.sibling}K=Jh(P,k.mode,K),K.return=k,k=K}return p(k);case A:return P=Yr(P),oe(k,D,P,K)}if(ge(P))return ht(k,D,P,K);if(L(P)){if(yt=L(P),typeof yt!="function")throw Error(a(150));return P=yt.call(P),vt(k,D,P,K)}if(typeof P.then=="function")return oe(k,D,Bu(P),K);if(P.$$typeof===mt)return oe(k,D,Uu(k,P),K);Hu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(k,D.sibling),K=h(D,P),K.return=k,k=K):(s(k,D),K=Zh(P,k.mode,K),K.return=k,k=K),p(k)):s(k,D)}return function(k,D,P,K){try{Xo=0;var yt=oe(k,D,P,K);return ka=null,yt}catch(ft){if(ft===Va||ft===ju)throw ft;var Kt=xn(29,ft,null,k.mode);return Kt.lanes=K,Kt.return=k,Kt}}}var $r=ig(!0),sg=ig(!1),js=!1;function hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Bs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Zt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Mu(e),Bp(e,null,s),n}return Ou(e,o,n,s),Mu(e)}function Zo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Ao(e,s)}}function df(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var mf=!1;function Jo(){if(mf){var e=Ma;if(e!==null)throw e}}function Wo(e,n,s,o){mf=!1;var h=e.updateQueue;js=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,j=C.next;C.next=null,p===null?f=j:p.next=j,p=C;var F=e.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==p&&(T===null?F.firstBaseUpdate=j:T.next=j,F.lastBaseUpdate=C))}if(f!==null){var $=h.baseState;p=0,F=j=C=null,T=f;do{var z=T.lane&-536870913,H=z!==T.lane;if(H?(Lt&z)===z:(o&z)===z){z!==0&&z===Oa&&(mf=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ht=e,vt=T;z=n;var oe=s;switch(vt.tag){case 1:if(ht=vt.payload,typeof ht=="function"){$=ht.call(oe,$,z);break t}$=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=vt.payload,z=typeof ht=="function"?ht.call(oe,$,z):ht,z==null)break t;$=w({},$,z);break t;case 2:js=!0}}z=T.callback,z!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(j=F=H,C=$):F=F.next=H,p|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(C=$),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Qs|=p,e.lanes=p,e.memoizedState=$}}function rg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function ag(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)rg(s[e],n)}var La=O(null),qu=O(0);function og(e,n){e=us,ot(qu,e),ot(La,n),us=e|n.baseLanes}function pf(){ot(qu,us),ot(La,La.current)}function gf(){us=qu.current,X(La),X(qu)}var Cn=O(null),Qn=null;function Hs(e){var n=e.alternate;ot(we,we.current&1),ot(Cn,e),Qn===null&&(n===null||La.current!==null||n.memoizedState!==null)&&(Qn=e)}function yf(e){ot(we,we.current),ot(Cn,e),Qn===null&&(Qn=e)}function lg(e){e.tag===22?(ot(we,we.current),ot(Cn,e),Qn===null&&(Qn=e)):qs()}function qs(){ot(we,we.current),ot(Cn,Cn.current)}function In(e){X(Cn),Qn===e&&(Qn=null),X(we)}var we=O(0);function Gu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Sd(s)||Ad(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var es=0,Dt=null,re=null,Le=null,Fu=!1,Ua=!1,Zr=!1,Qu=0,tl=0,Pa=null,bT=0;function ve(){throw Error(a(321))}function _f(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Rn(e[s],n[s]))return!1;return!0}function vf(e,n,s,o,h,f){return es=f,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Fg:Vf,Zr=!1,f=s(o,h),Zr=!1,Ua&&(f=cg(n,s,o,h)),ug(e),f}function ug(e){G.H=il;var n=re!==null&&re.next!==null;if(es=0,Le=re=Dt=null,Fu=!1,tl=0,Pa=null,n)throw Error(a(300));e===null||Ue||(e=e.dependencies,e!==null&&Lu(e)&&(Ue=!0))}function cg(e,n,s,o){Dt=e;var h=0;do{if(Ua&&(Pa=null),tl=0,Ua=!1,25<=h)throw Error(a(301));if(h+=1,Le=re=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Qg,f=n(s,o)}while(Ua);return f}function ST(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?el(n):n,e=e.useState()[0],(re!==null?re.memoizedState:null)!==e&&(Dt.flags|=1024),n}function Ef(){var e=Qu!==0;return Qu=0,e}function Tf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function bf(e){if(Fu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Fu=!1}es=0,Le=re=Dt=null,Ua=!1,tl=Qu=0,Pa=null}function dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?Dt.memoizedState=Le=e:Le=Le.next=e,Le}function Re(){if(re===null){var e=Dt.alternate;e=e!==null?e.memoizedState:null}else e=re.next;var n=Le===null?Dt.memoizedState:Le.next;if(n!==null)Le=n,re=e;else{if(e===null)throw Dt.alternate===null?Error(a(467)):Error(a(310));re=e,e={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},Le===null?Dt.memoizedState=Le=e:Le=Le.next=e}return Le}function Ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(e){var n=tl;return tl+=1,Pa===null&&(Pa=[]),e=tg(Pa,e,n),n=Dt,(Le===null?n.memoizedState:Le.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Fg:Vf),e}function Yu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return el(e);if(e.$$typeof===mt)return We(e)}throw Error(a(438,String(e)))}function Sf(e){var n=null,s=Dt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Dt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Ku(),Dt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function ns(e,n){return typeof n=="function"?n(e):n}function Xu(e){var n=Re();return Af(n,re,e)}function Af(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=p=null,C=null,j=n,F=!1;do{var $=j.lane&-536870913;if($!==j.lane?(Lt&$)===$:(es&$)===$){var z=j.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===Oa&&(F=!0);else if((es&z)===z){j=j.next,z===Oa&&(F=!0);continue}else $={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=$,p=f):C=C.next=$,Dt.lanes|=z,Qs|=z;$=j.action,Zr&&s(f,$),f=j.hasEagerState?j.eagerState:s(f,$)}else z={lane:$,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=z,p=f):C=C.next=z,Dt.lanes|=$,Qs|=$;j=j.next}while(j!==null&&j!==n);if(C===null?p=f:C.next=T,!Rn(f,e.memoizedState)&&(Ue=!0,F&&(s=Ma,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function wf(e){var n=Re(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);Rn(f,n.memoizedState)||(Ue=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function hg(e,n,s){var o=Dt,h=Re(),f=qt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!Rn((re||h).memoizedState,s);if(p&&(h.memoizedState=s,Ue=!0),h=h.queue,Cf(mg.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Le!==null&&Le.memoizedState.tag&1){if(o.flags|=2048,ja(9,{destroy:void 0},dg.bind(null,o,h,s,n),null),le===null)throw Error(a(349));f||(es&127)!==0||fg(o,n,s)}return s}function fg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Dt.updateQueue,n===null?(n=Ku(),Dt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function dg(e,n,s,o){n.value=s,n.getSnapshot=o,pg(n)&&gg(e)}function mg(e,n,s){return s(function(){pg(n)&&gg(e)})}function pg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Rn(e,s)}catch{return!0}}function gg(e){var n=Hr(e,2);n!==null&&Tn(n,e,2)}function Rf(e){var n=dn();if(typeof e=="function"){var s=e;if(e=s(),Zr){Ln(!0);try{s()}finally{Ln(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:e},n}function yg(e,n,s,o){return e.baseState=s,Af(e,re,typeof o=="function"?o:ns)}function AT(e,n,s,o,h){if(Ju(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,_g(n,f)):(f.next=s.next,n.pending=s.next=f)}}function _g(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var T=s(h,o),C=G.S;C!==null&&C(p,T),vg(e,n,T)}catch(j){xf(e,n,j)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=s(h,o),vg(e,n,f)}catch(j){xf(e,n,j)}}function vg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Eg(e,n,o)},function(o){return xf(e,n,o)}):Eg(e,n,s)}function Eg(e,n,s){n.status="fulfilled",n.value=s,Tg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,_g(e,s)))}function xf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Tg(n),n=n.next;while(n!==o)}e.action=null}function Tg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function bg(e,n){return n}function Sg(e,n){if(qt){var s=le.formState;if(s!==null){t:{var o=Dt;if(qt){if(he){e:{for(var h=he,f=Fn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){he=Kn(h.nextSibling),o=h.data==="F!";break t}}Us(o)}o=!1}o&&(n=s[0])}}return s=dn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bg,lastRenderedState:n},s.queue=o,s=Hg.bind(null,Dt,o),o.dispatch=s,o=Rf(!1),f=Mf.bind(null,Dt,!1,o.queue),o=dn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=AT.bind(null,Dt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function Ag(e){var n=Re();return wg(n,re,e)}function wg(e,n,s){if(n=Af(e,n,bg)[0],e=Xu(ns)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=el(n)}catch(p){throw p===Va?ju:p}else o=n;n=Re();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Dt.flags|=2048,ja(9,{destroy:void 0},wT.bind(null,h,s),null)),[o,f,e]}function wT(e,n){e.action=n}function Rg(e){var n=Re(),s=re;if(s!==null)return wg(n,s,e);Re(),n=n.memoizedState,s=Re();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function ja(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Dt.updateQueue,n===null&&(n=Ku(),Dt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function xg(){return Re().memoizedState}function $u(e,n,s,o){var h=dn();Dt.flags|=e,h.memoizedState=ja(1|n,{destroy:void 0},s,o===void 0?null:o)}function Zu(e,n,s,o){var h=Re();o=o===void 0?null:o;var f=h.memoizedState.inst;re!==null&&o!==null&&_f(o,re.memoizedState.deps)?h.memoizedState=ja(n,f,s,o):(Dt.flags|=e,h.memoizedState=ja(1|n,f,s,o))}function Cg(e,n){$u(8390656,8,e,n)}function Cf(e,n){Zu(2048,8,e,n)}function RT(e){Dt.flags|=4;var n=Dt.updateQueue;if(n===null)n=Ku(),Dt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Ig(e){var n=Re().memoizedState;return RT({ref:n,nextImpl:e}),function(){if((Zt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ng(e,n){return Zu(4,2,e,n)}function Dg(e,n){return Zu(4,4,e,n)}function Og(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Mg(e,n,s){s=s!=null?s.concat([e]):null,Zu(4,4,Og.bind(null,n,e),s)}function If(){}function Vg(e,n){var s=Re();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&_f(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function kg(e,n){var s=Re();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&_f(n,o[1]))return o[0];if(o=e(),Zr){Ln(!0);try{e()}finally{Ln(!1)}}return s.memoizedState=[o,n],o}function Nf(e,n,s){return s===void 0||(es&1073741824)!==0&&(Lt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ly(),Dt.lanes|=e,Qs|=e,s)}function Lg(e,n,s,o){return Rn(s,n)?s:La.current!==null?(e=Nf(e,s,o),Rn(e,n)||(Ue=!0),e):(es&42)===0||(es&1073741824)!==0&&(Lt&261930)===0?(Ue=!0,e.memoizedState=s):(e=Ly(),Dt.lanes|=e,Qs|=e,n)}function Ug(e,n,s,o,h){var f=rt.p;rt.p=f!==0&&8>f?f:8;var p=G.T,T={};G.T=T,Mf(e,!1,n,s);try{var C=h(),j=G.S;if(j!==null&&j(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=TT(C,o);nl(e,n,F,On(e))}else nl(e,n,o,On(e))}catch($){nl(e,n,{then:function(){},status:"rejected",reason:$},On())}finally{rt.p=f,p!==null&&T.types!==null&&(p.types=T.types),G.T=p}}function xT(){}function Df(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Pg(e).queue;Ug(e,h,n,gt,s===null?xT:function(){return jg(e),s(o)})}function Pg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:gt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function jg(e){var n=Pg(e);n.next===null&&(n=e.alternate.memoizedState),nl(e,n.next.queue,{},On())}function Of(){return We(vl)}function zg(){return Re().memoizedState}function Bg(){return Re().memoizedState}function CT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=On();e=zs(s);var o=Bs(n,e,s);o!==null&&(Tn(o,n,s),Zo(o,n,s)),n={cache:of()},e.payload=n;return}n=n.return}}function IT(e,n,s){var o=On();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ju(e)?qg(n,s):(s=Xh(e,n,s,o),s!==null&&(Tn(s,e,o),Gg(s,n,o)))}function Hg(e,n,s){var o=On();nl(e,n,s,o)}function nl(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ju(e))qg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,s);if(h.hasEagerState=!0,h.eagerState=T,Rn(T,p))return Ou(e,n,h,0),le===null&&Du(),!1}catch{}if(s=Xh(e,n,h,o),s!==null)return Tn(s,e,o),Gg(s,n,o),!0}return!1}function Mf(e,n,s,o){if(o={lane:2,revertLane:hd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ju(e)){if(n)throw Error(a(479))}else n=Xh(e,s,o,2),n!==null&&Tn(n,e,2)}function Ju(e){var n=e.alternate;return e===Dt||n!==null&&n===Dt}function qg(e,n){Ua=Fu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Gg(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Ao(e,s)}}var il={readContext:We,use:Yu,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve};il.useEffectEvent=ve;var Fg={readContext:We,use:Yu,useCallback:function(e,n){return dn().memoizedState=[e,n===void 0?null:n],e},useContext:We,useEffect:Cg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,$u(4194308,4,Og.bind(null,n,e),s)},useLayoutEffect:function(e,n){return $u(4194308,4,e,n)},useInsertionEffect:function(e,n){$u(4,2,e,n)},useMemo:function(e,n){var s=dn();n=n===void 0?null:n;var o=e();if(Zr){Ln(!0);try{e()}finally{Ln(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=dn();if(s!==void 0){var h=s(n);if(Zr){Ln(!0);try{s(n)}finally{Ln(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=IT.bind(null,Dt,e),[o.memoizedState,e]},useRef:function(e){var n=dn();return e={current:e},n.memoizedState=e},useState:function(e){e=Rf(e);var n=e.queue,s=Hg.bind(null,Dt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:If,useDeferredValue:function(e,n){var s=dn();return Nf(s,e,n)},useTransition:function(){var e=Rf(!1);return e=Ug.bind(null,Dt,e.queue,!0,!1),dn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Dt,h=dn();if(qt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),le===null)throw Error(a(349));(Lt&127)!==0||fg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Cg(mg.bind(null,o,f,e),[e]),o.flags|=2048,ja(9,{destroy:void 0},dg.bind(null,o,f,s,n),null),s},useId:function(){var e=dn(),n=le.identifierPrefix;if(qt){var s=Mi,o=Oi;s=(o&~(1<<32-Se(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Qu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=bT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Of,useFormState:Sg,useActionState:Sg,useOptimistic:function(e){var n=dn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Mf.bind(null,Dt,!0,s),s.dispatch=n,[e,n]},useMemoCache:Sf,useCacheRefresh:function(){return dn().memoizedState=CT.bind(null,Dt)},useEffectEvent:function(e){var n=dn(),s={impl:e};return n.memoizedState=s,function(){if((Zt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Vf={readContext:We,use:Yu,useCallback:Vg,useContext:We,useEffect:Cf,useImperativeHandle:Mg,useInsertionEffect:Ng,useLayoutEffect:Dg,useMemo:kg,useReducer:Xu,useRef:xg,useState:function(){return Xu(ns)},useDebugValue:If,useDeferredValue:function(e,n){var s=Re();return Lg(s,re.memoizedState,e,n)},useTransition:function(){var e=Xu(ns)[0],n=Re().memoizedState;return[typeof e=="boolean"?e:el(e),n]},useSyncExternalStore:hg,useId:zg,useHostTransitionStatus:Of,useFormState:Ag,useActionState:Ag,useOptimistic:function(e,n){var s=Re();return yg(s,re,e,n)},useMemoCache:Sf,useCacheRefresh:Bg};Vf.useEffectEvent=Ig;var Qg={readContext:We,use:Yu,useCallback:Vg,useContext:We,useEffect:Cf,useImperativeHandle:Mg,useInsertionEffect:Ng,useLayoutEffect:Dg,useMemo:kg,useReducer:wf,useRef:xg,useState:function(){return wf(ns)},useDebugValue:If,useDeferredValue:function(e,n){var s=Re();return re===null?Nf(s,e,n):Lg(s,re.memoizedState,e,n)},useTransition:function(){var e=wf(ns)[0],n=Re().memoizedState;return[typeof e=="boolean"?e:el(e),n]},useSyncExternalStore:hg,useId:zg,useHostTransitionStatus:Of,useFormState:Rg,useActionState:Rg,useOptimistic:function(e,n){var s=Re();return re!==null?yg(s,re,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:Bg};Qg.useEffectEvent=Ig;function kf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Lf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=On(),h=zs(o);h.payload=n,s!=null&&(h.callback=s),n=Bs(e,h,o),n!==null&&(Tn(n,e,o),Zo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=On(),h=zs(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Bs(e,h,o),n!==null&&(Tn(n,e,o),Zo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=On(),o=zs(s);o.tag=2,n!=null&&(o.callback=n),n=Bs(e,o,s),n!==null&&(Tn(n,e,s),Zo(n,e,s))}};function Kg(e,n,s,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!qo(s,o)||!qo(h,f):!0}function Yg(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Lf.enqueueReplaceState(n,n.state,null)}function Jr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Xg(e){Nu(e)}function $g(e){console.error(e)}function Zg(e){Nu(e)}function Wu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Jg(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Uf(e,n,s){return s=zs(s),s.tag=3,s.payload={element:null},s.callback=function(){Wu(e,n)},s}function Wg(e){return e=zs(e),e.tag=3,e}function ty(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Jg(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Jg(n,s,o),typeof h!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function NT(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Da(n,s,h,!0),s=Cn.current,s!==null){switch(s.tag){case 31:case 13:return Qn===null?hc():s.alternate===null&&Ee===0&&(Ee=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===zu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),ld(e,o,h)),!1;case 22:return s.flags|=65536,o===zu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),ld(e,o,h)),!1}throw Error(a(435,s.tag))}return ld(e,o,h),hc(),!1}if(qt)return n=Cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==ef&&(e=Error(a(422),{cause:o}),Qo(Hn(e,s)))):(o!==ef&&(n=Error(a(423),{cause:o}),Qo(Hn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Hn(o,s),h=Uf(e.stateNode,o,h),df(e,h),Ee!==4&&(Ee=2)),!1;var f=Error(a(520),{cause:o});if(f=Hn(f,s),hl===null?hl=[f]:hl.push(f),Ee!==4&&(Ee=2),n===null)return!0;o=Hn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Uf(s.stateNode,o,e),df(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ks===null||!Ks.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Wg(h),ty(h,e,s,o),df(s,h),!1}s=s.return}while(s!==null);return!1}var Pf=Error(a(461)),Ue=!1;function tn(e,n,s,o){n.child=e===null?sg(n,null,s,o):$r(n,e.child,s,o)}function ey(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var T in o)T!=="ref"&&(p[T]=o[T])}else p=o;return Qr(n),o=vf(e,n,s,p,f,h),T=Ef(),e!==null&&!Ue?(Tf(e,n,h),is(e,n,h)):(qt&&T&&Wh(n),n.flags|=1,tn(e,n,o,h),n.child)}function ny(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!$h(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,iy(e,n,f,o,h)):(e=Vu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Qf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:qo,s(p,o)&&e.ref===n.ref)return is(e,n,h)}return n.flags|=1,e=Zi(f,o),e.ref=n.ref,e.return=n,n.child=e}function iy(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(qo(f,o)&&e.ref===n.ref)if(Ue=!1,n.pendingProps=o=f,Qf(e,h))(e.flags&131072)!==0&&(Ue=!0);else return n.lanes=e.lanes,is(e,n,h)}return jf(e,n,s,o,h)}function sy(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ry(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Pu(n,f!==null?f.cachePool:null),f!==null?og(n,f):pf(),lg(n);else return o=n.lanes=536870912,ry(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Pu(n,f.cachePool),og(n,f),qs(),n.memoizedState=null):(e!==null&&Pu(n,null),pf(),qs());return tn(e,n,h,s),n.child}function sl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ry(e,n,s,o,h){var f=uf();return f=f===null?null:{parent:ke._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Pu(n,null),pf(),lg(n),e!==null&&Da(e,n,o,!0),n.childLanes=h,null}function tc(e,n){return n=nc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ay(e,n,s){return $r(n,e.child,null,s),e=tc(n,n.pendingProps),e.flags|=2,In(n),n.memoizedState=null,e}function DT(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(qt){if(o.mode==="hidden")return e=tc(n,o),n.lanes=536870912,sl(null,e);if(yf(n),(e=he)?(e=__(e,Fn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ks!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},s=qp(e),s.return=n,n.child=s,Je=n,he=null)):e=null,e===null)throw Us(n);return n.lanes=536870912,null}return tc(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(yf(n),h)if(n.flags&256)n.flags&=-257,n=ay(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ue||Da(e,n,s,!1),h=(s&e.childLanes)!==0,Ue||h){if(o=le,o!==null&&(p=wo(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Hr(e,p),Tn(o,e,p),Pf;hc(),n=ay(e,n,s)}else e=f.treeContext,he=Kn(p.nextSibling),Je=n,qt=!0,Ls=null,Fn=!1,e!==null&&Qp(n,e),n=tc(n,o),n.flags|=4096;return n}return e=Zi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ec(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function jf(e,n,s,o,h){return Qr(n),s=vf(e,n,s,o,void 0,h),o=Ef(),e!==null&&!Ue?(Tf(e,n,h),is(e,n,h)):(qt&&o&&Wh(n),n.flags|=1,tn(e,n,s,h),n.child)}function oy(e,n,s,o,h,f){return Qr(n),n.updateQueue=null,s=cg(n,o,s,h),ug(e),o=Ef(),e!==null&&!Ue?(Tf(e,n,f),is(e,n,f)):(qt&&o&&Wh(n),n.flags|=1,tn(e,n,s,f),n.child)}function ly(e,n,s,o,h){if(Qr(n),n.stateNode===null){var f=xa,p=s.contextType;typeof p=="object"&&p!==null&&(f=We(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},hf(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?We(p):xa,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(kf(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Lf.enqueueReplaceState(f,f.state,null),Wo(n,o,f,h),Jo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,C=Jr(s,T);f.props=C;var j=f.context,F=s.contextType;p=xa,typeof F=="object"&&F!==null&&(p=We(F));var $=s.getDerivedStateFromProps;F=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||j!==p)&&Yg(n,f,o,p),js=!1;var z=n.memoizedState;f.state=z,Wo(n,o,f,h),Jo(),j=n.memoizedState,T||z!==j||js?(typeof $=="function"&&(kf(n,s,$,o),j=n.memoizedState),(C=js||Kg(n,s,C,o,z,j,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=p,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,ff(e,n),p=n.memoizedProps,F=Jr(s,p),f.props=F,$=n.pendingProps,z=f.context,j=s.contextType,C=xa,typeof j=="object"&&j!==null&&(C=We(j)),T=s.getDerivedStateFromProps,(j=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==$||z!==C)&&Yg(n,f,o,C),js=!1,z=n.memoizedState,f.state=z,Wo(n,o,f,h),Jo();var H=n.memoizedState;p!==$||z!==H||js||e!==null&&e.dependencies!==null&&Lu(e.dependencies)?(typeof T=="function"&&(kf(n,s,T,o),H=n.memoizedState),(F=js||Kg(n,s,F,o,z,H,C)||e!==null&&e.dependencies!==null&&Lu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,ec(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=$r(n,e.child,null,h),n.child=$r(n,null,s,h)):tn(e,n,s,h),n.memoizedState=f.state,e=n.child):e=is(e,n,h),e}function uy(e,n,s,o){return Gr(),n.flags|=256,tn(e,n,s,o),n.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bf(e){return{baseLanes:e,cachePool:Jp()}}function Hf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Dn),e}function cy(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(qt){if(h?Hs(n):qs(),(e=he)?(e=__(e,Fn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ks!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},s=qp(e),s.return=n,n.child=s,Je=n,he=null)):e=null,e===null)throw Us(n);return Ad(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(qs(),h=n.mode,T=nc({mode:"hidden",children:T},h),o=qr(o,h,s,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Bf(s),o.childLanes=Hf(e,p,s),n.memoizedState=zf,sl(null,o)):(Hs(n),qf(n,T))}var C=e.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(Hs(n),n.flags&=-257,n=Gf(e,n,s)):n.memoizedState!==null?(qs(),n.child=e.child,n.flags|=128,n=null):(qs(),T=o.fallback,h=n.mode,o=nc({mode:"visible",children:o.children},h),T=qr(T,h,s,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,$r(n,e.child,null,s),o=n.child,o.memoizedState=Bf(s),o.childLanes=Hf(e,p,s),n.memoizedState=zf,n=sl(null,o));else if(Hs(n),Ad(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var j=p.dgst;p=j,o=Error(a(419)),o.stack="",o.digest=p,Qo({value:o,source:null,stack:null}),n=Gf(e,n,s)}else if(Ue||Da(e,n,s,!1),p=(s&e.childLanes)!==0,Ue||p){if(p=le,p!==null&&(o=wo(p,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,Hr(e,o),Tn(p,e,o),Pf;Sd(T)||hc(),n=Gf(e,n,s)}else Sd(T)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,he=Kn(T.nextSibling),Je=n,qt=!0,Ls=null,Fn=!1,e!==null&&Qp(n,e),n=qf(n,o.children),n.flags|=4096);return n}return h?(qs(),T=o.fallback,h=n.mode,C=e.child,j=C.sibling,o=Zi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,j!==null?T=Zi(j,T):(T=qr(T,h,s,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,sl(null,o),o=n.child,T=e.child.memoizedState,T===null?T=Bf(s):(h=T.cachePool,h!==null?(C=ke._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Jp(),T={baseLanes:T.baseLanes|s,cachePool:h}),o.memoizedState=T,o.childLanes=Hf(e,p,s),n.memoizedState=zf,sl(e.child,o)):(Hs(n),s=e.child,e=s.sibling,s=Zi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function qf(e,n){return n=nc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function nc(e,n){return e=xn(22,e,null,n),e.lanes=0,e}function Gf(e,n,s){return $r(n,e.child,null,s),e=qf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function hy(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),rf(e.return,n,s)}function Ff(e,n,s,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function fy(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=we.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,ot(we,p),tn(e,n,o,s),o=qt?Fo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hy(e,s,n);else if(e.tag===19)hy(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Gu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Ff(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Gu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Ff(n,!0,s,null,f,o);break;case"together":Ff(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function is(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Qs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Da(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Zi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Zi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Qf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Lu(e)))}function OT(e,n,s){switch(n.tag){case 3:Te(n,n.stateNode.containerInfo),Ps(n,ke,e.memoizedState.cache),Gr();break;case 27:case 5:Fi(n);break;case 4:Te(n,n.stateNode.containerInfo);break;case 10:Ps(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,yf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Hs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?cy(e,n,s):(Hs(n),e=is(e,n,s),e!==null?e.sibling:null);Hs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Da(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return fy(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ot(we,we.current),o)break;return null;case 22:return n.lanes=0,sy(e,n,s,n.pendingProps);case 24:Ps(n,ke,e.memoizedState.cache)}return is(e,n,s)}function dy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ue=!0;else{if(!Qf(e,s)&&(n.flags&128)===0)return Ue=!1,OT(e,n,s);Ue=(e.flags&131072)!==0}else Ue=!1,qt&&(n.flags&1048576)!==0&&Fp(n,Fo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Yr(n.elementType),n.type=e,typeof e=="function")$h(e)?(o=Jr(e,o),n.tag=1,n=ly(null,n,e,o,s)):(n.tag=0,n=jf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Ft){n.tag=11,n=ey(null,n,e,o,s);break t}else if(h===I){n.tag=14,n=ny(null,n,e,o,s);break t}}throw n=ue(e)||e,Error(a(306,n,""))}}return n;case 0:return jf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Jr(o,n.pendingProps),ly(e,n,o,h,s);case 3:t:{if(Te(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,ff(e,n),Wo(n,o,null,s);var p=n.memoizedState;if(o=p.cache,Ps(n,ke,o),o!==f.cache&&af(n,[ke],s,!0),Jo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=uy(e,n,o,s);break t}else if(o!==h){h=Hn(Error(a(424)),n),Qo(h),n=uy(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,he=Kn(e.firstChild),Je=n,qt=!0,Ls=null,Fn=!0,s=sg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Gr(),o===h){n=is(e,n,s);break t}tn(e,n,o,s)}n=n.child}return n;case 26:return ec(e,n),e===null?(s=A_(n.type,null,n.pendingProps,null))?n.memoizedState=s:qt||(s=n.type,e=n.pendingProps,o=_c(Ct.current).createElement(s),o[Oe]=n,o[Qe]=e,en(o,s,e),Me(o),n.stateNode=o):n.memoizedState=A_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Fi(n),e===null&&qt&&(o=n.stateNode=T_(n.type,n.pendingProps,Ct.current),Je=n,Fn=!0,h=he,Zs(n.type)?(wd=h,he=Kn(o.firstChild)):he=h),tn(e,n,n.pendingProps.children,s),ec(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&qt&&((h=o=he)&&(o=lb(o,n.type,n.pendingProps,Fn),o!==null?(n.stateNode=o,Je=n,he=Kn(o.firstChild),Fn=!1,h=!0):h=!1),h||Us(n)),Fi(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,Ed(h,f)?o=null:p!==null&&Ed(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=vf(e,n,ST,null,null,s),vl._currentValue=h),ec(e,n),tn(e,n,o,s),n.child;case 6:return e===null&&qt&&((e=s=he)&&(s=ub(s,n.pendingProps,Fn),s!==null?(n.stateNode=s,Je=n,he=null,e=!0):e=!1),e||Us(n)),null;case 13:return cy(e,n,s);case 4:return Te(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=$r(n,null,o,s):tn(e,n,o,s),n.child;case 11:return ey(e,n,n.type,n.pendingProps,s);case 7:return tn(e,n,n.pendingProps,s),n.child;case 8:return tn(e,n,n.pendingProps.children,s),n.child;case 12:return tn(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ps(n,n.type,o.value),tn(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Qr(n),h=We(h),o=o(h),n.flags|=1,tn(e,n,o,s),n.child;case 14:return ny(e,n,n.type,n.pendingProps,s);case 15:return iy(e,n,n.type,n.pendingProps,s);case 19:return fy(e,n,s);case 31:return DT(e,n,s);case 22:return sy(e,n,s,n.pendingProps);case 24:return Qr(n),o=We(ke),e===null?(h=uf(),h===null&&(h=le,f=of(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},hf(n),Ps(n,ke,h)):((e.lanes&s)!==0&&(ff(e,n),Wo(n,null,null,s),Jo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ps(n,ke,o)):(o=f.cache,Ps(n,ke,o),o!==h.cache&&af(n,[ke],s,!0))),tn(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ss(e){e.flags|=4}function Kf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(zy())e.flags|=8192;else throw Xr=zu,cf}else e.flags&=-16777217}function my(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!I_(n))if(zy())e.flags|=8192;else throw Xr=zu,cf}function ic(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?uu():536870912,e.lanes|=n,qa|=n)}function rl(e,n){if(!qt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function fe(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function MT(e,n,s){var o=n.pendingProps;switch(tf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(n),null;case 1:return fe(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ts(ke),ce(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Na(n)?ss(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nf())),fe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ss(n),f!==null?(fe(n),my(n,f)):(fe(n),Kf(n,h,null,o,s))):f?f!==e.memoizedState?(ss(n),fe(n),my(n,f)):(fe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ss(n),fe(n),Kf(n,h,e,o,s)),null;case 27:if(Ss(n),s=Ct.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ss(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return fe(n),null}e=ut.current,Na(n)?Kp(n):(e=T_(h,o,s),n.stateNode=e,ss(n))}return fe(n),null;case 5:if(Ss(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ss(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return fe(n),null}if(f=ut.current,Na(n))Kp(n);else{var p=_c(Ct.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Oe]=n,f[Qe]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(en(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ss(n)}}return fe(n),Kf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ss(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Ct.current,Na(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Oe]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||c_(e.nodeValue,s)),e||Us(n,!0)}else e=_c(e).createTextNode(o),e[Oe]=n,n.stateNode=e}return fe(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=Na(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Oe]=n}else Gr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),e=!1}else s=nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(In(n),n):(In(n),null);if((n.flags&128)!==0)throw Error(a(558))}return fe(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Na(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Oe]=n}else Gr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),h=!1}else h=nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(In(n),n):(In(n),null)}return In(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),ic(n,n.updateQueue),fe(n),null);case 4:return ce(),e===null&&pd(n.stateNode.containerInfo),fe(n),null;case 10:return ts(n.type),fe(n),null;case 19:if(X(we),o=n.memoizedState,o===null)return fe(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)rl(o,!1);else{if(Ee!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Gu(e),f!==null){for(n.flags|=128,rl(o,!1),e=f.updateQueue,n.updateQueue=e,ic(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Hp(s,e),s=s.sibling;return ot(we,we.current&1|2),qt&&Ji(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Et()>lc&&(n.flags|=128,h=!0,rl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Gu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,ic(n,e),rl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!qt)return fe(n),null}else 2*Et()-o.renderingStartTime>lc&&s!==536870912&&(n.flags|=128,h=!0,rl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Et(),e.sibling=null,s=we.current,ot(we,h?s&1|2:s&1),qt&&Ji(n,o.treeForkCount),e):(fe(n),null);case 22:case 23:return In(n),gf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(fe(n),n.subtreeFlags&6&&(n.flags|=8192)):fe(n),s=n.updateQueue,s!==null&&ic(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&X(Kr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ts(ke),fe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function VT(e,n){switch(tf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ts(ke),ce(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ss(n),null;case 31:if(n.memoizedState!==null){if(In(n),n.alternate===null)throw Error(a(340));Gr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(In(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Gr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(we),null;case 4:return ce(),null;case 10:return ts(n.type),null;case 22:case 23:return In(n),gf(),e!==null&&X(Kr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ts(ke),null;case 25:return null;default:return null}}function py(e,n){switch(tf(n),n.tag){case 3:ts(ke),ce();break;case 26:case 27:case 5:Ss(n);break;case 4:ce();break;case 31:n.memoizedState!==null&&In(n);break;case 13:In(n);break;case 19:X(we);break;case 10:ts(n.type);break;case 22:case 23:In(n),gf(),e!==null&&X(Kr);break;case 24:ts(ke)}}function al(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==h)}}catch(T){ee(n,n.return,T)}}function Gs(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var C=s,j=T;try{j()}catch(F){ee(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){ee(n,n.return,F)}}function gy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{ag(n,s)}catch(o){ee(e,e.return,o)}}}function yy(e,n,s){s.props=Jr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){ee(e,n,o)}}function ol(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){ee(e,n,h)}}function Vi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){ee(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ee(e,n,h)}else s.current=null}function _y(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){ee(e,e.return,h)}}function Yf(e,n,s){try{var o=e.stateNode;nb(o,e.type,s,n),o[Qe]=n}catch(h){ee(e,e.return,h)}}function vy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Zs(e.type)||e.tag===4}function Xf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||vy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Zs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $f(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ii));else if(o!==4&&(o===27&&Zs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for($f(e,n,s),e=e.sibling;e!==null;)$f(e,n,s),e=e.sibling}function sc(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Zs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(sc(e,n,s),e=e.sibling;e!==null;)sc(e,n,s),e=e.sibling}function Ey(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);en(n,o,s),n[Oe]=e,n[Qe]=s}catch(f){ee(e,e.return,f)}}var rs=!1,Pe=!1,Zf=!1,Ty=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function kT(e,n){if(e=e.containerInfo,_d=wc,e=Mp(e),qh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,T=-1,C=-1,j=0,F=0,$=e,z=null;e:for(;;){for(var H;$!==s||h!==0&&$.nodeType!==3||(T=p+h),$!==f||o!==0&&$.nodeType!==3||(C=p+o),$.nodeType===3&&(p+=$.nodeValue.length),(H=$.firstChild)!==null;)z=$,$=H;for(;;){if($===e)break e;if(z===s&&++j===h&&(T=p),z===f&&++F===o&&(C=p),(H=$.nextSibling)!==null)break;$=z,z=$.parentNode}$=H}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(vd={focusedElem:e,selectionRange:s},wc=!1,Ye=n;Ye!==null;)if(n=Ye,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ye=e;else for(;Ye!==null;){switch(n=Ye,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ht=Jr(s.type,h);e=o.getSnapshotBeforeUpdate(ht,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(vt){ee(s,s.return,vt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)bd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ye=e;break}Ye=n.return}}function by(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:os(e,s),o&4&&al(5,s);break;case 1:if(os(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){ee(s,s.return,p)}else{var h=Jr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){ee(s,s.return,p)}}o&64&&gy(s),o&512&&ol(s,s.return);break;case 3:if(os(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{ag(e,n)}catch(p){ee(s,s.return,p)}}break;case 27:n===null&&o&4&&Ey(s);case 26:case 5:os(e,s),n===null&&o&4&&_y(s),o&512&&ol(s,s.return);break;case 12:os(e,s);break;case 31:os(e,s),o&4&&wy(e,s);break;case 13:os(e,s),o&4&&Ry(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=GT.bind(null,s),cb(e,s))));break;case 22:if(o=s.memoizedState!==null||rs,!o){n=n!==null&&n.memoizedState!==null||Pe,h=rs;var f=Pe;rs=o,(Pe=n)&&!f?ls(e,s,(s.subtreeFlags&8772)!==0):os(e,s),rs=h,Pe=f}break;case 30:break;default:os(e,s)}}function Sy(e){var n=e.alternate;n!==null&&(e.alternate=null,Sy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&da(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pe=null,yn=!1;function as(e,n,s){for(s=s.child;s!==null;)Ay(e,n,s),s=s.sibling}function Ay(e,n,s){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Wn,s)}catch{}switch(s.tag){case 26:Pe||Vi(s,n),as(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Pe||Vi(s,n);var o=pe,h=yn;Zs(s.type)&&(pe=s.stateNode,yn=!1),as(e,n,s),gl(s.stateNode),pe=o,yn=h;break;case 5:Pe||Vi(s,n);case 6:if(o=pe,h=yn,pe=null,as(e,n,s),pe=o,yn=h,pe!==null)if(yn)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(s.stateNode)}catch(f){ee(s,n,f)}else try{pe.removeChild(s.stateNode)}catch(f){ee(s,n,f)}break;case 18:pe!==null&&(yn?(e=pe,g_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Za(e)):g_(pe,s.stateNode));break;case 4:o=pe,h=yn,pe=s.stateNode.containerInfo,yn=!0,as(e,n,s),pe=o,yn=h;break;case 0:case 11:case 14:case 15:Gs(2,s,n),Pe||Gs(4,s,n),as(e,n,s);break;case 1:Pe||(Vi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&yy(s,n,o)),as(e,n,s);break;case 21:as(e,n,s);break;case 22:Pe=(o=Pe)||s.memoizedState!==null,as(e,n,s),Pe=o;break;default:as(e,n,s)}}function wy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Za(e)}catch(s){ee(n,n.return,s)}}}function Ry(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Za(e)}catch(s){ee(n,n.return,s)}}function LT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ty),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ty),n;default:throw Error(a(435,e.tag))}}function rc(e,n){var s=LT(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=FT.bind(null,e,o);o.then(h,h)}})}function _n(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,p=n,T=p;t:for(;T!==null;){switch(T.tag){case 27:if(Zs(T.type)){pe=T.stateNode,yn=!1;break t}break;case 5:pe=T.stateNode,yn=!1;break t;case 3:case 4:pe=T.stateNode.containerInfo,yn=!0;break t}T=T.return}if(pe===null)throw Error(a(160));Ay(f,p,h),pe=null,yn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)xy(n,e),n=n.sibling}var ui=null;function xy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_n(n,e),vn(e),o&4&&(Gs(3,e,e.return),al(3,e),Gs(5,e,e.return));break;case 1:_n(n,e),vn(e),o&512&&(Pe||s===null||Vi(s,s.return)),o&64&&rs&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ui;if(_n(n,e),vn(e),o&512&&(Pe||s===null||Vi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ei]||f[Oe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),en(f,o,s),f[Oe]=e,Me(f),o=f;break t;case"link":var p=x_("link","href",h).get(o+(s.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(T,1);break e}}f=h.createElement(o),en(f,o,s),h.head.appendChild(f);break;case"meta":if(p=x_("meta","content",h).get(o+(s.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(T,1);break e}}f=h.createElement(o),en(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Oe]=e,Me(f),o=f}e.stateNode=o}else C_(h,e.type,e.stateNode);else e.stateNode=R_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?C_(h,e.type,e.stateNode):R_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Yf(e,e.memoizedProps,s.memoizedProps)}break;case 27:_n(n,e),vn(e),o&512&&(Pe||s===null||Vi(s,s.return)),s!==null&&o&4&&Yf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(_n(n,e),vn(e),o&512&&(Pe||s===null||Vi(s,s.return)),e.flags&32){h=e.stateNode;try{gn(h,"")}catch(ht){ee(e,e.return,ht)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Yf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Zf=!0);break;case 6:if(_n(n,e),vn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ht){ee(e,e.return,ht)}}break;case 3:if(Tc=null,h=ui,ui=vc(n.containerInfo),_n(n,e),ui=h,vn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Za(n.containerInfo)}catch(ht){ee(e,e.return,ht)}Zf&&(Zf=!1,Cy(e));break;case 4:o=ui,ui=vc(e.stateNode.containerInfo),_n(n,e),vn(e),ui=o;break;case 12:_n(n,e),vn(e);break;case 31:_n(n,e),vn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rc(e,o)));break;case 13:_n(n,e),vn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(oc=Et()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rc(e,o)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,j=rs,F=Pe;if(rs=j||h,Pe=F||C,_n(n,e),Pe=F,rs=j,vn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||rs||Pe||Wr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=C.stateNode;var $=C.memoizedProps.style,z=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ht){ee(C,C.return,ht)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ht){ee(C,C.return,ht)}}}else if(n.tag===18){if(s===null){C=n;try{var H=C.stateNode;h?y_(H,!0):y_(C.stateNode,!1)}catch(ht){ee(C,C.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,rc(e,s))));break;case 19:_n(n,e),vn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rc(e,o)));break;case 30:break;case 21:break;default:_n(n,e),vn(e)}}function vn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(vy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Xf(e);sc(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(gn(p,""),s.flags&=-33);var T=Xf(e);sc(e,T,p);break;case 3:case 4:var C=s.stateNode.containerInfo,j=Xf(e);$f(e,j,C);break;default:throw Error(a(161))}}catch(F){ee(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Cy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Cy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function os(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)by(e,n.alternate,n),n=n.sibling}function Wr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Gs(4,n,n.return),Wr(n);break;case 1:Vi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&yy(n,n.return,s),Wr(n);break;case 27:gl(n.stateNode);case 26:case 5:Vi(n,n.return),Wr(n);break;case 22:n.memoizedState===null&&Wr(n);break;case 30:Wr(n);break;default:Wr(n)}e=e.sibling}}function ls(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ls(h,f,s),al(4,f);break;case 1:if(ls(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){ee(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)rg(C[h],T)}catch(j){ee(o,o.return,j)}}s&&p&64&&gy(f),ol(f,f.return);break;case 27:Ey(f);case 26:case 5:ls(h,f,s),s&&o===null&&p&4&&_y(f),ol(f,f.return);break;case 12:ls(h,f,s);break;case 31:ls(h,f,s),s&&p&4&&wy(h,f);break;case 13:ls(h,f,s),s&&p&4&&Ry(h,f);break;case 22:f.memoizedState===null&&ls(h,f,s),ol(f,f.return);break;case 30:break;default:ls(h,f,s)}n=n.sibling}}function Jf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ko(s))}function Wf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ko(e))}function ci(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Iy(e,n,s,o),n=n.sibling}function Iy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ci(e,n,s,o),h&2048&&al(9,n);break;case 1:ci(e,n,s,o);break;case 3:ci(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ko(e)));break;case 12:if(h&2048){ci(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){ee(n,n.return,C)}}else ci(e,n,s,o);break;case 31:ci(e,n,s,o);break;case 13:ci(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ci(e,n,s,o):ll(e,n):f._visibility&2?ci(e,n,s,o):(f._visibility|=2,za(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Jf(p,n);break;case 24:ci(e,n,s,o),h&2048&&Wf(n.alternate,n);break;default:ci(e,n,s,o)}}function za(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,T=s,C=o,j=p.flags;switch(p.tag){case 0:case 11:case 15:za(f,p,T,C,h),al(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?za(f,p,T,C,h):ll(f,p):(F._visibility|=2,za(f,p,T,C,h)),h&&j&2048&&Jf(p.alternate,p);break;case 24:za(f,p,T,C,h),h&&j&2048&&Wf(p.alternate,p);break;default:za(f,p,T,C,h)}n=n.sibling}}function ll(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:ll(s,o),h&2048&&Jf(o.alternate,o);break;case 24:ll(s,o),h&2048&&Wf(o.alternate,o);break;default:ll(s,o)}n=n.sibling}}var ul=8192;function Ba(e,n,s){if(e.subtreeFlags&ul)for(e=e.child;e!==null;)Ny(e,n,s),e=e.sibling}function Ny(e,n,s){switch(e.tag){case 26:Ba(e,n,s),e.flags&ul&&e.memoizedState!==null&&bb(s,ui,e.memoizedState,e.memoizedProps);break;case 5:Ba(e,n,s);break;case 3:case 4:var o=ui;ui=vc(e.stateNode.containerInfo),Ba(e,n,s),ui=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ul,ul=16777216,Ba(e,n,s),ul=o):Ba(e,n,s));break;default:Ba(e,n,s)}}function Dy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function cl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ye=o,My(o,e)}Dy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Oy(e),e=e.sibling}function Oy(e){switch(e.tag){case 0:case 11:case 15:cl(e),e.flags&2048&&Gs(9,e,e.return);break;case 3:cl(e);break;case 12:cl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ac(e)):cl(e);break;default:cl(e)}}function ac(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ye=o,My(o,e)}Dy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Gs(8,n,n.return),ac(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,ac(n));break;default:ac(n)}e=e.sibling}}function My(e,n){for(;Ye!==null;){var s=Ye;switch(s.tag){case 0:case 11:case 15:Gs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ko(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ye=o;else t:for(s=e;Ye!==null;){o=Ye;var h=o.sibling,f=o.return;if(Sy(o),o===s){Ye=null;break t}if(h!==null){h.return=f,Ye=h;break t}Ye=f}}}var UT={getCacheForType:function(e){var n=We(ke),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return We(ke).controller.signal}},PT=typeof WeakMap=="function"?WeakMap:Map,Zt=0,le=null,Mt=null,Lt=0,te=0,Nn=null,Fs=!1,Ha=!1,td=!1,us=0,Ee=0,Qs=0,ta=0,ed=0,Dn=0,qa=0,hl=null,En=null,nd=!1,oc=0,Vy=0,lc=1/0,uc=null,Ks=null,He=0,Ys=null,Ga=null,cs=0,id=0,sd=null,ky=null,fl=0,rd=null;function On(){return(Zt&2)!==0&&Lt!==0?Lt&-Lt:G.T!==null?hd():cu()}function Ly(){if(Dn===0)if((Lt&536870912)===0||qt){var e=xr;xr<<=1,(xr&3932160)===0&&(xr=262144),Dn=e}else Dn=536870912;return e=Cn.current,e!==null&&(e.flags|=32),Dn}function Tn(e,n,s){(e===le&&(te===2||te===9)||e.cancelPendingCommit!==null)&&(Fa(e,0),Xs(e,Lt,Dn,!1)),Cr(e,s),((Zt&2)===0||e!==le)&&(e===le&&((Zt&2)===0&&(ta|=s),Ee===4&&Xs(e,Lt,Dn,!1)),ki(e))}function Uy(e,n,s){if((Zt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||ti(e,n),h=o?BT(e,n):od(e,n,!0),f=o;do{if(h===0){Ha&&!o&&Xs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!jT(s)){h=od(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var T=e;h=hl;var C=T.current.memoizedState.isDehydrated;if(C&&(Fa(T,p).flags|=256),p=od(T,p,!1),p!==2){if(td&&!C){T.errorRecoveryDisabledLanes|=f,ta|=f,h=4;break t}f=En,En=h,f!==null&&(En===null?En=f:En.push.apply(En,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Fa(e,0),Xs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Xs(o,n,Dn,!Fs);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=oc+300-Et(),10<h)){if(Xs(o,n,Dn,!Fs),yi(o,0,!0)!==0)break t;cs=n,o.timeoutHandle=m_(Py.bind(null,o,s,En,uc,nd,n,Dn,ta,qa,Fs,f,"Throttled",-0,0),h);break t}Py(o,s,En,uc,nd,n,Dn,ta,qa,Fs,f,null,-0,0)}}break}while(!0);ki(e)}function Py(e,n,s,o,h,f,p,T,C,j,F,$,z,H){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},Ny(n,f,$);var ht=(f&62914560)===f?oc-Et():(f&4194048)===f?Vy-Et():0;if(ht=Sb($,ht),ht!==null){cs=f,e.cancelPendingCommit=ht(Qy.bind(null,e,n,f,s,o,h,p,T,C,F,$,null,z,H)),Xs(e,f,p,!j);return}}Qy(e,n,f,s,o,h,p,T,C)}function jT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!Rn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Xs(e,n,s,o){n&=~ed,n&=~ta,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Se(h),p=1<<f;o[f]=-1,h&=~p}s!==0&&Ir(e,s,n)}function cc(){return(Zt&6)===0?(dl(0),!1):!0}function ad(){if(Mt!==null){if(te===0)var e=Mt.return;else e=Mt,Wi=Fr=null,bf(e),ka=null,Xo=0,e=Mt;for(;e!==null;)py(e.alternate,e),e=e.return;Mt=null}}function Fa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,rb(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),cs=0,ad(),le=e,Mt=s=Zi(e.current,null),Lt=n,te=0,Nn=null,Fs=!1,Ha=ti(e,n),td=!1,qa=Dn=ed=ta=Qs=Ee=0,En=hl=null,nd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Se(o),f=1<<h;n|=e[h],o&=~f}return us=n,Du(),s}function jy(e,n){Dt=null,G.H=il,n===Va||n===ju?(n=eg(),te=3):n===cf?(n=eg(),te=4):te=n===Pf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Nn=n,Mt===null&&(Ee=1,Wu(e,Hn(n,e.current)))}function zy(){var e=Cn.current;return e===null?!0:(Lt&4194048)===Lt?Qn===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?e===Qn:!1}function By(){var e=G.H;return G.H=il,e===null?il:e}function Hy(){var e=G.A;return G.A=UT,e}function hc(){Ee=4,Fs||(Lt&4194048)!==Lt&&Cn.current!==null||(Ha=!0),(Qs&134217727)===0&&(ta&134217727)===0||le===null||Xs(le,Lt,Dn,!1)}function od(e,n,s){var o=Zt;Zt|=2;var h=By(),f=Hy();(le!==e||Lt!==n)&&(uc=null,Fa(e,n)),n=!1;var p=Ee;t:do try{if(te!==0&&Mt!==null){var T=Mt,C=Nn;switch(te){case 8:ad(),p=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(n=!0);var j=te;if(te=0,Nn=null,Qa(e,T,C,j),s&&Ha){p=0;break t}break;default:j=te,te=0,Nn=null,Qa(e,T,C,j)}}zT(),p=Ee;break}catch(F){jy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Wi=Fr=null,Zt=o,G.H=h,G.A=f,Mt===null&&(le=null,Lt=0,Du()),p}function zT(){for(;Mt!==null;)qy(Mt)}function BT(e,n){var s=Zt;Zt|=2;var o=By(),h=Hy();le!==e||Lt!==n?(uc=null,lc=Et()+500,Fa(e,n)):Ha=ti(e,n);t:do try{if(te!==0&&Mt!==null){n=Mt;var f=Nn;e:switch(te){case 1:te=0,Nn=null,Qa(e,n,f,1);break;case 2:case 9:if(Wp(f)){te=0,Nn=null,Gy(n);break}n=function(){te!==2&&te!==9||le!==e||(te=7),ki(e)},f.then(n,n);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:Wp(f)?(te=0,Nn=null,Gy(n)):(te=0,Nn=null,Qa(e,n,f,7));break;case 5:var p=null;switch(Mt.tag){case 26:p=Mt.memoizedState;case 5:case 27:var T=Mt;if(p?I_(p):T.stateNode.complete){te=0,Nn=null;var C=T.sibling;if(C!==null)Mt=C;else{var j=T.return;j!==null?(Mt=j,fc(j)):Mt=null}break e}}te=0,Nn=null,Qa(e,n,f,5);break;case 6:te=0,Nn=null,Qa(e,n,f,6);break;case 8:ad(),Ee=6;break t;default:throw Error(a(462))}}HT();break}catch(F){jy(e,F)}while(!0);return Wi=Fr=null,G.H=o,G.A=h,Zt=s,Mt!==null?0:(le=null,Lt=0,Du(),Ee)}function HT(){for(;Mt!==null&&!at();)qy(Mt)}function qy(e){var n=dy(e.alternate,e,us);e.memoizedProps=e.pendingProps,n===null?fc(e):Mt=n}function Gy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=oy(s,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=oy(s,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:bf(n);default:py(s,n),n=Mt=Hp(n,us),n=dy(s,n,us)}e.memoizedProps=e.pendingProps,n===null?fc(e):Mt=n}function Qa(e,n,s,o){Wi=Fr=null,bf(n),ka=null,Xo=0;var h=n.return;try{if(NT(e,h,n,s,Lt)){Ee=1,Wu(e,Hn(s,e.current)),Mt=null;return}}catch(f){if(h!==null)throw Mt=h,f;Ee=1,Wu(e,Hn(s,e.current)),Mt=null;return}n.flags&32768?(qt||o===1?e=!0:Ha||(Lt&536870912)!==0?e=!1:(Fs=e=!0,(o===2||o===9||o===3||o===6)&&(o=Cn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Fy(n,e)):fc(n)}function fc(e){var n=e;do{if((n.flags&32768)!==0){Fy(n,Fs);return}e=n.return;var s=MT(n.alternate,n,us);if(s!==null){Mt=s;return}if(n=n.sibling,n!==null){Mt=n;return}Mt=n=e}while(n!==null);Ee===0&&(Ee=5)}function Fy(e,n){do{var s=VT(e.alternate,e);if(s!==null){s.flags&=32767,Mt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=s}while(e!==null);Ee=6,Mt=null}function Qy(e,n,s,o,h,f,p,T,C){e.cancelPendingCommit=null;do dc();while(He!==0);if((Zt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Yh,jh(e,s,f,p,T,C),e===le&&(Mt=le=null,Lt=0),Ga=n,Ys=e,cs=s,id=f,sd=h,ky=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,QT(Jn,function(){return Zy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=rt.p,rt.p=2,p=Zt,Zt|=4;try{kT(e,n,s)}finally{Zt=p,rt.p=h,G.T=o}}He=1,Ky(),Yy(),Xy()}}function Ky(){if(He===1){He=0;var e=Ys,n=Ga,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=rt.p;rt.p=2;var h=Zt;Zt|=4;try{xy(n,e);var f=vd,p=Mp(e.containerInfo),T=f.focusedElem,C=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&Op(T.ownerDocument.documentElement,T)){if(C!==null&&qh(T)){var j=C.start,F=C.end;if(F===void 0&&(F=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(F,T.value.length);else{var $=T.ownerDocument||document,z=$&&$.defaultView||window;if(z.getSelection){var H=z.getSelection(),ht=T.textContent.length,vt=Math.min(C.start,ht),oe=C.end===void 0?vt:Math.min(C.end,ht);!H.extend&&vt>oe&&(p=oe,oe=vt,vt=p);var k=Dp(T,vt),D=Dp(T,oe);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var P=$.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),vt>oe?(H.addRange(P),H.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),H.addRange(P))}}}}for($=[],H=T;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var K=$[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}wc=!!_d,vd=_d=null}finally{Zt=h,rt.p=o,G.T=s}}e.current=n,He=2}}function Yy(){if(He===2){He=0;var e=Ys,n=Ga,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=rt.p;rt.p=2;var h=Zt;Zt|=4;try{by(e,n.alternate,n)}finally{Zt=h,rt.p=o,G.T=s}}He=3}}function Xy(){if(He===4||He===3){He=0,It();var e=Ys,n=Ga,s=cs,o=ky;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?He=5:(He=0,Ga=Ys=null,$y(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ks=null),Ki(s),n=n.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Wn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=rt.p,rt.p=2,G.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var T=o[p];f(T.value,{componentStack:T.stack})}}finally{G.T=n,rt.p=h}}(cs&3)!==0&&dc(),ki(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===rd?fl++:(fl=0,rd=e):fl=0,dl(0)}}function $y(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ko(n)))}function dc(){return Ky(),Yy(),Xy(),Zy()}function Zy(){if(He!==5)return!1;var e=Ys,n=id;id=0;var s=Ki(cs),o=G.T,h=rt.p;try{rt.p=32>s?32:s,G.T=null,s=sd,sd=null;var f=Ys,p=cs;if(He=0,Ga=Ys=null,cs=0,(Zt&6)!==0)throw Error(a(331));var T=Zt;if(Zt|=4,Oy(f.current),Iy(f,f.current,p,s),Zt=T,dl(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Wn,f)}catch{}return!0}finally{rt.p=h,G.T=o,$y(e,n)}}function Jy(e,n,s){n=Hn(s,n),n=Uf(e.stateNode,n,2),e=Bs(e,n,2),e!==null&&(Cr(e,2),ki(e))}function ee(e,n,s){if(e.tag===3)Jy(e,e,s);else for(;n!==null;){if(n.tag===3){Jy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ks===null||!Ks.has(o))){e=Hn(s,e),s=Wg(2),o=Bs(n,s,2),o!==null&&(ty(s,o,n,e),Cr(o,2),ki(o));break}}n=n.return}}function ld(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new PT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(td=!0,h.add(s),e=qT.bind(null,e,n,s),n.then(e,e))}function qT(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,le===e&&(Lt&s)===s&&(Ee===4||Ee===3&&(Lt&62914560)===Lt&&300>Et()-oc?(Zt&2)===0&&Fa(e,0):ed|=s,qa===Lt&&(qa=0)),ki(e)}function Wy(e,n){n===0&&(n=uu()),e=Hr(e,n),e!==null&&(Cr(e,n),ki(e))}function GT(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Wy(e,s)}function FT(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Wy(e,s)}function QT(e,n){return nt(e,n)}var mc=null,Ka=null,ud=!1,pc=!1,cd=!1,$s=0;function ki(e){e!==Ka&&e.next===null&&(Ka===null?mc=Ka=e:Ka=Ka.next=e),pc=!0,ud||(ud=!0,YT())}function dl(e,n){if(!cd&&pc){cd=!0;do for(var s=!1,o=mc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-Se(42|e)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,i_(o,f))}else f=Lt,f=yi(o,o===le?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ti(o,f)||(s=!0,i_(o,f));o=o.next}while(s);cd=!1}}function KT(){t_()}function t_(){pc=ud=!1;var e=0;$s!==0&&sb()&&(e=$s);for(var n=Et(),s=null,o=mc;o!==null;){var h=o.next,f=e_(o,n);f===0?(o.next=null,s===null?mc=h:s.next=h,h===null&&(Ka=s)):(s=o,(e!==0||(f&3)!==0)&&(pc=!0)),o=h}He!==0&&He!==5||dl(e),$s!==0&&($s=0)}function e_(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-Se(f),T=1<<p,C=h[p];C===-1?((T&s)===0||(T&o)!==0)&&(h[p]=Ph(T,n)):C<=n&&(e.expiredLanes|=T),f&=~T}if(n=le,s=Lt,s=yi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(te===2||te===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&wt(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||ti(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&wt(o),Ki(s)){case 2:case 8:s=Zn;break;case 32:s=Jn;break;case 268435456:s=Rr;break;default:s=Jn}return o=n_.bind(null,e),s=nt(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&wt(o),e.callbackPriority=2,e.callbackNode=null,2}function n_(e,n){if(He!==0&&He!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(dc()&&e.callbackNode!==s)return null;var o=Lt;return o=yi(e,e===le?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Uy(e,o,n),e_(e,Et()),e.callbackNode!=null&&e.callbackNode===s?n_.bind(null,e):null)}function i_(e,n){if(dc())return null;Uy(e,n,!0)}function YT(){ab(function(){(Zt&6)!==0?nt(an,KT):t_()})}function hd(){if($s===0){var e=Oa;e===0&&(e=pi,pi<<=1,(pi&261888)===0&&(pi=256)),$s=e}return $s}function s_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ya(""+e)}function r_(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function XT(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=s_((h[Qe]||null).action),p=o.submitter;p&&(n=(n=p[Qe]||null)?s_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new Ci("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if($s!==0){var C=p?r_(h,p):new FormData(h);Df(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=p?r_(h,p):new FormData(h),Df(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var fd=0;fd<Kh.length;fd++){var dd=Kh[fd],$T=dd.toLowerCase(),ZT=dd[0].toUpperCase()+dd.slice(1);li($T,"on"+ZT)}li(Lp,"onAnimationEnd"),li(Up,"onAnimationIteration"),li(Pp,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(dT,"onTransitionRun"),li(mT,"onTransitionStart"),li(pT,"onTransitionCancel"),li(jp,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function a_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var T=o[p],C=T.instance,j=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(F){Nu(F)}h.currentTarget=null,f=C}else for(p=0;p<o.length;p++){if(T=o[p],C=T.instance,j=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(F){Nu(F)}h.currentTarget=null,f=C}}}}function Vt(e,n){var s=n[fa];s===void 0&&(s=n[fa]=new Set);var o=e+"__bubble";s.has(o)||(o_(n,e,2,!1),s.add(o))}function md(e,n,s){var o=0;n&&(o|=4),o_(s,e,o,n)}var gc="_reactListening"+Math.random().toString(36).slice(2);function pd(e){if(!e[gc]){e[gc]=!0,Ro.forEach(function(s){s!=="selectionchange"&&(JT.has(s)||md(s,!1,e),md(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[gc]||(n[gc]=!0,md("selectionchange",!1,n))}}function o_(e,n,s,o){switch(L_(n)){case 2:var h=Rb;break;case 8:h=xb;break;default:h=Nd}s=h.bind(null,n,s,e),h=void 0,!Vr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function gd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var T=o.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=o.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=Ti(T),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){o=f=p;continue t}T=T.parentNode}}o=o.return}Ds(function(){var j=f,F=Pn(s),$=[];t:{var z=zp.get(e);if(z!==void 0){var H=Ci,ht=e;switch(e){case"keypress":if(Lr(s)===0)break t;case"keydown":case"keyup":H=xu;break;case"focusin":ht="focus",H=Pr;break;case"focusout":ht="blur",H=Pr;break;case"beforeblur":case"afterblur":H=Pr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Lp:case Up:case Pp:H=Eu;break;case jp:H=b;break;case"scroll":case"scrollend":H=Po;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=$i;break;case"toggle":case"beforetoggle":H=Nt}var vt=(n&4)!==0,oe=!vt&&(e==="scroll"||e==="scrollend"),k=vt?z!==null?z+"Capture":null:z;vt=[];for(var D=j,P;D!==null;){var K=D;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=si(D,k),K!=null&&vt.push(pl(D,K,P))),oe)break;D=D.return}0<vt.length&&(z=new H(z,ht,null,s,F),$.push({event:z,listeners:vt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",z&&s!==ko&&(ht=s.relatedTarget||s.fromElement)&&(Ti(ht)||ht[vi]))break t;if((H||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,H?(ht=s.relatedTarget||s.toElement,H=j,ht=ht?Ti(ht):null,ht!==null&&(oe=c(ht),vt=ht.tag,ht!==oe||vt!==5&&vt!==27&&vt!==6)&&(ht=null)):(H=null,ht=j),H!==ht)){if(vt=jo,K="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(vt=$i,K="onPointerLeave",k="onPointerEnter",D="pointer"),oe=H==null?z:An(H),P=ht==null?z:An(ht),z=new vt(K,D+"leave",H,s,F),z.target=oe,z.relatedTarget=P,K=null,Ti(F)===j&&(vt=new vt(k,D+"enter",ht,s,F),vt.target=P,vt.relatedTarget=oe,K=vt),oe=K,H&&ht)e:{for(vt=WT,k=H,D=ht,P=0,K=k;K;K=vt(K))P++;K=0;for(var yt=D;yt;yt=vt(yt))K++;for(;0<P-K;)k=vt(k),P--;for(;0<K-P;)D=vt(D),K--;for(;P--;){if(k===D||D!==null&&k===D.alternate){vt=k;break e}k=vt(k),D=vt(D)}vt=null}else vt=null;H!==null&&l_($,z,H,vt,!1),ht!==null&&oe!==null&&l_($,oe,ht,vt,!0)}}t:{if(z=j?An(j):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Kt=wp;else if(Sp(z))if(Rp)Kt=cT;else{Kt=lT;var ft=oT}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&ga(j.elementType)&&(Kt=wp):Kt=uT;if(Kt&&(Kt=Kt(e,j))){Ap($,Kt,s,F);break t}ft&&ft(e,z,j),e==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Oo(z,"number",z.value)}switch(ft=j?An(j):window,e){case"focusin":(Sp(ft)||ft.contentEditable==="true")&&(Aa=ft,Gh=j,Go=null);break;case"focusout":Go=Gh=Aa=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,Vp($,s,F);break;case"selectionchange":if(fT)break;case"keydown":case"keyup":Vp($,s,F)}var Ot;if($t)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else Sa?jr(e,s)&&(Ut="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ut="onCompositionStart");Ut&&(Di&&s.locale!=="ko"&&(Sa||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Sa&&(Ot=Uo()):(xi=F,Lo="value"in xi?xi.value:xi.textContent,Sa=!0)),ft=yc(j,Ut),0<ft.length&&(Ut=new Ni(Ut,e,null,s,F),$.push({event:Ut,listeners:ft}),Ot?Ut.data=Ot:(Ot=ba(s),Ot!==null&&(Ut.data=Ot)))),(Ot=zn?iT(e,s):sT(e,s))&&(Ut=yc(j,"onBeforeInput"),0<Ut.length&&(ft=new Ni("onBeforeInput","beforeinput",null,s,F),$.push({event:ft,listeners:Ut}),ft.data=Ot)),XT($,e,j,s,F)}a_($,n)})}function pl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function yc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=si(e,s),h!=null&&o.unshift(pl(e,h,f)),h=si(e,n),h!=null&&o.push(pl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function WT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function l_(e,n,s,o,h){for(var f=n._reactName,p=[];s!==null&&s!==o;){var T=s,C=T.alternate,j=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||j===null||(C=j,h?(j=si(s,f),j!=null&&p.unshift(pl(s,j,C))):h||(j=si(s,f),j!=null&&p.push(pl(s,j,C)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var tb=/\r\n?/g,eb=/\u0000|\uFFFD/g;function u_(e){return(typeof e=="string"?e:""+e).replace(tb,`
`).replace(eb,"")}function c_(e,n){return n=u_(n),u_(e)===n}function ae(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||gn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&gn(e,""+o);break;case"className":wn(e,"class",o);break;case"tabIndex":wn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(e,s,o);break;case"style":Vo(e,o,f);break;case"data":if(n!=="object"){wn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ya(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ae(e,n,"name",h.name,h,null),ae(e,n,"formEncType",h.formEncType,h,null),ae(e,n,"formMethod",h.formMethod,h,null),ae(e,n,"formTarget",h.formTarget,h,null)):(ae(e,n,"encType",h.encType,h,null),ae(e,n,"method",h.method,h,null),ae(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ya(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=ii);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ya(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),ma(e,"popover",o);break;case"xlinkActuate":Ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ma(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=yu.get(s)||s,ma(e,s,o))}}function yd(e,n,s,o,h,f){switch(s){case"style":Vo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?gn(e,o):(typeof o=="number"||typeof o=="bigint")&&gn(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Qe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):ma(e,s,o)}}}function en(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ae(e,n,f,p,s,null)}}h&&ae(e,n,"srcSet",s.srcSet,s,null),o&&ae(e,n,"src",s.src,s,null);return;case"input":Vt("invalid",e);var T=f=p=h=null,C=null,j=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":p=F;break;case"checked":C=F;break;case"defaultChecked":j=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:ae(e,n,o,F,s,null)}}mu(e,f,T,C,j,p,h,!1);return;case"select":Vt("invalid",e),o=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":o=T;default:ae(e,n,h,T,s,null)}n=f,s=p,e.multiple=!!o,n!=null?xs(e,!!o,n,!1):s!=null&&xs(e,!!o,s,!0);return;case"textarea":Vt("invalid",e),f=h=o=null;for(p in s)if(s.hasOwnProperty(p)&&(T=s[p],T!=null))switch(p){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:ae(e,n,p,T,s,null)}Cs(e,o,h,f);return;case"option":for(C in s)s.hasOwnProperty(C)&&(o=s[C],o!=null)&&(C==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ae(e,n,C,o,s,null));return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<ml.length;o++)Vt(ml[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(o=s[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ae(e,n,j,o,s,null)}return;default:if(ga(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&yd(e,n,F,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&ae(e,n,T,o,s,null))}function nb(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,C=null,j=null,F=null;for(H in s){var $=s[H];if(s.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=$;default:o.hasOwnProperty(H)||ae(e,n,H,null,o,$)}}for(var z in o){var H=o[z];if($=s[z],o.hasOwnProperty(z)&&(H!=null||$!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":F=H;break;case"value":p=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==$&&ae(e,n,z,H,o,$)}}pa(e,p,T,C,j,F,f,h);return;case"select":H=p=T=z=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||ae(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==C&&ae(e,n,h,f,o,C)}n=T,s=p,o=H,z!=null?xs(e,!!s,z,!1):!!o!=!!s&&(n!=null?xs(e,!!s,n,!0):xs(e,!!s,s?[]:"",!1));return;case"textarea":H=z=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ae(e,n,T,null,o,h)}for(p in o)if(h=o[p],f=s[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ae(e,n,p,h,o,f)}pu(e,z,H);return;case"option":for(var ht in s)z=s[ht],s.hasOwnProperty(ht)&&z!=null&&!o.hasOwnProperty(ht)&&(ht==="selected"?e.selected=!1:ae(e,n,ht,null,o,z));for(C in o)z=o[C],H=s[C],o.hasOwnProperty(C)&&z!==H&&(z!=null||H!=null)&&(C==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":ae(e,n,C,z,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in s)z=s[vt],s.hasOwnProperty(vt)&&z!=null&&!o.hasOwnProperty(vt)&&ae(e,n,vt,null,o,z);for(j in o)if(z=o[j],H=s[j],o.hasOwnProperty(j)&&z!==H&&(z!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:ae(e,n,j,z,o,H)}return;default:if(ga(n)){for(var oe in s)z=s[oe],s.hasOwnProperty(oe)&&z!==void 0&&!o.hasOwnProperty(oe)&&yd(e,n,oe,void 0,o,z);for(F in o)z=o[F],H=s[F],!o.hasOwnProperty(F)||z===H||z===void 0&&H===void 0||yd(e,n,F,z,o,H);return}}for(var k in s)z=s[k],s.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&ae(e,n,k,null,o,z);for($ in o)z=o[$],H=s[$],!o.hasOwnProperty($)||z===H||z==null&&H==null||ae(e,n,$,z,o,H)}function h_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ib(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&h_(p)){for(p=0,T=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],j=C.startTime;if(j>T)break;var F=C.transferSize,$=C.initiatorType;F&&h_($)&&(C=C.responseEnd,p+=F*(C<T?1:(T-j)/(C-j)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _d=null,vd=null;function _c(e){return e.nodeType===9?e:e.ownerDocument}function f_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ed(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Td=null;function sb(){var e=window.event;return e&&e.type==="popstate"?e===Td?!1:(Td=e,!0):(Td=null,!1)}var m_=typeof setTimeout=="function"?setTimeout:void 0,rb=typeof clearTimeout=="function"?clearTimeout:void 0,p_=typeof Promise=="function"?Promise:void 0,ab=typeof queueMicrotask=="function"?queueMicrotask:typeof p_<"u"?function(e){return p_.resolve(null).then(e).catch(ob)}:m_;function ob(e){setTimeout(function(){throw e})}function Zs(e){return e==="head"}function g_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Za(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")gl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,gl(s);for(var f=s.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[Ei]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&gl(e.ownerDocument.body);s=h}while(s);Za(n)}function y_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function bd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":bd(s),da(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function lb(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ei])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Kn(e.nextSibling),e===null)break}return null}function ub(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Kn(e.nextSibling),e===null))return null;return e}function __(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Kn(e.nextSibling),e===null))return null;return e}function Sd(e){return e.data==="$?"||e.data==="$~"}function Ad(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function cb(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var wd=null;function v_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Kn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function E_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function T_(e,n,s){switch(n=_c(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function gl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);da(e)}var Yn=new Map,b_=new Set;function vc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var hs=rt.d;rt.d={f:hb,r:fb,D:db,C:mb,L:pb,m:gb,X:_b,S:yb,M:vb};function hb(){var e=hs.f(),n=cc();return e||n}function fb(e){var n=Un(e);n!==null&&n.tag===5&&n.type==="form"?jg(n):hs.r(e)}var Ya=typeof document>"u"?null:document;function S_(e,n,s){var o=Ya;if(o&&typeof n=="string"&&n){var h=pn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),b_.has(h)||(b_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),en(n,"link",e),Me(n),o.head.appendChild(n)))}}function db(e){hs.D(e),S_("dns-prefetch",e,null)}function mb(e,n){hs.C(e,n),S_("preconnect",e,n)}function pb(e,n,s){hs.L(e,n,s);var o=Ya;if(o&&e&&n){var h='link[rel="preload"][as="'+pn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+pn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+pn(s.imageSizes)+'"]')):h+='[href="'+pn(e)+'"]';var f=h;switch(n){case"style":f=Xa(e);break;case"script":f=$a(e)}Yn.has(f)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Yn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(yl(f))||n==="script"&&o.querySelector(_l(f))||(n=o.createElement("link"),en(n,"link",e),Me(n),o.head.appendChild(n)))}}function gb(e,n){hs.m(e,n);var s=Ya;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+pn(o)+'"][href="'+pn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=$a(e)}if(!Yn.has(f)&&(e=w({rel:"modulepreload",href:e},n),Yn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(_l(f)))return}o=s.createElement("link"),en(o,"link",e),Me(o),s.head.appendChild(o)}}}function yb(e,n,s){hs.S(e,n,s);var o=Ya;if(o&&e){var h=bi(o).hoistableStyles,f=Xa(e);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=o.querySelector(yl(f)))T.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Yn.get(f))&&Rd(e,s);var C=p=o.createElement("link");Me(C),en(C,"link",e),C._p=new Promise(function(j,F){C.onload=j,C.onerror=F}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ec(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function _b(e,n){hs.X(e,n);var s=Ya;if(s&&e){var o=bi(s).hoistableScripts,h=$a(e),f=o.get(h);f||(f=s.querySelector(_l(h)),f||(e=w({src:e,async:!0},n),(n=Yn.get(h))&&xd(e,n),f=s.createElement("script"),Me(f),en(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function vb(e,n){hs.M(e,n);var s=Ya;if(s&&e){var o=bi(s).hoistableScripts,h=$a(e),f=o.get(h);f||(f=s.querySelector(_l(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=Yn.get(h))&&xd(e,n),f=s.createElement("script"),Me(f),en(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function A_(e,n,s,o){var h=(h=Ct.current)?vc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Xa(s.href),s=bi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Xa(s.href);var f=bi(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(yl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Yn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Yn.set(e,s),f||Eb(h,e,s,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=$a(s),s=bi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Xa(e){return'href="'+pn(e)+'"'}function yl(e){return'link[rel="stylesheet"]['+e+"]"}function w_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function Eb(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),en(n,"link",s),Me(n),e.head.appendChild(n))}function $a(e){return'[src="'+pn(e)+'"]'}function _l(e){return"script[async]"+e}function R_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+pn(s.href)+'"]');if(o)return n.instance=o,Me(o),o;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Me(o),en(o,"style",h),Ec(o,s.precedence,e),n.instance=o;case"stylesheet":h=Xa(s.href);var f=e.querySelector(yl(h));if(f)return n.state.loading|=4,n.instance=f,Me(f),f;o=w_(s),(h=Yn.get(h))&&Rd(o,h),f=(e.ownerDocument||e).createElement("link"),Me(f);var p=f;return p._p=new Promise(function(T,C){p.onload=T,p.onerror=C}),en(f,"link",o),n.state.loading|=4,Ec(f,s.precedence,e),n.instance=f;case"script":return f=$a(s.src),(h=e.querySelector(_l(f)))?(n.instance=h,Me(h),h):(o=s,(h=Yn.get(f))&&(o=w({},s),xd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Me(h),en(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ec(o,s.precedence,e));return n.instance}function Ec(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var T=o[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Rd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function xd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Tc=null;function x_(e,n,s){if(Tc===null){var o=new Map,h=Tc=new Map;h.set(s,o)}else h=Tc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[Ei]||f[Oe]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var T=o.get(p);T?T.push(f):o.set(p,[f])}}return o}function C_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function Tb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function I_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function bb(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Xa(o.href),f=n.querySelector(yl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=bc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Me(f);return}f=n.ownerDocument||n,o=w_(o),(h=Yn.get(h))&&Rd(o,h),f=f.createElement("link"),Me(f);var p=f;p._p=new Promise(function(T,C){p.onload=T,p.onerror=C}),en(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=bc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Cd=0;function Sb(e,n){return e.stylesheets&&e.count===0&&Ac(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&Ac(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Cd===0&&(Cd=62500*ib());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ac(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Cd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ac(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Sc=null;function Ac(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Sc=new Map,n.forEach(Ab,e),Sc=null,bc.call(e))}function Ab(e,n){if(!(n.state.loading&4)){var s=Sc.get(e);if(s)var o=s.get(null);else{s=new Map,Sc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,h),s.set(p,h),this.count++,o=bc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var vl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function wb(e,n,s,o,h,f,p,T,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function N_(e,n,s,o,h,f,p,T,C,j,F,$){return e=new wb(e,n,s,p,C,j,F,$,T),n=1,f===!0&&(n|=24),f=xn(3,null,null,n),e.current=f,f.stateNode=e,n=of(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},hf(f),e}function D_(e){return e?(e=xa,e):xa}function O_(e,n,s,o,h,f){h=D_(h),o.context===null?o.context=h:o.pendingContext=h,o=zs(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Bs(e,o,n),s!==null&&(Tn(s,e,n),Zo(s,e,n))}function M_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Id(e,n){M_(e,n),(e=e.alternate)&&M_(e,n)}function V_(e){if(e.tag===13||e.tag===31){var n=Hr(e,67108864);n!==null&&Tn(n,e,67108864),Id(e,67108864)}}function k_(e){if(e.tag===13||e.tag===31){var n=On();n=Nr(n);var s=Hr(e,n);s!==null&&Tn(s,e,n),Id(e,n)}}var wc=!0;function Rb(e,n,s,o){var h=G.T;G.T=null;var f=rt.p;try{rt.p=2,Nd(e,n,s,o)}finally{rt.p=f,G.T=h}}function xb(e,n,s,o){var h=G.T;G.T=null;var f=rt.p;try{rt.p=8,Nd(e,n,s,o)}finally{rt.p=f,G.T=h}}function Nd(e,n,s,o){if(wc){var h=Dd(o);if(h===null)gd(e,n,o,Rc,s),U_(e,o);else if(Ib(h,e,n,s,o))o.stopPropagation();else if(U_(e,o),n&4&&-1<Cb.indexOf(e)){for(;h!==null;){var f=Un(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=gi(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var C=1<<31-Se(p);T.entanglements[1]|=C,p&=~C}ki(f),(Zt&6)===0&&(lc=Et()+500,dl(0))}}break;case 31:case 13:T=Hr(f,2),T!==null&&Tn(T,f,2),cc(),Id(f,2)}if(f=Dd(o),f===null&&gd(e,n,o,Rc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else gd(e,n,o,null,s)}}function Dd(e){return e=Pn(e),Od(e)}var Rc=null;function Od(e){if(Rc=null,e=Ti(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Rc=e,null}function L_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(be()){case an:return 2;case Zn:return 8;case Jn:case wr:return 32;case Rr:return 268435456;default:return 32}default:return 32}}var Md=!1,Js=null,Ws=null,tr=null,El=new Map,Tl=new Map,er=[],Cb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U_(e,n){switch(e){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":El.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(n.pointerId)}}function bl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Un(n),n!==null&&V_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Ib(e,n,s,o,h){switch(n){case"focusin":return Js=bl(Js,e,n,s,o,h),!0;case"dragenter":return Ws=bl(Ws,e,n,s,o,h),!0;case"mouseover":return tr=bl(tr,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return El.set(f,bl(El.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Tl.set(f,bl(Tl.get(f)||null,e,n,s,o,h)),!0}return!1}function P_(e){var n=Ti(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,ei(e.priority,function(){k_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,ei(e.priority,function(){k_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Dd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);ko=o,s.target.dispatchEvent(o),ko=null}else return n=Un(s),n!==null&&V_(n),e.blockedOn=s,!1;n.shift()}return!0}function j_(e,n,s){xc(e)&&s.delete(n)}function Nb(){Md=!1,Js!==null&&xc(Js)&&(Js=null),Ws!==null&&xc(Ws)&&(Ws=null),tr!==null&&xc(tr)&&(tr=null),El.forEach(j_),Tl.forEach(j_)}function Cc(e,n){e.blockedOn===n&&(e.blockedOn=null,Md||(Md=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Nb)))}var Ic=null;function z_(e){Ic!==e&&(Ic=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ic===e&&(Ic=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Od(o||s)===null)continue;break}var f=Un(s);f!==null&&(e.splice(n,3),n-=3,Df(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Za(e){function n(C){return Cc(C,e)}Js!==null&&Cc(Js,e),Ws!==null&&Cc(Ws,e),tr!==null&&Cc(tr,e),El.forEach(n),Tl.forEach(n);for(var s=0;s<er.length;s++){var o=er[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<er.length&&(s=er[0],s.blockedOn===null);)P_(s),s.blockedOn===null&&er.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],p=h[Qe]||null;if(typeof f=="function")p||z_(s);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Qe]||null)T=p.formAction;else if(Od(h)!==null)continue}else T=p.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),z_(s)}}}function B_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Vd(e){this._internalRoot=e}Nc.prototype.render=Vd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=On();O_(s,o,e,n,null,null)},Nc.prototype.unmount=Vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;O_(e.current,2,null,e,null,null),cc(),n[vi]=null}};function Nc(e){this._internalRoot=e}Nc.prototype.unstable_scheduleHydration=function(e){if(e){var n=cu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<er.length&&n!==0&&n<er[s].priority;s++);er.splice(s,0,e),s===0&&P_(e)}};var H_=t.version;if(H_!=="19.2.3")throw Error(a(527,H_,"19.2.3"));rt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var Db={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{Wn=Dc.inject(Db),$e=Dc}catch{}}return Al.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Xg,f=$g,p=Zg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=N_(e,1,!1,null,null,s,o,null,h,f,p,B_),e[vi]=n.current,pd(e),new Vd(n)},Al.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Xg,p=$g,T=Zg,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=N_(e,1,!0,n,s??null,o,h,C,f,p,T,B_),n.context=D_(null),s=n.current,o=On(),o=Nr(o),h=zs(o),h.callback=null,Bs(s,h,o),s=o,n.current.lanes=s,Cr(n,s),ki(n),e[vi]=n.current,pd(e),new Nc(n)},Al.version="19.2.3",Al}var J_;function Bb(){if(J_)return Ud.exports;J_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ud.exports=zb(),Ud.exports}var Hb=Bb();const qb=()=>{};var W_={};const xv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Gb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Cv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,E=c>>2,w=(c&3)<<4|g>>4;let M=(g&15)<<2|_>>6,q=_&63;y||(q=64,d||(M=64)),a.push(i[E],i[w],i[M],i[q])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(xv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Gb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const w=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||w==null)throw new Fb;const M=c<<2|g>>4;if(a.push(M),_!==64){const q=g<<4&240|_>>2;if(a.push(q),w!==64){const et=_<<6&192|w;a.push(et)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Fb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qb=function(r){const t=xv(r);return Cv.encodeByteArray(t,!0)},Jc=function(r){return Qb(r).replace(/\./g,"")},Iv=function(r){try{return Cv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Kb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Yb=()=>Kb().__FIREBASE_DEFAULTS__,Xb=()=>{if(typeof process>"u"||typeof W_>"u")return;const r=W_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},$b=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Iv(r[1]);return t&&JSON.parse(t)},_h=()=>{try{return qb()||Yb()||Xb()||$b()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Nv=r=>_h()?.emulatorHosts?.[r],Zb=r=>{const t=Nv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Dv=()=>_h()?.config,Ov=r=>_h()?.[`_${r}`];class Jb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function yo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Mv(r){return(await fetch(r,{credentials:"include"})).ok}function Wb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Jc(JSON.stringify(i)),Jc(JSON.stringify(d)),""].join(".")}const Nl={};function tS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Nl))Nl[t]?r.emulator.push(t):r.prod.push(t);return r}function eS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let t0=!1;function Vv(r,t){if(typeof window>"u"||typeof document>"u"||!yo(window.location.host)||Nl[r]===t||Nl[r]||t0)return;Nl[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=tS().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,q){M.setAttribute("width","24"),M.setAttribute("id",q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{t0=!0,d()},M}function E(M,q){M.setAttribute("id",q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=eS(a),q=i("text"),et=document.getElementById(q)||document.createElement("span"),it=i("learnmore"),tt=document.getElementById(it)||document.createElement("a"),lt=i("preprendIcon"),pt=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const mt=M.element;g(mt),E(tt,it);const Ft=_();y(pt,lt),mt.append(pt,et,tt,Ft),document.body.appendChild(mt)}c?(et.innerText="Preview backend disconnected.",pt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,et.innerText="Preview backend running in this workspace."),et.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function iS(){const r=_h()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function aS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oS(){const r=hn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function lS(){return!iS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uS(){try{return typeof indexedDB=="object"}catch{return!1}}function cS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const hS="FirebaseError";class bs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=hS,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ql.prototype.create)}}class Ql{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?fS(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new bs(l,g,a)}}function fS(r,t){return r.replace(dS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const dS=/\{\$([^}]+)}/g;function mS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function pr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(e0(c)&&e0(d)){if(!pr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function e0(r){return r!==null&&typeof r=="object"}function Kl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function pS(r,t){const i=new gS(r,t);return i.subscribe.bind(i)}class gS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");yS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Bd),l.error===void 0&&(l.error=Bd),l.complete===void 0&&(l.complete=Bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Bd(){}function mn(r){return r&&r._delegate?r._delegate:r}class sa{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ea="[DEFAULT]";class _S{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Jb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ES(t))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=ea){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ea){return this.instances.has(t)}getOptions(t=ea){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:vS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=ea){return this.component?this.component.multipleInstances?t:ea:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vS(r){return r===ea?void 0:r}function ES(r){return r.instantiationMode==="EAGER"}class TS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new _S(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const bS={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},SS=Pt.INFO,AS={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},wS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=AS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Mm{constructor(t){this.name=t,this._logLevel=SS,this._logHandler=wS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?bS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const RS=(r,t)=>t.some(i=>r instanceof i);let n0,i0;function xS(){return n0||(n0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CS(){return i0||(i0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kv=new WeakMap,sm=new WeakMap,Lv=new WeakMap,Hd=new WeakMap,Vm=new WeakMap;function IS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(cr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&kv.set(i,r)}).catch(()=>{}),Vm.set(t,r),t}function NS(r){if(sm.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});sm.set(r,t)}let rm={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return sm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Lv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return cr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function DS(r){rm=r(rm)}function OS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(qd(this),t,...i);return Lv.set(a,t.sort?t.sort():[t]),cr(a)}:CS().includes(r)?function(...t){return r.apply(qd(this),t),cr(kv.get(this))}:function(...t){return cr(r.apply(qd(this),t))}}function MS(r){return typeof r=="function"?OS(r):(r instanceof IDBTransaction&&NS(r),RS(r,xS())?new Proxy(r,rm):r)}function cr(r){if(r instanceof IDBRequest)return IS(r);if(Hd.has(r))return Hd.get(r);const t=MS(r);return t!==r&&(Hd.set(r,t),Vm.set(t,r)),t}const qd=r=>Vm.get(r);function VS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=cr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(cr(d.result),y.oldVersion,y.newVersion,cr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const kS=["get","getKey","getAll","getAllKeys","count"],LS=["put","add","delete","clear"],Gd=new Map;function s0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Gd.get(t))return Gd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=LS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||kS.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&y.done]))[0]};return Gd.set(t,c),c}DS(r=>({...r,get:(t,i,a)=>s0(t,i)||r.get(t,i,a),has:(t,i)=>!!s0(t,i)||r.has(t,i)}));class US{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(PS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function PS(r){return r.getComponent()?.type==="VERSION"}const am="@firebase/app",r0="0.14.6";const gs=new Mm("@firebase/app"),jS="@firebase/app-compat",zS="@firebase/analytics-compat",BS="@firebase/analytics",HS="@firebase/app-check-compat",qS="@firebase/app-check",GS="@firebase/auth",FS="@firebase/auth-compat",QS="@firebase/database",KS="@firebase/data-connect",YS="@firebase/database-compat",XS="@firebase/functions",$S="@firebase/functions-compat",ZS="@firebase/installations",JS="@firebase/installations-compat",WS="@firebase/messaging",tA="@firebase/messaging-compat",eA="@firebase/performance",nA="@firebase/performance-compat",iA="@firebase/remote-config",sA="@firebase/remote-config-compat",rA="@firebase/storage",aA="@firebase/storage-compat",oA="@firebase/firestore",lA="@firebase/ai",uA="@firebase/firestore-compat",cA="firebase",hA="12.6.0";const om="[DEFAULT]",fA={[am]:"fire-core",[jS]:"fire-core-compat",[BS]:"fire-analytics",[zS]:"fire-analytics-compat",[qS]:"fire-app-check",[HS]:"fire-app-check-compat",[GS]:"fire-auth",[FS]:"fire-auth-compat",[QS]:"fire-rtdb",[KS]:"fire-data-connect",[YS]:"fire-rtdb-compat",[XS]:"fire-fn",[$S]:"fire-fn-compat",[ZS]:"fire-iid",[JS]:"fire-iid-compat",[WS]:"fire-fcm",[tA]:"fire-fcm-compat",[eA]:"fire-perf",[nA]:"fire-perf-compat",[iA]:"fire-rc",[sA]:"fire-rc-compat",[rA]:"fire-gcs",[aA]:"fire-gcs-compat",[oA]:"fire-fst",[uA]:"fire-fst-compat",[lA]:"fire-vertex","fire-js":"fire-js",[cA]:"fire-js-all"};const Wc=new Map,dA=new Map,lm=new Map;function a0(r,t){try{r.container.addComponent(t)}catch(i){gs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function lo(r){const t=r.name;if(lm.has(t))return gs.debug(`There were multiple attempts to register component ${t}.`),!1;lm.set(t,r);for(const i of Wc.values())a0(i,r);for(const i of dA.values())a0(i,r);return!0}function km(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Xn(r){return r==null?!1:r.settings!==void 0}const mA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new Ql("app","Firebase",mA);class pA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}const _o=hA;function Uv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:om,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw hr.create("bad-app-name",{appName:String(l)});if(i||(i=Dv()),!i)throw hr.create("no-options");const c=Wc.get(l);if(c){if(pr(i,c.options)&&pr(a,c.config))return c;throw hr.create("duplicate-app",{appName:l})}const d=new TS(l);for(const y of lm.values())d.addComponent(y);const g=new pA(i,a,d);return Wc.set(l,g),g}function Pv(r=om){const t=Wc.get(r);if(!t&&r===om&&Dv())return Uv();if(!t)throw hr.create("no-app",{appName:r});return t}function fr(r,t,i){let a=fA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),gs.warn(d.join(" "));return}lo(new sa(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const gA="firebase-heartbeat-database",yA=1,Ul="firebase-heartbeat-store";let Fd=null;function jv(){return Fd||(Fd=VS(gA,yA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ul)}catch(i){console.warn(i)}}}}).catch(r=>{throw hr.create("idb-open",{originalErrorMessage:r.message})})),Fd}async function _A(r){try{const i=(await jv()).transaction(Ul),a=await i.objectStore(Ul).get(zv(r));return await i.done,a}catch(t){if(t instanceof bs)gs.warn(t.message);else{const i=hr.create("idb-get",{originalErrorMessage:t?.message});gs.warn(i.message)}}}async function o0(r,t){try{const a=(await jv()).transaction(Ul,"readwrite");await a.objectStore(Ul).put(t,zv(r)),await a.done}catch(i){if(i instanceof bs)gs.warn(i.message);else{const a=hr.create("idb-set",{originalErrorMessage:i?.message});gs.warn(a.message)}}}function zv(r){return`${r.name}!${r.options.appId}`}const vA=1024,EA=30;class TA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new SA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=l0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>EA){const l=AA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){gs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=l0(),{heartbeatsToSend:i,unsentEntries:a}=bA(this._heartbeatsCache.heartbeats),l=Jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return gs.warn(t),""}}}function l0(){return new Date().toISOString().substring(0,10)}function bA(r,t=vA){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),u0(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),u0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class SA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uS()?cS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await _A(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return o0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return o0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function u0(r){return Jc(JSON.stringify({version:2,heartbeats:r})).length}function AA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function wA(r){lo(new sa("platform-logger",t=>new US(t),"PRIVATE")),lo(new sa("heartbeat",t=>new TA(t),"PRIVATE")),fr(am,r0,r),fr(am,r0,"esm2020"),fr("fire-js","")}wA("");var RA="firebase",xA="12.7.0";fr(RA,xA,"app");function Bv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CA=Bv,Hv=new Ql("auth","Firebase",Bv());const th=new Mm("@firebase/auth");function IA(r,...t){th.logLevel<=Pt.WARN&&th.warn(`Auth (${_o}): ${r}`,...t)}function Bc(r,...t){th.logLevel<=Pt.ERROR&&th.error(`Auth (${_o}): ${r}`,...t)}function ys(r,...t){throw Lm(r,...t)}function Ui(r,...t){return Lm(r,...t)}function qv(r,t,i){const a={...CA(),[t]:i};return new Ql("auth","Firebase",a).create(t,{appName:r.name})}function ps(r){return qv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Hv.create(r,...t)}function St(r,t,...i){if(!r)throw Lm(t,...i)}function ds(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Bc(t),new Error(t)}function _s(r,t){r||ds(t)}function um(){return typeof self<"u"&&self.location?.href||""}function NA(){return c0()==="http:"||c0()==="https:"}function c0(){return typeof self<"u"&&self.location?.protocol||null}function DA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NA()||rS()||"connection"in navigator)?navigator.onLine:!0}function OA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Yl{constructor(t,i){this.shortDelay=t,this.longDelay=i,_s(i>t,"Short delay should be less than long delay!"),this.isMobile=nS()||aS()}get(){return DA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Um(r,t){_s(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Gv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const MA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const VA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kA=new Yl(3e4,6e4);function Xl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function vo(r,t,i,a,l={}){return Fv(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Kl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return sS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&yo(r.emulatorConfig.host)&&(_.credentials="include"),Gv.fetch()(await Qv(r,r.config.apiHost,i,g),_)})}async function Fv(r,t,i){r._canInitEmulator=!1;const a={...MA,...t};try{const l=new LA(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Oc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Oc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Oc(r,"user-disabled",d);const E=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw qv(r,E,_);ys(r,E)}}catch(l){if(l instanceof bs)throw l;ys(r,"network-request-failed",{message:String(l)})}}async function Pm(r,t,i,a,l={}){const c=await vo(r,t,i,a,l);return"mfaPendingCredential"in c&&ys(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Qv(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Um(r.config,l):`${r.config.apiScheme}://${l}`;return VA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class LA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ui(this.auth,"network-request-failed")),kA.get())})}}function Oc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ui(r,t,a);return l.customData._tokenResponse=i,l}async function UA(r,t){return vo(r,"POST","/v1/accounts:delete",t)}async function eh(r,t){return vo(r,"POST","/v1/accounts:lookup",t)}function Dl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function PA(r,t=!1){const i=mn(r),a=await i.getIdToken(t),l=jm(a);St(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Dl(Qd(l.auth_time)),issuedAtTime:Dl(Qd(l.iat)),expirationTime:Dl(Qd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Qd(r){return Number(r)*1e3}function jm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Iv(i);return l?JSON.parse(l):(Bc("Failed to decode base64 JWT payload"),null)}catch(l){return Bc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function h0(r){const t=jm(r);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Pl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof bs&&jA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function jA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class zA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class cm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nh(r){const t=r.auth,i=await r.getIdToken(),a=await Pl(r,eh(t,{idToken:i}));St(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?Kv(l.providerUserInfo):[],d=HA(r.providerData,c),g=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=g?y:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new cm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,E)}async function BA(r){const t=mn(r);await nh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function HA(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Kv(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function qA(r,t){const i=await Fv(r,{},async()=>{const a=Kl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await Qv(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:a};return r.emulatorConfig&&yo(r.emulatorConfig.host)&&(y.credentials="include"),Gv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function GA(r,t){return vo(r,"POST","/v2/accounts:revokeToken",Xl(r,t))}class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):h0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){St(t.length!==0,"internal-error");const i=h0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await qA(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new io;return a&&(St(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(St(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(St(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return ds("not implemented")}}function ir(r,t){St(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class hi{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new zA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new cm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Pl(this,this.stsTokenManager.getToken(this.auth,t));return St(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return PA(this,t)}reload(){return BA(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new hi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await nh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(ps(this.auth));const t=await this.getIdToken();return await Pl(this,UA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:q,providerData:et,stsTokenManager:it}=i;St(w&&it,t,"internal-error");const tt=io.fromJSON(this.name,it);St(typeof w=="string",t,"internal-error"),ir(a,t.name),ir(l,t.name),St(typeof M=="boolean",t,"internal-error"),St(typeof q=="boolean",t,"internal-error"),ir(c,t.name),ir(d,t.name),ir(g,t.name),ir(y,t.name),ir(_,t.name),ir(E,t.name);const lt=new hi({uid:w,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:tt,createdAt:_,lastLoginAt:E});return et&&Array.isArray(et)&&(lt.providerData=et.map(pt=>({...pt}))),y&&(lt._redirectEventId=y),lt}static async _fromIdTokenResponse(t,i,a=!1){const l=new io;l.updateFromServerResponse(i);const c=new hi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await nh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];St(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Kv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new io;g.updateFromIdToken(a);const y=new hi({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new cm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const f0=new Map;function ms(r){_s(r instanceof Function,"Expected a class definition");let t=f0.get(r);return t?(_s(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,f0.set(r,t),t)}class Yv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Yv.type="NONE";const d0=Yv;function Hc(r,t,i){return`firebase:${r}:${t}:${i}`}class so{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Hc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Hc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await eh(this.auth,{idToken:t}).catch(()=>{});return i?hi._fromGetAccountInfoResponse(this.auth,i,t):null}return hi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new so(ms(d0),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ms(d0);const d=Hc(a,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const E=await _._get(d);if(E){let w;if(typeof E=="string"){const M=await eh(t,{idToken:E}).catch(()=>{});if(!M)break;w=await hi._fromGetAccountInfoResponse(t,M,E)}else w=hi._fromJSON(t,E);_!==c&&(g=w),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new so(c,t,a):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new so(c,t,a))}}function m0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Jv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Xv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(t1(t))return"Blackberry";if(e1(t))return"Webos";if($v(t))return"Safari";if((t.includes("chrome/")||Zv(t))&&!t.includes("edge/"))return"Chrome";if(Wv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Xv(r=hn()){return/firefox\//i.test(r)}function $v(r=hn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Zv(r=hn()){return/crios\//i.test(r)}function Jv(r=hn()){return/iemobile/i.test(r)}function Wv(r=hn()){return/android/i.test(r)}function t1(r=hn()){return/blackberry/i.test(r)}function e1(r=hn()){return/webos/i.test(r)}function zm(r=hn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function FA(r=hn()){return zm(r)&&!!window.navigator?.standalone}function QA(){return oS()&&document.documentMode===10}function n1(r=hn()){return zm(r)||Wv(r)||e1(r)||t1(r)||/windows phone/i.test(r)||Jv(r)}function i1(r,t=[]){let i;switch(r){case"Browser":i=m0(hn());break;case"Worker":i=`${m0(hn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${_o}/${a}`}class KA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const y=t(c);d(y)}catch(y){g(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function YA(r,t={}){return vo(r,"GET","/v2/passwordPolicy",Xl(r,t))}const XA=6;class $A{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??XA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class ZA{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p0(this),this.idTokenSubscription=new p0(this),this.beforeStateQueue=new KA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ms(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await so.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await eh(this,{idToken:t}),a=await hi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await nh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=OA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(ps(this));const i=t?mn(t):null;return i&&St(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ms(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await YA(this),i=new $A(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ql("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await GA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ms(t)||this._popupRedirectResolver;St(i,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[ms(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=i1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&IA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function $l(r){return mn(r)}class p0{constructor(t){this.auth=t,this.observer=null,this.addObserver=pS(i=>this.observer=i)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JA(r){Bm=r}function WA(r){return Bm.loadJS(r)}function t2(){return Bm.gapiScript}function e2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function n2(r,t){const i=km(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(pr(c,t??{}))return l;ys(l,"already-initialized")}return i.initialize({options:t})}function i2(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ms);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function s2(r,t,i){const a=$l(r);St(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=s1(t),{host:d,port:g}=r2(t),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},E=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){St(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),St(pr(_,a.config.emulator)&&pr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,yo(d)?(Mv(`${c}//${d}${y}`),Vv("Auth",!0)):a2()}function s1(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function r2(r){const t=s1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:g0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:g0(d)}}}function g0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function a2(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class r1{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ds("not implemented")}_getIdTokenResponse(t){return ds("not implemented")}_linkToIdToken(t,i){return ds("not implemented")}_getReauthenticationResolver(t){return ds("not implemented")}}async function ro(r,t){return Pm(r,"POST","/v1/accounts:signInWithIdp",Xl(r,t))}const o2="http://localhost";class ra extends r1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ra(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ys("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ra(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return ro(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,ro(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ro(t,i)}buildRequest(){const t={requestUri:o2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Kl(i)}return t}}class a1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Zl extends a1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class sr extends Zl{constructor(){super("facebook.com")}static credential(t){return ra._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return sr.credential(t.oauthAccessToken)}catch{return null}}}sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";sr.PROVIDER_ID="facebook.com";class rr extends Zl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ra._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return rr.credential(i,a)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";class ar extends Zl{constructor(){super("github.com")}static credential(t){return ra._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ar.credential(t.oauthAccessToken)}catch{return null}}}ar.GITHUB_SIGN_IN_METHOD="github.com";ar.PROVIDER_ID="github.com";class or extends Zl{constructor(){super("twitter.com")}static credential(t,i){return ra._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return or.credentialFromTaggedObject(t)}static credentialFromError(t){return or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return or.credential(i,a)}catch{return null}}}or.TWITTER_SIGN_IN_METHOD="twitter.com";or.PROVIDER_ID="twitter.com";async function l2(r,t){return Pm(r,"POST","/v1/accounts:signUp",Xl(r,t))}class vs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await hi._fromIdTokenResponse(t,a,l),d=y0(a);return new vs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=y0(a);return new vs({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function y0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function u2(r){if(Xn(r.app))return Promise.reject(ps(r));const t=$l(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new vs({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await l2(t,{returnSecureToken:!0}),a=await vs._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class ih extends bs{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new ih(t,i,a,l)}}function o1(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(r,c,t,a):c})}async function c2(r,t,i=!1){const a=await Pl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return vs._forOperation(r,"link",a)}async function h2(r,t,i=!1){const{auth:a}=r;if(Xn(a.app))return Promise.reject(ps(a));const l="reauthenticate";try{const c=await Pl(r,o1(a,l,t,r),i);St(c.idToken,a,"internal-error");const d=jm(c.idToken);St(d,a,"internal-error");const{sub:g}=d;return St(r.uid===g,a,"user-mismatch"),vs._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ys(a,"user-mismatch"),c}}async function f2(r,t,i=!1){if(Xn(r.app))return Promise.reject(ps(r));const a="signIn",l=await o1(r,a,t),c=await vs._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function d2(r,t){return Pm(r,"POST","/v1/accounts:signInWithCustomToken",Xl(r,t))}async function m2(r,t){if(Xn(r.app))return Promise.reject(ps(r));const i=$l(r),a=await d2(i,{token:t,returnSecureToken:!0}),l=await vs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function p2(r,t,i,a){return mn(r).onIdTokenChanged(t,i,a)}function g2(r,t,i){return mn(r).beforeAuthStateChanged(t,i)}function y2(r,t,i,a){return mn(r).onAuthStateChanged(t,i,a)}const sh="__sak";class l1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const _2=1e3,v2=10;class u1 extends l1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=n1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);QA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,v2):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},_2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}u1.type="LOCAL";const E2=u1;class c1 extends l1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}c1.type="SESSION";const h1=c1;function T2(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class vh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new vh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await T2(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vh.receivers=[];function Hm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class b2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=Hm("",20);l.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const M=w;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Pi(){return window}function S2(r){Pi().location.href=r}function f1(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function A2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w2(){return navigator?.serviceWorker?.controller||null}function R2(){return f1()?self:null}const d1="firebaseLocalStorageDb",x2=1,rh="firebaseLocalStorage",m1="fbase_key";class Jl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Eh(r,t){return r.transaction([rh],t?"readwrite":"readonly").objectStore(rh)}function C2(){const r=indexedDB.deleteDatabase(d1);return new Jl(r).toPromise()}function hm(){const r=indexedDB.open(d1,x2);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(rh,{keyPath:m1})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(rh)?t(a):(a.close(),await C2(),t(await hm()))})})}async function _0(r,t,i){const a=Eh(r,!0).put({[m1]:t,value:i});return new Jl(a).toPromise()}async function I2(r,t){const i=Eh(r,!1).get(t),a=await new Jl(i).toPromise();return a===void 0?null:a.value}function v0(r,t){const i=Eh(r,!0).delete(t);return new Jl(i).toPromise()}const N2=800,D2=3;class p1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>D2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return f1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vh._getInstance(R2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await A2(),!this.activeServiceWorker)return;this.sender=new b2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||w2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await hm();return await _0(t,sh,"1"),await v0(t,sh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>_0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>I2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>v0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Eh(l,!1).getAll();return new Jl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),N2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}p1.type="LOCAL";const O2=p1;new Yl(3e4,6e4);function M2(r,t){return t?ms(t):(St(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class qm extends r1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ro(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ro(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ro(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function V2(r){return f2(r.auth,new qm(r),r.bypassAuthState)}function k2(r){const{auth:t,user:i}=r;return St(i,t,"internal-error"),h2(i,new qm(r),r.bypassAuthState)}async function L2(r){const{auth:t,user:i}=r;return St(i,t,"internal-error"),c2(i,new qm(r),r.bypassAuthState)}class g1{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return V2;case"linkViaPopup":case"linkViaRedirect":return L2;case"reauthViaPopup":case"reauthViaRedirect":return k2;default:ys(this.auth,"internal-error")}}resolve(t){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const U2=new Yl(2e3,1e4);class no extends g1{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const t=Hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,U2.get())};t()}}no.currentPopupAction=null;const P2="pendingRedirect",qc=new Map;class j2 extends g1{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=qc.get(this.auth._key());if(!t){try{const a=await z2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}qc.set(this.auth._key(),t)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function z2(r,t){const i=q2(t),a=H2(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function B2(r,t){qc.set(r._key(),t)}function H2(r){return ms(r._redirectPersistence)}function q2(r){return Hc(P2,r.config.apiKey,r.name)}async function G2(r,t,i=!1){if(Xn(r.app))return Promise.reject(ps(r));const a=$l(r),l=M2(a,t),d=await new j2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const F2=600*1e3;class Q2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!K2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!y1(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ui(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=F2&&this.cachedEventUids.clear(),this.cachedEventUids.has(E0(t))}saveEventToCache(t){this.cachedEventUids.add(E0(t)),this.lastProcessedEventTime=Date.now()}}function E0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function y1({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function K2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return y1(r);default:return!1}}async function Y2(r,t={}){return vo(r,"GET","/v1/projects",t)}const X2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$2=/^https?/;async function Z2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Y2(r);for(const i of t)try{if(J2(i))return}catch{}ys(r,"unauthorized-domain")}function J2(r){const t=um(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!$2.test(i))return!1;if(X2.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const W2=new Yl(3e4,6e4);function T0(){const r=Pi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function tw(r){return new Promise((t,i)=>{function a(){T0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{T0(),i(Ui(r,"network-request-failed"))},timeout:W2.get()})}if(Pi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Pi().gapi?.load)a();else{const l=e2("iframefcb");return Pi()[l]=()=>{gapi.load?a():i(Ui(r,"network-request-failed"))},WA(`${t2()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Gc=null,t})}let Gc=null;function ew(r){return Gc=Gc||tw(r),Gc}const nw=new Yl(5e3,15e3),iw="__/auth/iframe",sw="emulator/auth/iframe",rw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ow(r){const t=r.config;St(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Um(t,sw):`https://${r.config.authDomain}/${iw}`,a={apiKey:t.apiKey,appName:r.name,v:_o},l=aw.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Kl(a).slice(1)}`}async function lw(r){const t=await ew(r),i=Pi().gapi;return St(i,r,"internal-error"),t.open({where:document.body,url:ow(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ui(r,"network-request-failed"),g=Pi().setTimeout(()=>{c(d)},nw.get());function y(){Pi().clearTimeout(g),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const uw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cw=500,hw=600,fw="_blank",dw="http://localhost";class b0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mw(r,t,i,a=cw,l=hw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y={...uw,width:a.toString(),height:l.toString(),top:c,left:d},_=hn().toLowerCase();i&&(g=Zv(_)?fw:i),Xv(_)&&(t=t||dw,y.scrollbars="yes");const E=Object.entries(y).reduce((M,[q,et])=>`${M}${q}=${et},`,"");if(FA(_)&&g!=="_self")return pw(t||"",g),new b0(null);const w=window.open(t||"",g,E);St(w,r,"popup-blocked");try{w.focus()}catch{}return new b0(w)}function pw(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const gw="__/auth/handler",yw="emulator/auth/handler",_w=encodeURIComponent("fac");async function S0(r,t,i,a,l,c){St(r.config.authDomain,r,"auth-domain-config-required"),St(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:_o,eventId:l};if(t instanceof a1){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",mS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,w]of Object.entries({}))d[E]=w}if(t instanceof Zl){const E=t.getScopes().filter(w=>w!=="");E.length>0&&(d.scopes=E.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const y=await r._getAppCheckToken(),_=y?`#${_w}=${encodeURIComponent(y)}`:"";return`${vw(r)}?${Kl(g).slice(1)}${_}`}function vw({config:r}){return r.emulator?Um(r,yw):`https://${r.authDomain}/${gw}`}const Kd="webStorageSupport";class Ew{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=h1,this._completeRedirectFn=G2,this._overrideRedirectResult=B2}async _openPopup(t,i,a,l){_s(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await S0(t,i,a,um(),l);return mw(t,c,Hm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await S0(t,i,a,um(),l);return S2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(_s(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await lw(t),a=new Q2(t);return i.register("authEvent",l=>(St(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Kd,{type:Kd},l=>{const c=l?.[0]?.[Kd];c!==void 0&&i(!!c),ys(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Z2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return n1()||$v()||zm()}}const Tw=Ew;var A0="@firebase/auth",w0="1.12.0";class bw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Sw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Aw(r){lo(new sa("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;St(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:i1(r)},_=new ZA(a,l,c,y);return i2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),lo(new sa("auth-internal",t=>{const i=$l(t.getProvider("auth").getImmediate());return(a=>new bw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(A0,w0,Sw(r)),fr(A0,w0,"esm2020")}const ww=300,Rw=Ov("authIdTokenMaxAge")||ww;let R0=null;const xw=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Rw)return;const l=i?.token;R0!==l&&(R0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Cw(r=Pv()){const t=km(r,"auth");if(t.isInitialized())return t.getImmediate();const i=n2(r,{popupRedirectResolver:Tw,persistence:[O2,E2,h1]}),a=Ov("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=xw(c.toString());g2(i,d,()=>d(i.currentUser)),p2(i,g=>d(g))}}const l=Nv("auth");return l&&s2(i,`http://${l}`),i}function Iw(){return document.getElementsByTagName("head")?.[0]??document}JA({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Ui("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",Iw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Aw("Browser");var x0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dr,_1;(function(){var r;function t(I,A){function x(){}x.prototype=A.prototype,I.F=A.prototype,I.prototype=new x,I.prototype.constructor=I,I.D=function(V,N,L){for(var R=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)R[ue-2]=arguments[ue];return A.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,A,x){x||(x=0);const V=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)V[N]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(N=0;N<16;++N)V[N]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=I.g[0],x=I.g[1],N=I.g[2];let L=I.g[3],R;R=A+(L^x&(N^L))+V[0]+3614090360&4294967295,A=x+(R<<7&4294967295|R>>>25),R=L+(N^A&(x^N))+V[1]+3905402710&4294967295,L=A+(R<<12&4294967295|R>>>20),R=N+(x^L&(A^x))+V[2]+606105819&4294967295,N=L+(R<<17&4294967295|R>>>15),R=x+(A^N&(L^A))+V[3]+3250441966&4294967295,x=N+(R<<22&4294967295|R>>>10),R=A+(L^x&(N^L))+V[4]+4118548399&4294967295,A=x+(R<<7&4294967295|R>>>25),R=L+(N^A&(x^N))+V[5]+1200080426&4294967295,L=A+(R<<12&4294967295|R>>>20),R=N+(x^L&(A^x))+V[6]+2821735955&4294967295,N=L+(R<<17&4294967295|R>>>15),R=x+(A^N&(L^A))+V[7]+4249261313&4294967295,x=N+(R<<22&4294967295|R>>>10),R=A+(L^x&(N^L))+V[8]+1770035416&4294967295,A=x+(R<<7&4294967295|R>>>25),R=L+(N^A&(x^N))+V[9]+2336552879&4294967295,L=A+(R<<12&4294967295|R>>>20),R=N+(x^L&(A^x))+V[10]+4294925233&4294967295,N=L+(R<<17&4294967295|R>>>15),R=x+(A^N&(L^A))+V[11]+2304563134&4294967295,x=N+(R<<22&4294967295|R>>>10),R=A+(L^x&(N^L))+V[12]+1804603682&4294967295,A=x+(R<<7&4294967295|R>>>25),R=L+(N^A&(x^N))+V[13]+4254626195&4294967295,L=A+(R<<12&4294967295|R>>>20),R=N+(x^L&(A^x))+V[14]+2792965006&4294967295,N=L+(R<<17&4294967295|R>>>15),R=x+(A^N&(L^A))+V[15]+1236535329&4294967295,x=N+(R<<22&4294967295|R>>>10),R=A+(N^L&(x^N))+V[1]+4129170786&4294967295,A=x+(R<<5&4294967295|R>>>27),R=L+(x^N&(A^x))+V[6]+3225465664&4294967295,L=A+(R<<9&4294967295|R>>>23),R=N+(A^x&(L^A))+V[11]+643717713&4294967295,N=L+(R<<14&4294967295|R>>>18),R=x+(L^A&(N^L))+V[0]+3921069994&4294967295,x=N+(R<<20&4294967295|R>>>12),R=A+(N^L&(x^N))+V[5]+3593408605&4294967295,A=x+(R<<5&4294967295|R>>>27),R=L+(x^N&(A^x))+V[10]+38016083&4294967295,L=A+(R<<9&4294967295|R>>>23),R=N+(A^x&(L^A))+V[15]+3634488961&4294967295,N=L+(R<<14&4294967295|R>>>18),R=x+(L^A&(N^L))+V[4]+3889429448&4294967295,x=N+(R<<20&4294967295|R>>>12),R=A+(N^L&(x^N))+V[9]+568446438&4294967295,A=x+(R<<5&4294967295|R>>>27),R=L+(x^N&(A^x))+V[14]+3275163606&4294967295,L=A+(R<<9&4294967295|R>>>23),R=N+(A^x&(L^A))+V[3]+4107603335&4294967295,N=L+(R<<14&4294967295|R>>>18),R=x+(L^A&(N^L))+V[8]+1163531501&4294967295,x=N+(R<<20&4294967295|R>>>12),R=A+(N^L&(x^N))+V[13]+2850285829&4294967295,A=x+(R<<5&4294967295|R>>>27),R=L+(x^N&(A^x))+V[2]+4243563512&4294967295,L=A+(R<<9&4294967295|R>>>23),R=N+(A^x&(L^A))+V[7]+1735328473&4294967295,N=L+(R<<14&4294967295|R>>>18),R=x+(L^A&(N^L))+V[12]+2368359562&4294967295,x=N+(R<<20&4294967295|R>>>12),R=A+(x^N^L)+V[5]+4294588738&4294967295,A=x+(R<<4&4294967295|R>>>28),R=L+(A^x^N)+V[8]+2272392833&4294967295,L=A+(R<<11&4294967295|R>>>21),R=N+(L^A^x)+V[11]+1839030562&4294967295,N=L+(R<<16&4294967295|R>>>16),R=x+(N^L^A)+V[14]+4259657740&4294967295,x=N+(R<<23&4294967295|R>>>9),R=A+(x^N^L)+V[1]+2763975236&4294967295,A=x+(R<<4&4294967295|R>>>28),R=L+(A^x^N)+V[4]+1272893353&4294967295,L=A+(R<<11&4294967295|R>>>21),R=N+(L^A^x)+V[7]+4139469664&4294967295,N=L+(R<<16&4294967295|R>>>16),R=x+(N^L^A)+V[10]+3200236656&4294967295,x=N+(R<<23&4294967295|R>>>9),R=A+(x^N^L)+V[13]+681279174&4294967295,A=x+(R<<4&4294967295|R>>>28),R=L+(A^x^N)+V[0]+3936430074&4294967295,L=A+(R<<11&4294967295|R>>>21),R=N+(L^A^x)+V[3]+3572445317&4294967295,N=L+(R<<16&4294967295|R>>>16),R=x+(N^L^A)+V[6]+76029189&4294967295,x=N+(R<<23&4294967295|R>>>9),R=A+(x^N^L)+V[9]+3654602809&4294967295,A=x+(R<<4&4294967295|R>>>28),R=L+(A^x^N)+V[12]+3873151461&4294967295,L=A+(R<<11&4294967295|R>>>21),R=N+(L^A^x)+V[15]+530742520&4294967295,N=L+(R<<16&4294967295|R>>>16),R=x+(N^L^A)+V[2]+3299628645&4294967295,x=N+(R<<23&4294967295|R>>>9),R=A+(N^(x|~L))+V[0]+4096336452&4294967295,A=x+(R<<6&4294967295|R>>>26),R=L+(x^(A|~N))+V[7]+1126891415&4294967295,L=A+(R<<10&4294967295|R>>>22),R=N+(A^(L|~x))+V[14]+2878612391&4294967295,N=L+(R<<15&4294967295|R>>>17),R=x+(L^(N|~A))+V[5]+4237533241&4294967295,x=N+(R<<21&4294967295|R>>>11),R=A+(N^(x|~L))+V[12]+1700485571&4294967295,A=x+(R<<6&4294967295|R>>>26),R=L+(x^(A|~N))+V[3]+2399980690&4294967295,L=A+(R<<10&4294967295|R>>>22),R=N+(A^(L|~x))+V[10]+4293915773&4294967295,N=L+(R<<15&4294967295|R>>>17),R=x+(L^(N|~A))+V[1]+2240044497&4294967295,x=N+(R<<21&4294967295|R>>>11),R=A+(N^(x|~L))+V[8]+1873313359&4294967295,A=x+(R<<6&4294967295|R>>>26),R=L+(x^(A|~N))+V[15]+4264355552&4294967295,L=A+(R<<10&4294967295|R>>>22),R=N+(A^(L|~x))+V[6]+2734768916&4294967295,N=L+(R<<15&4294967295|R>>>17),R=x+(L^(N|~A))+V[13]+1309151649&4294967295,x=N+(R<<21&4294967295|R>>>11),R=A+(N^(x|~L))+V[4]+4149444226&4294967295,A=x+(R<<6&4294967295|R>>>26),R=L+(x^(A|~N))+V[11]+3174756917&4294967295,L=A+(R<<10&4294967295|R>>>22),R=N+(A^(L|~x))+V[2]+718787259&4294967295,N=L+(R<<15&4294967295|R>>>17),R=x+(L^(N|~A))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+L&4294967295}a.prototype.v=function(I,A){A===void 0&&(A=I.length);const x=A-this.blockSize,V=this.C;let N=this.h,L=0;for(;L<A;){if(N==0)for(;L<=x;)l(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<A;)if(V[N++]=I.charCodeAt(L++),N==this.blockSize){l(this,V),N=0;break}}else for(;L<A;)if(V[N++]=I[L++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var x=I.length-8;x<I.length;++x)I[x]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,x=0;x<4;++x)for(let V=0;V<32;V+=8)I[A++]=this.g[x]>>>V&255;return I};function c(I,A){var x=g;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=A(I)}function d(I,A){this.h=A;const x=[];let V=!0;for(let N=I.length-1;N>=0;N--){const L=I[N]|0;V&&L==A||(x[N]=L,V=!1)}this.g=x}var g={};function y(I){return-128<=I&&I<128?c(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return w;if(I<0)return tt(_(-I));const A=[];let x=1;for(let V=0;I>=x;V++)A[V]=I/x|0,x*=4294967296;return new d(A,0)}function E(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return tt(E(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=_(Math.pow(A,8));let V=w;for(let L=0;L<I.length;L+=8){var N=Math.min(8,I.length-L);const R=parseInt(I.substring(L,L+N),A);N<8?(N=_(Math.pow(A,N)),V=V.j(N).add(_(R))):(V=V.j(x),V=V.add(_(R)))}return V}var w=y(0),M=y(1),q=y(16777216);r=d.prototype,r.m=function(){if(it(this))return-tt(this).m();let I=0,A=1;for(let x=0;x<this.g.length;x++){const V=this.i(x);I+=(V>=0?V:4294967296+V)*A,A*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(et(this))return"0";if(it(this))return"-"+tt(this).toString(I);const A=_(Math.pow(I,6));var x=this;let V="";for(;;){const N=Ft(x,A).g;x=lt(x,N.j(A));let L=((x.g.length>0?x.g[0]:x.h)>>>0).toString(I);if(x=N,et(x))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function et(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function it(I){return I.h==-1}r.l=function(I){return I=lt(this,I),it(I)?-1:et(I)?0:1};function tt(I){const A=I.g.length,x=[];for(let V=0;V<A;V++)x[V]=~I.g[V];return new d(x,~I.h).add(M)}r.abs=function(){return it(this)?tt(this):this},r.add=function(I){const A=Math.max(this.g.length,I.g.length),x=[];let V=0;for(let N=0;N<=A;N++){let L=V+(this.i(N)&65535)+(I.i(N)&65535),R=(L>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=R>>>16,L&=65535,R&=65535,x[N]=R<<16|L}return new d(x,x[x.length-1]&-2147483648?-1:0)};function lt(I,A){return I.add(tt(A))}r.j=function(I){if(et(this)||et(I))return w;if(it(this))return it(I)?tt(this).j(tt(I)):tt(tt(this).j(I));if(it(I))return tt(this.j(tt(I)));if(this.l(q)<0&&I.l(q)<0)return _(this.m()*I.m());const A=this.g.length+I.g.length,x=[];for(var V=0;V<2*A;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const L=this.i(V)>>>16,R=this.i(V)&65535,ue=I.i(N)>>>16,ge=I.i(N)&65535;x[2*V+2*N]+=R*ge,pt(x,2*V+2*N),x[2*V+2*N+1]+=L*ge,pt(x,2*V+2*N+1),x[2*V+2*N+1]+=R*ue,pt(x,2*V+2*N+1),x[2*V+2*N+2]+=L*ue,pt(x,2*V+2*N+2)}for(I=0;I<A;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=A;I<2*A;I++)x[I]=0;return new d(x,0)};function pt(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function mt(I,A){this.g=I,this.h=A}function Ft(I,A){if(et(A))throw Error("division by zero");if(et(I))return new mt(w,w);if(it(I))return A=Ft(tt(I),A),new mt(tt(A.g),tt(A.h));if(it(A))return A=Ft(I,tt(A)),new mt(tt(A.g),A.h);if(I.g.length>30){if(it(I)||it(A))throw Error("slowDivide_ only works with positive integers.");for(var x=M,V=A;V.l(I)<=0;)x=Qt(x),V=Qt(V);var N=Bt(x,1),L=Bt(V,1);for(V=Bt(V,2),x=Bt(x,2);!et(V);){var R=L.add(V);R.l(I)<=0&&(N=N.add(x),L=R),V=Bt(V,1),x=Bt(x,1)}return A=lt(I,N.j(A)),new mt(N,A)}for(N=w;I.l(A)>=0;){for(x=Math.max(1,Math.floor(I.m()/A.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=_(x),R=L.j(A);it(R)||R.l(I)>0;)x-=V,L=_(x),R=L.j(A);et(L)&&(L=M),N=N.add(L),I=lt(I,R)}return new mt(N,I)}r.B=function(I){return Ft(this,I).h},r.and=function(I){const A=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<A;V++)x[V]=this.i(V)&I.i(V);return new d(x,this.h&I.h)},r.or=function(I){const A=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<A;V++)x[V]=this.i(V)|I.i(V);return new d(x,this.h|I.h)},r.xor=function(I){const A=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<A;V++)x[V]=this.i(V)^I.i(V);return new d(x,this.h^I.h)};function Qt(I){const A=I.g.length+1,x=[];for(let V=0;V<A;V++)x[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(x,I.h)}function Bt(I,A){const x=A>>5;A%=32;const V=I.g.length-x,N=[];for(let L=0;L<V;L++)N[L]=A>0?I.i(L+x)>>>A|I.i(L+x+1)<<32-A:I.i(L+x);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,_1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,dr=d}).apply(typeof x0<"u"?x0:typeof self<"u"?self:typeof window<"u"?window:{});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var v1,Rl,E1,Fc,fm,T1,b1,S1;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mc=="object"&&Mc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in v))break t;v=v[U]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,U,B){for(var st=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)st[Nt-2]=arguments[Nt];return m.prototype[U].apply(b,st)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function et(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let st=0;st<B;st++)u[v+st]=U[st]}else u.push(U)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function lt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class pt{constructor(){this.h=this.g=null}add(m,v){const b=mt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var mt=new it(()=>new Ft,u=>u.reset());class Ft{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Qt,Bt=!1,I=new pt,A=()=>{const u=Promise.resolve(void 0);Qt=()=>{u.then(x)}};function x(){for(var u;u=lt();){try{u.h.call(u.g)}catch(v){tt(v)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Bt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ue(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(ue,N),ue.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),G=0;function rt(u,m,v,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=U,this.key=++G,this.da=this.fa=!1}function gt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ht(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Xt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ot(u,m){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)u[v]=b[v];for(let B=0;B<X.length;B++)v=X[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function ut(u){this.src=u,this.g={},this.h=0}ut.prototype.add=function(u,m,v,b,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const st=Ct(u,m,b,U);return st>-1?(m=u[st],v||(m.fa=!1)):(m=new rt(m,this.src,B,!!b,U),m.fa=v,u.push(m)),m};function bt(u,m){const v=m.type;if(v in u.g){var b=u.g[v],U=Array.prototype.indexOf.call(b,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(b,U,1),B&&(gt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ct(u,m,v,b){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return U}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Te={};function ce(u,m,v,b,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ce(u,m[B],v,b,U);return null}return v=Q(v),u&&u[ge]?u.J(m,v,g(b)?!!b.capture:!1,U):Fi(u,m,v,!1,b,U)}function Fi(u,m,v,b,U,B){if(!m)throw Error("Invalid event type");const st=g(U)?!!U.capture:!!U;let Nt=mi(u);if(Nt||(u[kt]=Nt=new ut(u)),v=Nt.add(m,v,b,st,B),v.proxy)return v;if(b=Ss(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)L||(U=st),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(kn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ss(){function u(v){return m.call(u.src,u.listener,v)}const m=Ar;return u}function As(u,m,v,b,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)As(u,m[B],v,b,U);else b=g(b)?!!b.capture:!!b,v=Q(v),u&&u[ge]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Ct(m,v,b,U),v>-1&&(gt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=mi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ct(m,v,b,U)),(v=u>-1?m[u]:null)&&ws(v))}function ws(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ge])bt(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(kn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=mi(m))?(bt(v,u),v.h==0&&(v.src=null,m[kt]=null)):gt(u)}}}function kn(u){return u in Te?Te[u]:Te[u]="on"+u}function Ar(u,m){if(u.da)u=!0;else{m=new ue(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&ws(u),u=v.call(b,m)}return u}function mi(u){return u=u[kt],u instanceof ut?u:null}var W="__closure_events_fn_"+(Math.random()*1e9>>>0);function Q(u){return typeof u=="function"?u:(u[W]||(u[W]=function(m){return u.handleEvent(m)}),u[W])}function Y(){V.call(this),this.i=new ut(this),this.M=this,this.G=null}w(Y,V),Y.prototype[ge]=!0,Y.prototype.removeEventListener=function(u,m,v,b){As(this,u,m,v,b)};function nt(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(b,u),ot(m,U)}U=!0;let B,st;if(v)for(st=v.length-1;st>=0;st--)B=m.g=v[st],U=wt(B,b,!0,m)&&U;if(B=m.g=u,U=wt(B,b,!0,m)&&U,U=wt(B,b,!1,m)&&U,v)for(st=0;st<v.length;st++)B=m.g=v[st],U=wt(B,b,!1,m)&&U}Y.prototype.N=function(){if(Y.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)gt(v[b]);delete u.g[m],u.h--}}this.G=null},Y.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},Y.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function wt(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const st=m[B];if(st&&!st.da&&st.capture==v){const Nt=st.listener,Ae=st.ha||st.src;st.fa&&bt(u.i,st),U=Nt.call(Ae,b)!==!1&&U}}return U&&!b.defaultPrevented}function at(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function It(u){u.g=at(()=>{u.g=null,u.i&&(u.i=!1,It(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Et extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:It(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function be(u){V.call(this),this.h=u,this.g={}}w(be,V);var an=[];function Zn(u){Ht(u.g,function(m,v){this.g.hasOwnProperty(v)&&ws(m)},u),u.g={}}be.prototype.N=function(){be.Z.N.call(this),Zn(this)},be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jn=d.JSON.stringify,wr=d.JSON.parse,Rr=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Qi(){}function au(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $e(){N.call(this,"d")}w($e,N);function Ln(){N.call(this,"c")}w(Ln,N);var Se={},ou=null;function ha(){return ou=ou||new Y}Se.Ia="serverreachability";function lu(u){N.call(this,Se.Ia,u)}w(lu,N);function pi(u){const m=ha();nt(m,new lu(m))}Se.STAT_EVENT="statevent";function xr(u,m){N.call(this,Se.STAT_EVENT,u),this.stat=m}w(xr,N);function De(u){const m=ha();nt(m,new xr(m,u))}Se.Ja="timingevent";function gi(u,m){N.call(this,Se.Ja,u),this.size=m}w(gi,N);function yi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ti(){this.g=!0}ti.prototype.ua=function(){this.g=!1};function Ph(u,m,v,b,U,B){u.info(function(){if(u.g)if(B){var st="",Nt=B.split("&");for(let $t=0;$t<Nt.length;$t++){var Ae=Nt[$t].split("=");if(Ae.length>1){const me=Ae[0];Ae=Ae[1];const zn=me.split("_");st=zn.length>=2&&zn[1]=="type"?st+(me+"="+Ae+"&"):st+(me+"=redacted&")}}}else st=null;else st=B;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+v+`
`+st})}function uu(u,m,v,b,U,B,st){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+st})}function _i(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jh(u,v)+(b?" "+b:"")})}function Cr(u,m){u.info(function(){return"TIMEOUT: "+m})}ti.prototype.info=function(){};function jh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let st=1;st<b.length;st++)b[st]=""}}}}return Jn(B)}catch{return m}}var Ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ao={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wo;function Nr(){}w(Nr,Qi),Nr.prototype.g=function(){return new XMLHttpRequest},wo=new Nr;function Ki(u){return encodeURIComponent(String(u))}function cu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ei(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new be(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var Oe={},Qe={};function vi(u,m,v){u.M=1,u.A=Dr(Ve(m)),u.u=v,u.R=!0,fa(u,null)}function fa(u,m){u.F=Date.now(),Ei(u),u.B=Ve(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ga(v.i,"t",b),u.C=0,v=u.j.L,u.h=new ni,u.g=wu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Et(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(an[0]=U.toString()),U=an);for(let B=0;B<U.length;B++){const st=ce(v,U[B],b||m.handleEvent,!1,m.h||m);if(!st)break;m.g[st.key]=st}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),pi(),Ph(u.i,u.v,u.B,u.l,u.S,u.u)}ei.prototype.ba=function(u){u=u.target;const m=this.O;m&&ri(u)==3?m.j():this.Y(u)},ei.prototype.Y=function(u){try{if(u==this.g)t:{const Nt=ri(this.g),Ae=this.g.ya(),$t=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||Ze(this.g)))){this.K||Nt!=4||Ae==7||(Ae==8||$t<=0?pi(3):pi(2)),Ti(this);var m=this.g.ca();this.X=m;var v=zh(this);if(this.o=m==200,uu(this.i,this.v,this.B,this.l,this.S,Nt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var B=b;break e}}B=null}if(u=B)_i(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,u);else{this.o=!1,this.m=3,De(12),An(this),Un(this);break t}}if(this.R){u=!0;let me;for(;!this.K&&this.C<v.length;)if(me=fu(this,v),me==Qe){Nt==4&&(this.m=4,De(14),u=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(me==Oe){this.m=4,De(15),_i(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else _i(this.i,this.l,me,null),bi(this,me);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||v.length!=0||this.h.h||(this.m=1,De(16),u=!1),this.o=this.o&&u,!u)_i(this.i,this.l,v,"[Invalid Chunked Response]"),An(this),Un(this);else if(v.length>0&&!this.W){this.W=!0;var st=this.j;st.g==this&&st.aa&&!st.P&&(st.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),zo(st),st.P=!0,De(11))}}else _i(this.i,this.l,v,null),bi(this,v);Nt==4&&An(this),this.o&&!this.K&&(Nt==4?Tu(this.j,this):(this.o=!1,Ei(this)))}else Xi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,De(12)):(this.m=0,De(13)),An(this),Un(this)}}}catch{}};function zh(u){if(!hu(u))return u.g.la();const m=Ze(u.g);if(m==="")return"";let v="";const b=m.length,U=ri(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return An(u),Un(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function hu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function fu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Qe:(v=Number(m.substring(v,b)),isNaN(v)?Oe:(b+=1,b+v>m.length?Qe:(m=m.slice(b,b+v),u.C=b+v,m)))}ei.prototype.cancel=function(){this.K=!0,An(this)};function Ei(u){u.T=Date.now()+u.H,da(u,u.H)}function da(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=yi(_(u.aa,u),m)}function Ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ei.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Cr(this.i,this.B),this.M!=2&&(pi(),De(17)),An(this),this.m=2,Un(this)):da(this,this.T-u)};function Un(u){u.j.I==0||u.K||Tu(u.j,u)}function An(u){Ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Zn(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function bi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ai(v.h,u))){if(!u.L&&Ai(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ta(v),Ms(v);else break t;Pr(v),De(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=yi(_(v.Va,v),6e3));Si(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ni(v,11)}else if((u.L||v.g==u)&&Ta(v),!R(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let $t=U[m];const me=$t[0];if(!(me<=v.K))if(v.K=me,$t=$t[1],v.I==2)if($t[0]=="c"){v.M=$t[1],v.ba=$t[2];const zn=$t[3];zn!=null&&(v.ka=zn,v.j.info("VER="+v.ka));const Di=$t[4];Di!=null&&(v.za=Di,v.j.info("SVER="+v.za));const ai=$t[5];ai!=null&&typeof ai=="number"&&ai>0&&(b=1.5*ai,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const oi=u.g;if(oi){const jr=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var B=b.h;B.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Co(B,B.h),B.h=null))}if(b.G){const ba=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(b.wa=ba,Wt(b.J,b.G,ba))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var st=u;if(b.na=Au(b,b.L?b.ba:null,b.W),st.L){Io(b.h,st);var Nt=st,Ae=b.O;Ae&&(Nt.H=Ae),Nt.D&&(Ti(Nt),Ei(Nt)),b.g=st}else vu(b);v.i.length>0&&Ii(v)}else $t[0]!="stop"&&$t[0]!="close"||Ni(v,7);else v.I==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?Ni(v,7):Po(v):$t[0]!="noop"&&v.l&&v.l.qa($t),v.A=0)}}pi(4)}catch{}}var Me=class{constructor(u,m){this.g=u,this.map=m}};function Ro(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Si(u){return u.h?1:u.g?u.g.size:0}function Ai(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Co(u,m){u.g?u.g.add(m):u.h=m}function Io(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ro.prototype.cancel=function(){if(this.i=No(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function No(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return q(u.i)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let U,B=null;b>=0?(U=u[v].substring(0,b),B=u[v].substring(b+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function wn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof wn?(this.l=u.l,Ke(this,u.j),this.o=u.o,this.g=u.g,Rs(this,u.u),this.h=u.h,Do(this,yu(u.i)),this.m=u.m):u&&(m=String(u).match(du))?(this.l=!1,Ke(this,m[1]||"",!0),this.o=wi(m[2]||""),this.g=wi(m[3]||"",!0),Rs(this,m[4]),this.h=wi(m[5]||"",!0),Do(this,m[6]||"",!0),this.m=wi(m[7]||"")):(this.l=!1,this.i=new Cs(null,this.l))}wn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Or(m,pa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Or(m,pa,!0),"@"),u.push(Ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Or(v,v.charAt(0)=="/"?Oo:mu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Or(v,pu)),u.join("")},wn.prototype.resolve=function(u){const m=Ve(this);let v=!!u.j;v?Ke(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)Rs(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let st=0;st<U.length;){const Nt=U[st++];Nt=="."?b&&st==U.length&&B.push(""):Nt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&st==U.length&&B.push("")):(B.push(Nt),b=!0)}b=B.join("/")}else b=U}return v?m.h=b:v=u.i.toString()!=="",v?Do(m,yu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ve(u){return new wn(u)}function Ke(u,m,v){u.j=v?wi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Rs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Do(u,m,v){m instanceof Cs?(u.i=m,ya(u.i,u.l)):(v||(m=Or(m,xs)),u.i=new Cs(m,u.l))}function Wt(u,m,v){u.i.set(m,v)}function Dr(u){return Wt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function wi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Or(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,pn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var pa=/[#\/\?@]/g,mu=/[#\?:]/g,Oo=/[#\?]/g,xs=/[#\?@]/g,pu=/#/g;function Cs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&ma(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Cs.prototype,r.add=function(u,m){gn(this),this.i=null,u=Is(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function gu(u,m){gn(u),m=Is(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Mo(u,m){return gn(u),m=Is(u,m),u.g.has(m)}r.forEach=function(u,m){gn(this),this.g.forEach(function(v,b){v.forEach(function(U){u.call(m,U,b,this)},this)},this)};function Vo(u,m){gn(u);let v=[];if(typeof m=="string")Mo(u,m)&&(v=v.concat(u.g.get(Is(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return gn(this),this.i=null,u=Is(this,u),Mo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Vo(this,u),u.length>0?String(u[0]):m):m};function ga(u,m,v){gu(u,m),v.length>0&&(u.i=null,u.g.set(Is(u,m),q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const U=Ki(v);v=Vo(this,v);for(let B=0;B<v.length;B++){let st=U;v[B]!==""&&(st+="="+Ki(v[B])),u.push(st)}}return this.i=u.join("&")};function yu(u){const m=new Cs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Is(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ya(u,m){m&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(v,b){const U=b.toLowerCase();b!=U&&(gu(this,b),ga(this,U,v))},u)),u.j=m}function ii(u,m){const v=new ti;if(d.Image){const b=new Image;b.onload=E(Pn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(Pn,v,"TestLoadImage: error",!1,m,b),b.onabort=E(Pn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(Pn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function ko(u,m){const v=new ti,b=new AbortController,U=setTimeout(()=>{b.abort(),Pn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(U),B.ok?Pn(v,"TestPingServer: ok",!0,m):Pn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Pn(v,"TestPingServer: error",!1,m)})}function Pn(u,m,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function Ns(){this.g=new Rr}function Ri(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Ri,Qi),Ri.prototype.g=function(){return new Mr(this.i,this.h)};function Mr(u,m){Y.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Mr,Y),r=Mr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,si(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ds(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_a(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function _a(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ds(this):si(this),this.readyState==3&&_a(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Ds(this))},r.Na=function(u){this.g&&(this.response=u,Ds(this))},r.ga=function(){this.g&&Ds(this)};function Ds(u){u.readyState=4,u.l=null,u.j=null,u.B=null,si(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function si(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function jn(u){let m="";return Ht(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Vr(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=jn(v),typeof u=="string"?v!=null&&Ki(v):Wt(u,m,v))}function se(u){Y.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(se,Y);var xi=/^https?$/i,Lo=["POST","PUT"];r=se.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wo.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){kr(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Lo,m,void 0)>=0)||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,st]of v)this.g.setRequestHeader(B,st);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){kr(this,B)}};function kr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Uo(u),Yi(u)}function Uo(u){u.A||(u.A=!0,nt(u,"complete"),nt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,nt(this,"complete"),nt(this,"abort"),Yi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),se.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Lr(this):this.Xa())},r.Xa=function(){Lr(this)};function Lr(u){if(u.h&&typeof c<"u"){if(u.v&&ri(u)==4)setTimeout(u.Ca.bind(u),0);else if(nt(u,"readystatechange"),ri(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let st=String(u.D).match(du)[1]||null;!st&&d.self&&d.self.location&&(st=d.self.location.protocol.slice(0,-1)),b=!xi.test(st?st.toLowerCase():"")}v=b}if(v)nt(u,"complete"),nt(u,"success");else{u.o=6;try{var U=ri(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Uo(u)}}finally{Yi(u)}}}}function Yi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||nt(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ri(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),wr(m)}};function Ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(u){const m={};u=(u.g&&ri(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var v=cu(u[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Xt(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Os(u){this.za=0,this.i=[],this.j=new ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,u),this.Za=Ci("retryDelaySeedMs",1e4,u),this.Ta=Ci("forwardChannelMaxRetries",2,u),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ro(u&&u.concurrentRequestLimit),this.Ba=new Ns,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Os.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){De(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Au(this,null,this.W),Ii(this)};function Po(u){if(va(u),u.I==3){var m=u.V++,v=Ve(u.J);if(Wt(v,"SID",u.M),Wt(v,"RID",m),Wt(v,"TYPE","terminate"),Ur(u,v),m=new ei(u,u.j,m),m.M=2,m.A=Dr(Ve(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=wu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ei(m)}Su(u)}function Ms(u){u.g&&(zo(u),u.g.cancel(),u.g=null)}function va(u){Ms(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ta(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ii(u){if(!xo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Qt||A(),Bt||(Qt(),Bt=!0),I.add(m,u),u.D=0}}function Ea(u,m){return Si(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=yi(_(u.Ea,u,m),bu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new ei(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),ot(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=_u(this,U,m),v=Ve(this.J),Wt(v,"RID",u),Wt(v,"CVER",22),this.G&&Wt(v,"X-HTTP-Session-Id",this.G),Ur(this,v),B&&(this.R?m="headers="+Ki(jn(B))+"&"+m:this.u&&Vr(v,this.u,B)),Co(this.h,U),this.Ra&&Wt(v,"TYPE","init"),this.S?(Wt(v,"$req",m),Wt(v,"SID","null"),U.U=!0,vi(U,v,null)):vi(U,v,m),this.I=2}}else this.I==3&&(u?jo(this,u):this.i.length==0||xo(this.h)||jo(this))};function jo(u,m){var v;m?v=m.l:v=u.V++;const b=Ve(u.J);Wt(b,"SID",u.M),Wt(b,"RID",v),Wt(b,"AID",u.K),Ur(u,b),u.u&&u.o&&Vr(b,u.u,u.o),v=new ei(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=_u(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Co(u.h,v),vi(v,b,m)}function Ur(u,m){u.H&&Ht(u.H,function(v,b){Wt(m,b,v)}),u.l&&Ht({},function(v,b){Wt(m,b,v)})}function _u(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let Nt=-1;for(;;){const Ae=["count="+v];Nt==-1?v>0?(Nt=U[0].g,Ae.push("ofs="+Nt)):Nt=0:Ae.push("ofs="+Nt);let $t=!0;for(let me=0;me<v;me++){var B=U[me].g;const zn=U[me].map;if(B-=Nt,B<0)Nt=Math.max(0,U[me].g-100),$t=!1;else try{B="req"+B+"_"||"";try{var st=zn instanceof Map?zn:Object.entries(zn);for(const[Di,ai]of st){let oi=ai;g(ai)&&(oi=Jn(ai)),Ae.push(B+Di+"="+encodeURIComponent(oi))}}catch(Di){throw Ae.push(B+"type="+encodeURIComponent("_badmap")),Di}}catch{b&&b(zn)}}if($t){st=Ae.join("&");break t}}st=void 0}return u=u.i.splice(0,v),m.G=u,st}function vu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Qt||A(),Bt||(Qt(),Bt=!0),I.add(m,u),u.A=0}}function Pr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=yi(_(u.Da,u),bu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=yi(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,De(10),Ms(this),Eu(this))};function zo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Eu(u){u.g=new ei(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ve(u.na);Wt(m,"RID","rpc"),Wt(m,"SID",u.M),Wt(m,"AID",u.K),Wt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Wt(m,"TO",u.ia),Wt(m,"TYPE","xmlhttp"),Ur(u,m),u.u&&u.o&&Vr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Dr(Ve(m)),v.u=null,v.R=!0,fa(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Ms(this),Pr(this),De(19))};function Ta(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Tu(u,m){var v=null;if(u.g==m){Ta(u),zo(u),u.g=null;var b=2}else if(Ai(u.h,m))v=m.G,Io(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=ha(),nt(b,new gi(b,v)),Ii(u)}else vu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&Ea(u,m)||b==2&&Pr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Ni(u,5);break;case 4:Ni(u,10);break;case 3:Ni(u,6);break;default:Ni(u,2)}}}function bu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ni(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const U=!b;b=new wn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ke(b,"https"),Dr(b),U?ii(b.toString(),v):ko(b.toString(),v)}else De(2);u.I=0,u.l&&u.l.pa(m),Su(u),va(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))};function Su(u){if(u.I=0,u.ja=[],u.l){const m=No(u.h);(m.length!=0||u.i.length!=0)&&(et(u.ja,m),et(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function Au(u,m,v){var b=v instanceof wn?Ve(v):new wn(v);if(b.g!="")m&&(b.g=m+"."+b.g),Rs(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new wn(null);b&&Ke(B,b),m&&(B.g=m),U&&Rs(B,U),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&Wt(b,v,m),Wt(b,"VER",u.ka),Ur(u,b),b}function wu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new se(new Ri({ab:v})):new se(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}r=Ru.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Vs(){}Vs.prototype.g=function(u,m){return new fn(u,m)};function fn(u,m){Y.call(this),this.g=new Os(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $i(this)}w(fn,Y),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Po(this.g)},fn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Jn(u),u=v);m.i.push(new Me(m.Ya++,u)),m.I==3&&Ii(m)},fn.prototype.N=function(){this.g.l=null,delete this.j,Po(this.g),delete this.g,fn.Z.N.call(this)};function xu(u){$e.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(xu,$e);function Cu(){Ln.call(this),this.status=1}w(Cu,Ln);function $i(u){this.g=u}w($i,Ru),$i.prototype.ra=function(){nt(this.g,"a")},$i.prototype.qa=function(u){nt(this.g,new xu(u))},$i.prototype.pa=function(u){nt(this.g,new Cu)},$i.prototype.oa=function(){nt(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,S1=function(){return new Vs},b1=function(){return ha()},T1=Se,fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,Fc=Ir,Ao.COMPLETE="complete",E1=Ao,au.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",Y.prototype.listen=Y.prototype.J,Rl=au,se.prototype.listenOnce=se.prototype.K,se.prototype.getLastError=se.prototype.Ha,se.prototype.getLastErrorCode=se.prototype.ya,se.prototype.getStatus=se.prototype.ca,se.prototype.getResponseJson=se.prototype.La,se.prototype.getResponseText=se.prototype.la,se.prototype.send=se.prototype.ea,se.prototype.setWithCredentials=se.prototype.Fa,v1=se}).apply(typeof Mc<"u"?Mc:typeof self<"u"?self:typeof window<"u"?window:{});const C0="@firebase/firestore",I0="4.9.3";class un{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let Eo="12.7.0";const aa=new Mm("@firebase/firestore");function Ja(){return aa.logLevel}function ct(r,...t){if(aa.logLevel<=Pt.DEBUG){const i=t.map(Gm);aa.debug(`Firestore (${Eo}): ${r}`,...i)}}function Es(r,...t){if(aa.logLevel<=Pt.ERROR){const i=t.map(Gm);aa.error(`Firestore (${Eo}): ${r}`,...i)}}function uo(r,...t){if(aa.logLevel<=Pt.WARN){const i=t.map(Gm);aa.warn(`Firestore (${Eo}): ${r}`,...i)}}function Gm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Tt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,A1(r,a,i)}function A1(r,t,i){let a=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Es(a),new Error(a)}function Jt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||A1(t,l,a)}function xt(r,t){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends bs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class w1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Nw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(un.UNAUTHENTICATED)))}shutdown(){}}class Dw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Ow{constructor(t){this.t=t,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Jt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new mr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new mr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Jt(typeof a.accessToken=="string",31837,{l:a}),new w1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Jt(t===null||typeof t=="string",2055,{h:t}),new un(t)}}class Mw{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Vw{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Mw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Jt(this.o===void 0,3512);const a=c=>{c.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ct("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new N0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new N0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Lw(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Fm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Lw(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function jt(r,t){return r<t?-1:r>t?1:0}function dm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Yd(l)===Yd(c)?jt(l,c):Yd(l)?1:-1}return jt(r.length,t.length)}const Uw=55296,Pw=57343;function Yd(r){const t=r.charCodeAt(0);return t>=Uw&&t<=Pw}function co(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const D0="__name__";class Li{constructor(t,i,a){i===void 0?i=0:i>t.length&&Tt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&Tt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Li.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Li?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Li.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return jt(t.length,i.length)}static compareSegments(t,i){const a=Li.isNumericId(t),l=Li.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Li.extractNumericId(t).compare(Li.extractNumericId(i)):dm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return dr.fromString(t.substring(4,t.length-2))}}class ye extends Li{construct(t,i,a){return new ye(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new dt(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ye(i)}static emptyPath(){return new ye([])}}const jw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Li{construct(t,i,a){return new sn(t,i,a)}static isValidIdentifier(t){return jw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D0}static keyField(){return new sn([D0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new dt(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new dt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new dt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new dt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new sn(i)}static emptyPath(){return new sn([])}}class _t{constructor(t){this.path=t}static fromPath(t){return new _t(ye.fromString(t))}static fromName(t){return new _t(ye.fromString(t).popFirst(5))}static empty(){return new _t(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ye.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ye.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new ye(t.slice()))}}function zw(r,t,i){if(!i)throw new dt(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Bw(r,t,i,a){if(t===!0&&a===!0)throw new dt(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function O0(r){if(!_t.isDocumentKey(r))throw new dt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function R1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Qm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Tt(12329,{type:typeof r})}function fi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new dt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Qm(r);throw new dt(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function ze(r,t){const i={typeString:r};return t&&(i.value=t),i}function Wl(r,t){if(!R1(r))throw new dt(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new dt(J.INVALID_ARGUMENT,i);return!0}const M0=-62135596800,V0=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(t){return de.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*V0);return new de(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new dt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new dt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<M0)throw new dt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V0}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Wl(t,de._jsonSchema))return new de(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-M0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:ze("string",de._jsonSchemaVersion),seconds:ze("number"),nanoseconds:ze("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new de(0,0))}static max(){return new At(new de(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jl=-1;function Hw(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=At.fromTimestamp(a===1e9?new de(i+1,0):new de(i,a));return new gr(l,_t.empty(),t)}function qw(r){return new gr(r.readTime,r.key,jl)}class gr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new gr(At.min(),_t.empty(),jl)}static max(){return new gr(At.max(),_t.empty(),jl)}}function Gw(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=_t.comparator(r.documentKey,t.documentKey),i!==0?i:jt(r.largestBatchId,t.largestBatchId))}const Fw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function To(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==Fw)throw r;ct("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((l=>l?Z.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((E=>{d[_]=E,++g,g===c&&a(d)}),(E=>l(E)))}}))}static doWhile(t,i){return new Z(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function Kw(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function bo(r){return r.name==="IndexedDbTransactionError"}class Th{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Th.ce=-1;const Km=-1;function bh(r){return r==null}function ah(r){return r===0&&1/r==-1/0}function Yw(r){return typeof r=="number"&&Number.isInteger(r)&&!ah(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const x1="";function Xw(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=k0(t)),t=$w(r.get(i),t);return k0(t)}function $w(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case x1:i+="";break;default:i+=c}}return i}function k0(r){return r+x1+""}function L0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function br(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function C1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class _e{constructor(t,i){this.comparator=t,this.root=i||nn.EMPTY}insert(t,i){return new _e(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(t){return new _e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,nn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Vc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Vc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Vc(this.root,t,this.comparator,!0)}}class Vc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class nn{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??nn.RED,this.left=l??nn.EMPTY,this.right=c??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new nn(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return nn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new nn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fe{constructor(t){this.comparator=t,this.data=new _e(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new U0(this.data.getIterator())}getIteratorFrom(t){return new U0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Fe)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Fe(this.comparator);return i.data=t,i}}class U0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vn{constructor(t){this.fields=t,t.sort(sn.comparator)}static empty(){return new Vn([])}unionWith(t){let i=new Fe(sn.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Vn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return co(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class I1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new I1("Invalid base64 string: "+c):c}})(t);return new rn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new rn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const Zw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(r){if(Jt(!!r,39018),typeof r=="string"){let t=0;const i=Zw.exec(r);if(Jt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ne(r.seconds),nanos:Ne(r.nanos)}}function Ne(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function _r(r){return typeof r=="string"?rn.fromBase64String(r):rn.fromUint8Array(r)}const N1="server_timestamp",D1="__type__",O1="__previous_value__",M1="__local_write_time__";function Ym(r){return(r?.mapValue?.fields||{})[D1]?.stringValue===N1}function Sh(r){const t=r.mapValue.fields[O1];return Ym(t)?Sh(t):t}function zl(r){const t=yr(r.mapValue.fields[M1].timestampValue);return new de(t.seconds,t.nanos)}class Jw{constructor(t,i,a,l,c,d,g,y,_,E){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const oh="(default)";class Bl{constructor(t,i){this.projectId=t,this.database=i||oh}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===oh}isEqual(t){return t instanceof Bl&&t.projectId===this.projectId&&t.database===this.database}}const V1="__type__",Ww="__max__",kc={mapValue:{}},k1="__vector__",lh="value";function vr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ym(r)?4:eR(r)?9007199254740991:tR(r)?10:11:Tt(28295,{value:r})}function qi(r,t){if(r===t)return!0;const i=vr(r);if(i!==vr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return zl(r).isEqual(zl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=yr(l.timestampValue),g=yr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return _r(l.bytesValue).isEqual(_r(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ne(l.geoPointValue.latitude)===Ne(c.geoPointValue.latitude)&&Ne(l.geoPointValue.longitude)===Ne(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ne(l.integerValue)===Ne(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ne(l.doubleValue),g=Ne(c.doubleValue);return d===g?ah(d)===ah(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return co(r.arrayValue.values||[],t.arrayValue.values||[],qi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(L0(d)!==L0(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!qi(d[y],g[y])))return!1;return!0})(r,t);default:return Tt(52216,{left:r})}}function Hl(r,t){return(r.values||[]).find((i=>qi(i,t)))!==void 0}function ho(r,t){if(r===t)return 0;const i=vr(r),a=vr(t);if(i!==a)return jt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return jt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=Ne(c.integerValue||c.doubleValue),y=Ne(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,t);case 3:return P0(r.timestampValue,t.timestampValue);case 4:return P0(zl(r),zl(t));case 5:return dm(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=_r(c),y=_r(d);return g.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const E=jt(g[_],y[_]);if(E!==0)return E}return jt(g.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=jt(Ne(c.latitude),Ne(d.latitude));return g!==0?g:jt(Ne(c.longitude),Ne(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return j0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[lh]?.arrayValue,E=y[lh]?.arrayValue,w=jt(_?.values?.length||0,E?.values?.length||0);return w!==0?w:j0(_,E)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===kc.mapValue&&d===kc.mapValue)return 0;if(c===kc.mapValue)return 1;if(d===kc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let w=0;w<y.length&&w<E.length;++w){const M=dm(y[w],E[w]);if(M!==0)return M;const q=ho(g[y[w]],_[E[w]]);if(q!==0)return q}return jt(y.length,E.length)})(r.mapValue,t.mapValue);default:throw Tt(23264,{he:i})}}function P0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return jt(r,t);const i=yr(r),a=yr(t),l=jt(i.seconds,a.seconds);return l!==0?l:jt(i.nanos,a.nanos)}function j0(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=ho(i[l],a[l]);if(c)return c}return jt(i.length,a.length)}function fo(r){return mm(r)}function mm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=yr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return _r(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return _t.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=mm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${mm(i.fields[d])}`;return l+"}"})(r.mapValue):Tt(61005,{value:r})}function Qc(r){switch(vr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Sh(r);return t?16+Qc(t):16;case 5:return 2*r.stringValue.length;case 6:return _r(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Qc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return br(a.fields,((c,d)=>{l+=c.length+Qc(d)})),l})(r.mapValue);default:throw Tt(13486,{value:r})}}function pm(r){return!!r&&"integerValue"in r}function Xm(r){return!!r&&"arrayValue"in r}function z0(r){return!!r&&"nullValue"in r}function B0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Kc(r){return!!r&&"mapValue"in r}function tR(r){return(r?.mapValue?.fields||{})[V1]?.stringValue===k1}function Ol(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return br(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Ol(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Ol(r.arrayValue.values[i]);return t}return{...r}}function eR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Ww}class Sn{constructor(t){this.value=t}static empty(){return new Sn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Kc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ol(i)}setAll(t){let i=sn.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Ol(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return qi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Kc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){br(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Sn(Ol(this.value))}}function L1(r){const t=[];return br(r.fields,((i,a)=>{const l=new sn([i]);if(Kc(a)){const c=L1(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Vn(t)}class cn{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new cn(t,0,At.min(),At.min(),At.min(),Sn.empty(),0)}static newFoundDocument(t,i,a,l){return new cn(t,1,i,At.min(),a,l,0)}static newNoDocument(t,i){return new cn(t,2,i,At.min(),At.min(),Sn.empty(),0)}static newUnknownDocument(t,i){return new cn(t,3,i,At.min(),At.min(),Sn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof cn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uh{constructor(t,i){this.position=t,this.inclusive=i}}function H0(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=_t.comparator(_t.fromName(d.referenceValue),i.key):a=ho(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function q0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!qi(r.position[i],t.position[i]))return!1;return!0}class ch{constructor(t,i="asc"){this.field=t,this.dir=i}}function nR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class U1{}class Ge extends U1{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new sR(t,i,a):i==="array-contains"?new oR(t,a):i==="in"?new lR(t,a):i==="not-in"?new uR(t,a):i==="array-contains-any"?new cR(t,a):new Ge(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new rR(t,a):new aR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ho(i,this.value)):i!==null&&vr(this.value)===vr(i)&&this.matchesComparison(ho(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends U1{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Gi(t,i)}matches(t){return P1(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function P1(r){return r.op==="and"}function j1(r){return iR(r)&&P1(r)}function iR(r){for(const t of r.filters)if(t instanceof Gi)return!1;return!0}function gm(r){if(r instanceof Ge)return r.field.canonicalString()+r.op.toString()+fo(r.value);if(j1(r))return r.filters.map((t=>gm(t))).join(",");{const t=r.filters.map((i=>gm(i))).join(",");return`${r.op}(${t})`}}function z1(r,t){return r instanceof Ge?(function(a,l){return l instanceof Ge&&a.op===l.op&&a.field.isEqual(l.field)&&qi(a.value,l.value)})(r,t):r instanceof Gi?(function(a,l){return l instanceof Gi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&z1(d,l.filters[g])),!0):!1})(r,t):void Tt(19439)}function B1(r){return r instanceof Ge?(function(i){return`${i.field.canonicalString()} ${i.op} ${fo(i.value)}`})(r):r instanceof Gi?(function(i){return i.op.toString()+" {"+i.getFilters().map(B1).join(" ,")+"}"})(r):"Filter"}class sR extends Ge{constructor(t,i,a){super(t,i,a),this.key=_t.fromName(a.referenceValue)}matches(t){const i=_t.comparator(t.key,this.key);return this.matchesComparison(i)}}class rR extends Ge{constructor(t,i){super(t,"in",i),this.keys=H1("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class aR extends Ge{constructor(t,i){super(t,"not-in",i),this.keys=H1("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function H1(r,t){return(t.arrayValue?.values||[]).map((i=>_t.fromName(i.referenceValue)))}class oR extends Ge{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Xm(i)&&Hl(i.arrayValue,this.value)}}class lR extends Ge{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Hl(this.value.arrayValue,i)}}class uR extends Ge{constructor(t,i){super(t,"not-in",i)}matches(t){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Hl(this.value.arrayValue,i)}}class cR extends Ge{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Xm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Hl(this.value.arrayValue,a)))}}class hR{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function G0(r,t=null,i=[],a=[],l=null,c=null,d=null){return new hR(r,t,i,a,l,c,d)}function $m(r){const t=xt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>gm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),bh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>fo(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>fo(a))).join(",")),t.Te=i}return t.Te}function Zm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!nR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!z1(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!q0(r.startAt,t.startAt)&&q0(r.endAt,t.endAt)}function ym(r){return _t.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Ah{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fR(r,t,i,a,l,c,d,g){return new Ah(r,t,i,a,l,c,d,g)}function wh(r){return new Ah(r)}function F0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function dR(r){return r.collectionGroup!==null}function Ml(r){const t=xt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Fe(sn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new ch(c,a))})),i.has(sn.keyField().canonicalString())||t.Ie.push(new ch(sn.keyField(),a))}return t.Ie}function ji(r){const t=xt(r);return t.Ee||(t.Ee=mR(t,Ml(r))),t.Ee}function mR(r,t){if(r.limitType==="F")return G0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ch(l.field,c)}));const i=r.endAt?new uh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new uh(r.startAt.position,r.startAt.inclusive):null;return G0(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function _m(r,t,i){return new Ah(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Rh(r,t){return Zm(ji(r),ji(t))&&r.limitType===t.limitType}function q1(r){return`${$m(ji(r))}|lt:${r.limitType}`}function Wa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>B1(l))).join(", ")}]`),bh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>fo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>fo(l))).join(",")),`Target(${a})`})(ji(r))}; limitType=${r.limitType})`}function xh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):_t.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Ml(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,y){const _=H0(d,g,y);return d.inclusive?_<=0:_<0})(a.startAt,Ml(a),l)||a.endAt&&!(function(d,g,y){const _=H0(d,g,y);return d.inclusive?_>=0:_>0})(a.endAt,Ml(a),l))})(r,t)}function pR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function G1(r){return(t,i)=>{let a=!1;for(const l of Ml(r)){const c=gR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function gR(r,t,i){const a=r.field.isKeyField()?_t.comparator(t.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?ho(y,_):Tt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Tt(19790,{direction:r.dir})}}class ua{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){br(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return C1(this.inner)}size(){return this.innerSize}}const yR=new _e(_t.comparator);function Ts(){return yR}const F1=new _e(_t.comparator);function xl(...r){let t=F1;for(const i of r)t=t.insert(i.key,i);return t}function Q1(r){let t=F1;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function na(){return Vl()}function K1(){return Vl()}function Vl(){return new ua((r=>r.toString()),((r,t)=>r.isEqual(t)))}const _R=new _e(_t.comparator),vR=new Fe(_t.comparator);function zt(...r){let t=vR;for(const i of r)t=t.add(i);return t}const ER=new Fe(jt);function TR(){return ER}function Jm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(t)?"-0":t}}function Y1(r){return{integerValue:""+r}}function X1(r,t){return Yw(t)?Y1(t):Jm(r,t)}class Ch{constructor(){this._=void 0}}function bR(r,t,i){return r instanceof hh?(function(l,c){const d={fields:{[D1]:{stringValue:N1},[M1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Ym(c)&&(c=Sh(c)),c&&(d.fields[O1]=c),{mapValue:d}})(i,t):r instanceof mo?Z1(r,t):r instanceof ql?J1(r,t):(function(l,c){const d=$1(l,c),g=Q0(d)+Q0(l.Ae);return pm(d)&&pm(l.Ae)?Y1(g):Jm(l.serializer,g)})(r,t)}function SR(r,t,i){return r instanceof mo?Z1(r,t):r instanceof ql?J1(r,t):i}function $1(r,t){return r instanceof Gl?(function(a){return pm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class hh extends Ch{}class mo extends Ch{constructor(t){super(),this.elements=t}}function Z1(r,t){const i=W1(t);for(const a of r.elements)i.some((l=>qi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class ql extends Ch{constructor(t){super(),this.elements=t}}function J1(r,t){let i=W1(t);for(const a of r.elements)i=i.filter((l=>!qi(l,a)));return{arrayValue:{values:i}}}class Gl extends Ch{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Q0(r){return Ne(r.integerValue||r.doubleValue)}function W1(r){return Xm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class tE{constructor(t,i){this.field=t,this.transform=i}}function AR(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof mo&&l instanceof mo||a instanceof ql&&l instanceof ql?co(a.elements,l.elements,qi):a instanceof Gl&&l instanceof Gl?qi(a.Ae,l.Ae):a instanceof hh&&l instanceof hh})(r.transform,t.transform)}class wR{constructor(t,i){this.version=t,this.transformResults=i}}class di{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new di}static exists(t){return new di(void 0,t)}static updateTime(t){return new di(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Yc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Ih{}function eE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Wm(r.key,di.none()):new tu(r.key,r.data,di.none());{const i=r.data,a=Sn.empty();let l=new Fe(sn.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Sr(r.key,a,new Vn(l.toArray()),di.none())}}function RR(r,t,i){r instanceof tu?(function(l,c,d){const g=l.value.clone(),y=Y0(l.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof Sr?(function(l,c,d){if(!Yc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Y0(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(nE(l)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function kl(r,t,i,a){return r instanceof tu?(function(c,d,g,y){if(!Yc(c.precondition,d))return g;const _=c.value.clone(),E=X0(c.fieldTransforms,y,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof Sr?(function(c,d,g,y){if(!Yc(c.precondition,d))return g;const _=X0(c.fieldTransforms,y,d),E=d.data;return E.setAll(nE(c)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,t,i,a):(function(c,d,g){return Yc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function xR(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=$1(a.transform,l||null);c!=null&&(i===null&&(i=Sn.empty()),i.set(a.field,c))}return i||null}function K0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&co(a,l,((c,d)=>AR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class tu extends Ih{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Sr extends Ih{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function nE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Y0(r,t,i){const a=new Map;Jt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,SR(d,g,i[l]))}return a}function X0(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,bR(c,d,t))}return a}class Wm extends Ih{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CR extends Ih{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class IR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&RR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=kl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=kl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=K1();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const y=eE(d,g);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(At.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&co(this.mutations,t.mutations,((i,a)=>K0(i,a)))&&co(this.baseMutations,t.baseMutations,((i,a)=>K0(i,a)))}}class tp{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Jt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return _R})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new tp(t,i,a,l)}}class NR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class DR{constructor(t,i){this.count=t,this.unchangedNames=i}}var je,Gt;function OR(r){switch(r){case J.OK:return Tt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Tt(15467,{code:r})}}function iE(r){if(r===void 0)return Es("GRPC error has no .code"),J.UNKNOWN;switch(r){case je.OK:return J.OK;case je.CANCELLED:return J.CANCELLED;case je.UNKNOWN:return J.UNKNOWN;case je.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case je.INTERNAL:return J.INTERNAL;case je.UNAVAILABLE:return J.UNAVAILABLE;case je.UNAUTHENTICATED:return J.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case je.NOT_FOUND:return J.NOT_FOUND;case je.ALREADY_EXISTS:return J.ALREADY_EXISTS;case je.PERMISSION_DENIED:return J.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case je.ABORTED:return J.ABORTED;case je.OUT_OF_RANGE:return J.OUT_OF_RANGE;case je.UNIMPLEMENTED:return J.UNIMPLEMENTED;case je.DATA_LOSS:return J.DATA_LOSS;default:return Tt(39323,{code:r})}}(Gt=je||(je={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";function MR(){return new TextEncoder}const VR=new dr([4294967295,4294967295],0);function $0(r){const t=MR().encode(r),i=new _1;return i.update(t),new Uint8Array(i.digest())}function Z0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new dr([i,a],0),new dr([l,c],0)]}class ep{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Cl(`Invalid padding: ${i}`);if(a<0)throw new Cl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=dr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(dr.fromNumber(a)));return l.compare(VR)===1&&(l=new dr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=$0(t),[a,l]=Z0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new ep(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=$0(t),[a,l]=Z0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,eu.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Nh(At.min(),l,new _e(jt),Ts(),zt())}}class eu{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new eu(a,i,zt(),zt(),zt())}}class Xc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class sE{constructor(t,i){this.targetId=t,this.Ce=i}}class rE{constructor(t,i,a=rn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class J0{constructor(){this.ve=0,this.Fe=W0(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),a=zt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Tt(38017,{changeType:c})}})),new eu(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=W0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kR{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ts(),this.Je=Lc(),this.He=Lc(),this.Ye=new _e(jt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(ym(c))if(a===0){const d=new _t(c.path);this.et(i,d,cn.newNoDocument(d,At.min()))}else Jt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=_r(a).toUint8Array()}catch(y){if(y instanceof I1)return uo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new ep(d,l,c)}catch(y){return uo(y instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&ym(g.target)){const y=new _t(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,cn.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=zt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Nh(t,i,this.Ye,this.je,a);return this.je=Ts(),this.Je=Lc(),this.He=Lc(),this.Ye=new _e(jt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new J0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Fe(jt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Fe(jt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ct("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new J0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Lc(){return new _e(_t.comparator)}function W0(){return new _e(_t.comparator)}const LR={asc:"ASCENDING",desc:"DESCENDING"},UR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PR={and:"AND",or:"OR"};class jR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function vm(r,t){return r.useProto3Json||bh(t)?t:{value:t}}function fh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function aE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function zR(r,t){return fh(r,t.toTimestamp())}function zi(r){return Jt(!!r,49232),At.fromTimestamp((function(i){const a=yr(i);return new de(a.seconds,a.nanos)})(r))}function np(r,t){return Em(r,t).canonicalString()}function Em(r,t){const i=(function(l){return new ye(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function oE(r){const t=ye.fromString(r);return Jt(fE(t),10190,{key:t.toString()}),t}function Tm(r,t){return np(r.databaseId,t.path)}function Xd(r,t){const i=oE(t);if(i.get(1)!==r.databaseId.projectId)throw new dt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new dt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new _t(uE(i))}function lE(r,t){return np(r.databaseId,t)}function BR(r){const t=oE(r);return t.length===4?ye.emptyPath():uE(t)}function bm(r){return new ye(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function uE(r){return Jt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function tv(r,t,i){return{name:Tm(r,t),fields:i.value.mapValue.fields}}function HR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Tt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,E){return _.useProto3Json?(Jt(E===void 0||typeof E=="string",58123),rn.fromBase64String(E||"")):(Jt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),rn.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const E=_.code===void 0?J.UNKNOWN:iE(_.code);return new dt(E,_.message||"")})(d);i=new rE(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Xd(r,a.document.name),c=zi(a.document.updateTime),d=a.document.createTime?zi(a.document.createTime):At.min(),g=new Sn({mapValue:{fields:a.document.fields}}),y=cn.newFoundDocument(l,c,d,g),_=a.targetIds||[],E=a.removedTargetIds||[];i=new Xc(_,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Xd(r,a.document),c=a.readTime?zi(a.readTime):At.min(),d=cn.newNoDocument(l,c),g=a.removedTargetIds||[];i=new Xc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Xd(r,a.document),c=a.removedTargetIds||[];i=new Xc([],c,l,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new DR(l,c),g=a.targetId;i=new sE(g,d)}}return i}function qR(r,t){let i;if(t instanceof tu)i={update:tv(r,t.key,t.value)};else if(t instanceof Wm)i={delete:Tm(r,t.key)};else if(t instanceof Sr)i={update:tv(r,t.key,t.data),updateMask:JR(t.fieldMask)};else{if(!(t instanceof CR))return Tt(16599,{Vt:t.type});i={verify:Tm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof hh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof mo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Gl)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Tt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:zR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Tt(27497)})(r,t.precondition)),i}function GR(r,t){return r&&r.length>0?(Jt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?zi(l.updateTime):zi(c);return d.isEqual(At.min())&&(d=zi(c)),new wR(d,l.transformResults||[])})(i,t)))):[]}function FR(r,t){return{documents:[lE(r,t.path)]}}function QR(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=lE(r,l);const c=(function(_){if(_.length!==0)return hE(Gi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((E=>(function(M){return{field:to(M.field),direction:XR(M.dir)}})(E)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=vm(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function KR(r){let t=BR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Jt(a===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=(function(w){const M=cE(w);return M instanceof Gi&&j1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(et){return new ch(eo(et.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(et.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let M;return M=typeof w=="object"?w.value:w,bh(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(w){const M=!!w.before,q=w.values||[];return new uh(q,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const M=!w.before,q=w.values||[];return new uh(q,M)})(i.endAt)),fR(t,l,d,c,g,"F",y,_)}function YR(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function cE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=eo(i.unaryFilter.field);return Ge.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=eo(i.unaryFilter.field);return Ge.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=eo(i.unaryFilter.field);return Ge.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=eo(i.unaryFilter.field);return Ge.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ge.create(eo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Gi.create(i.compositeFilter.filters.map((a=>cE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(i.compositeFilter.op))})(r):Tt(30097,{filter:r})}function XR(r){return LR[r]}function $R(r){return UR[r]}function ZR(r){return PR[r]}function to(r){return{fieldPath:r.canonicalString()}}function eo(r){return sn.fromServerFormat(r.fieldPath)}function hE(r){return r instanceof Ge?(function(i){if(i.op==="=="){if(B0(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NAN"}};if(z0(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(B0(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NOT_NAN"}};if(z0(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(i.field),op:$R(i.op),value:i.value}}})(r):r instanceof Gi?(function(i){const a=i.getFilters().map((l=>hE(l)));return a.length===1?a[0]:{compositeFilter:{op:ZR(i.op),filters:a}}})(r):Tt(54877,{filter:r})}function JR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function fE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class lr{constructor(t,i,a,l,c=At.min(),d=At.min(),g=rn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new lr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class WR{constructor(t){this.yt=t}}function tx(r){const t=KR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?_m(t,t.limit,"L"):t}class ex{constructor(){this.Cn=new nx}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(gr.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(gr.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class nx{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Fe(ye.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Fe(ye.comparator)).toArray()}}const ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dE=41943040;class bn{static withCacheSize(t){return new bn(t,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(dE,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class po{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new po(0)}static cr(){return new po(-1)}}const nv="LruGarbageCollector",ix=1048576;function iv([r,t],[i,a]){const l=jt(r,i);return l===0?jt(t,a):l}class sx{constructor(t){this.Ir=t,this.buffer=new Fe(iv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();iv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class rx{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ct(nv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){bo(i)?ct(nv,"Ignoring IndexedDB error during garbage collection: ",i):await To(i)}await this.Vr(3e5)}))}}class ax{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(Th.ce);const a=new sx(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(ev)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ev):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,g,y,_;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(a=w,g=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(_=Date.now(),Ja()<=Pt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${w} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function ox(r,t){return new ax(r,t)}class lx{constructor(){this.changes=new ua((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,cn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class ux{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class cx{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&kl(a.mutation,l,Vn.empty(),de.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=zt()){const l=na();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=xl();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=na();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,zt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=Ts();const d=Vl(),g=(function(){return Vl()})();return i.forEach(((y,_)=>{const E=a.get(_.key);l.has(_.key)&&(E===void 0||E.mutation instanceof Sr)?c=c.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),kl(E.mutation,_,E.mutation.getFieldMask(),de.now())):d.set(_.key,Vn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,E)=>d.set(_,E))),i.forEach(((_,E)=>g.set(_,new ux(E,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Vl();let l=new _e(((d,g)=>d-g)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let E=a.get(y)||Vn.empty();E=g.applyToLocalView(_,E),a.set(y,E);const w=(l.get(g.batchId)||zt()).add(y);l=l.insert(g.batchId,w)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,E=y.value,w=K1();E.forEach((M=>{if(!c.has(M)){const q=eE(i.get(M),a.get(M));q!==null&&w.set(M,q),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,w))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return _t.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):dR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):Z.resolve(na());let g=jl,y=c;return d.next((_=>Z.forEach(_,((E,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(t,E).next((M=>{y=y.insert(E,M)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,zt()))).next((E=>({batchId:g,changes:Q1(E)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new _t(i)).next((a=>{let l=xl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=xl();return this.indexManager.getCollectionParents(t,c).next((g=>Z.forEach(g,(y=>{const _=(function(w,M){return new Ah(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((E=>{E.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,cn.newInvalidDocument(E)))}));let g=xl();return d.forEach(((y,_)=>{const E=c.get(y);E!==void 0&&kl(E.mutation,_,Vn.empty(),de.now()),xh(i,_)&&(g=g.insert(y,_))})),g}))}}class hx{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:zi(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:tx(l.bundledQuery),readTime:zi(l.readTime)}})(i)),Z.resolve()}}class fx{constructor(){this.overlays=new _e(_t.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=na();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const l=na(),c=i.length+1,d=new _t(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new _e(((_,E)=>_-E));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let E=c.get(_.largestBatchId);E===null&&(E=na(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const g=na(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>g.set(_,E))),!(g.size()>=l)););return Z.resolve(g)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new NR(i,a));let c=this.qr.get(i);c===void 0&&(c=zt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class dx{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class ip{constructor(){this.Qr=new Fe(Xe.$r),this.Ur=new Fe(Xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Xe(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Xe(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new _t(new ye([])),a=new Xe(i,t),l=new Xe(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new _t(new ye([])),a=new Xe(i,t),l=new Xe(i,t+1);let c=zt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Xe(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Xe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return _t.comparator(t.key,i.key)||jt(t.Yr,i.Yr)}static Kr(t,i){return jt(t.Yr,i.Yr)||_t.comparator(t.key,i.key)}}class mx{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Fe(Xe.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new IR(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Xe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Km:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Xe(i,0),l=new Xe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Fe(jt);return i.forEach((l=>{const c=new Xe(l,0),d=new Xe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;_t.isDocumentKey(c)||(c=c.child(""));const d=new Xe(new _t(c),0);let g=new Fe(jt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Jt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new Xe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Xe(i,0),l=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class px{constructor(t){this.ri=t,this.docs=(function(){return new _e(_t.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():cn.newInvalidDocument(i))}getEntries(t,i){let a=Ts();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():cn.newInvalidDocument(l))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=Ts();const d=i.path,g=new _t(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Gw(qw(E),a)<=0||(l.has(E.key)||xh(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,a,l){Tt(9500)}ii(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new gx(this)}getSize(t){return Z.resolve(this.size)}}class gx extends lx{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class yx{constructor(t){this.persistence=t,this.si=new ua((i=>$m(i)),Zm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new ip,this.targetCount=0,this.ai=po.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new po(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class mE{constructor(t,i){this.ui={},this.overlays={},this.ci=new Th(0),this.li=!1,this.li=!0,this.hi=new dx,this.referenceDelegate=t(this),this.Pi=new yx(this),this.indexManager=new ex,this.remoteDocumentCache=(function(l){return new px(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new WR(i),this.Ii=new hx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new fx,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new mx(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ct("MemoryPersistence","Starting transaction:",t);const l=new _x(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class _x extends Qw{constructor(t){super(),this.currentSequenceNumber=t}}class sp{constructor(t){this.persistence=t,this.Ri=new ip,this.Vi=null}static mi(t){return new sp(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const l=_t.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,At.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class dh{constructor(t,i){this.persistence=t,this.pi=new ua((a=>Xw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=ox(this,i)}static mi(t,i){return new dh(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,c.removeEntry(d,At.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Qc(t.data.value)),i}br(t,i,a){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class rp{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=zt(),l=zt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new rp(t,i.fromCache,a,l)}}class vx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Ex{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return lS()?8:Kw(hn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new vx;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Ja()<=Pt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",Wa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Ja()<=Pt.DEBUG&&ct("QueryEngine","Query:",Wa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Ja()<=Pt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",Wa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ji(i))):Z.resolve())}ys(t,i){if(F0(i))return Z.resolve(null);let a=ji(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=_m(i,null,"F"),a=ji(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=zt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(t,_m(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return F0(i)||l.isEqual(At.min())?Z.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?Z.resolve(null):(Ja()<=Pt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Wa(i)),this.vs(t,d,i,Hw(l,jl)).next((g=>g)))}))}Ds(t,i){let a=new Fe(G1(t));return i.forEach(((l,c)=>{xh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Ja()<=Pt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",Wa(i)),this.ps.getDocumentsMatchingQuery(t,i,gr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ap="LocalStore",Tx=3e8;class bx{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new _e(jt),this.xs=new ua((c=>$m(c)),Zm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new cx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function Sx(r,t,i,a){return new bx(r,t,i,a)}async function pE(r,t){const i=xt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let y=zt();for(const _ of l){d.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of c){g.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function Ax(r,t){const i=xt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,E){const w=_.batch,M=w.keys();let q=Z.resolve();return M.forEach((et=>{q=q.next((()=>E.getEntry(y,et))).next((it=>{const tt=_.docVersions.get(et);Jt(tt!==null,48541),it.version.compareTo(tt)<0&&(w.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),E.addEntry(it)))}))})),q.next((()=>g.mutationQueue.removeMutationBatch(y,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let y=zt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function gE(r){const t=xt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function wx(r,t){const i=xt(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((E,w)=>{const M=l.get(w);if(!M)return;g.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,w))));let q=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?q=q.withResumeToken(rn.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(E.resumeToken,a)),l=l.insert(w,q),(function(it,tt,lt){return it.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=Tx?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(M,q,E)&&g.push(i.Pi.updateTargetData(c,q))}));let y=Ts(),_=zt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(Rx(c,d,t.documentUpdates).next((E=>{y=E.ks,_=E.qs}))),!a.isEqual(At.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(E)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function Rx(r,t,i){let a=zt(),l=zt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=Ts();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(At.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):ct(ap,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function xx(r,t){const i=xt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Km),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function Cx(r,t){const i=xt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new lr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function Sm(r,t,i){const a=xt(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!bo(d))throw d;ct(ap,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function sv(r,t,i){const a=xt(r);let l=At.min(),c=zt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,E){const w=xt(y),M=w.xs.get(E);return M!==void 0?Z.resolve(w.Ms.get(M)):w.Pi.getTargetData(_,E)})(a,d,ji(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:At.min(),i?c:zt()))).next((g=>(Ix(a,pR(t),g),{documents:g,Qs:c})))))}function Ix(r,t,i){let a=r.Os.get(t)||At.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class rv{constructor(){this.activeTargetIds=TR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Nx{constructor(){this.Mo=new rv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new rv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Dx{Oo(t){}shutdown(){}}const av="ConnectivityMonitor";class ov{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(av,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ct(av,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Uc=null;function Am(){return Uc===null?Uc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uc++,"0x"+Uc.toString(16)}const $d="RestConnection",Ox={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Mx{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===oh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=Am(),g=this.zo(t,i.toUriEncodedString());ct($d,`Sending RPC '${t}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(g),E=yo(_);return this.Jo(t,g,y,a,E).then((w=>(ct($d,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw uo($d,`RPC '${t}' ${d} failed with error: `,w,"url: ",g,"request:",a),w}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Eo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=Ox[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class Vx{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const ln="WebChannelConnection";class kx extends Mx{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=Am();return new Promise(((g,y)=>{const _=new v1;_.setWithCredentials(!0),_.listenOnce(E1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Fc.NO_ERROR:const w=_.getResponseJson();ct(ln,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),g(w);break;case Fc.TIMEOUT:ct(ln,`RPC '${t}' ${d} timed out`),y(new dt(J.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const M=_.getStatus();if(ct(ln,`RPC '${t}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const et=q?.error;if(et&&et.status&&et.message){const it=(function(lt){const pt=lt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(pt)>=0?pt:J.UNKNOWN})(et.status);y(new dt(it,et.message))}else y(new dt(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new dt(J.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ct(ln,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(l);ct(ln,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",E,a,15)}))}T_(t,i,a){const l=Am(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=S1(),g=b1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const E=c.join("");ct(ln,`Creating RPC '${t}' stream ${l}: ${E}`,y);const w=d.createWebChannel(E,y);this.I_(w);let M=!1,q=!1;const et=new Vx({Yo:tt=>{q?ct(ln,`Not sending because RPC '${t}' stream ${l} is closed:`,tt):(M||(ct(ln,`Opening RPC '${t}' stream ${l} transport.`),w.open(),M=!0),ct(ln,`RPC '${t}' stream ${l} sending:`,tt),w.send(tt))},Zo:()=>w.close()}),it=(tt,lt,pt)=>{tt.listen(lt,(mt=>{try{pt(mt)}catch(Ft){setTimeout((()=>{throw Ft}),0)}}))};return it(w,Rl.EventType.OPEN,(()=>{q||(ct(ln,`RPC '${t}' stream ${l} transport opened.`),et.o_())})),it(w,Rl.EventType.CLOSE,(()=>{q||(q=!0,ct(ln,`RPC '${t}' stream ${l} transport closed`),et.a_(),this.E_(w))})),it(w,Rl.EventType.ERROR,(tt=>{q||(q=!0,uo(ln,`RPC '${t}' stream ${l} transport errored. Name:`,tt.name,"Message:",tt.message),et.a_(new dt(J.UNAVAILABLE,"The operation could not be completed")))})),it(w,Rl.EventType.MESSAGE,(tt=>{if(!q){const lt=tt.data[0];Jt(!!lt,16349);const pt=lt,mt=pt?.error||pt[0]?.error;if(mt){ct(ln,`RPC '${t}' stream ${l} received error:`,mt);const Ft=mt.status;let Qt=(function(A){const x=je[A];if(x!==void 0)return iE(x)})(Ft),Bt=mt.message;Qt===void 0&&(Qt=J.INTERNAL,Bt="Unknown error status: "+Ft+" with message "+mt.message),q=!0,et.a_(new dt(Qt,Bt)),w.close()}else ct(ln,`RPC '${t}' stream ${l} received:`,lt),et.u_(lt)}})),it(g,T1.STAT_EVENT,(tt=>{tt.stat===fm.PROXY?ct(ln,`RPC '${t}' stream ${l} detected buffering proxy`):tt.stat===fm.NOPROXY&&ct(ln,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{et.__()}),0),et}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Zd(){return typeof document<"u"?document:null}function Dh(r){return new jR(r,!0)}class yE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ct("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const lv="PersistentStream";class _E{constructor(t,i,a,l,c,d,g,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Es(i.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new dt(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ct(lv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ct(lv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Lx extends _E{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=HR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?zi(d.readTime):At.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=bm(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=ym(y)?{documents:FR(c,y)}:{query:QR(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=aE(c,d.resumeToken);const _=vm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=fh(c,d.snapshotVersion.toTimestamp());const _=vm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const a=YR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=bm(this.serializer),i.removeTarget=t,this.q_(i)}}class Ux extends _E{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=GR(t.writeResults,t.commitTime),a=zi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=bm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>qR(this.serializer,a)))};this.q_(i)}}class Px{}class jx extends Px{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new dt(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Em(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new dt(J.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,Em(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new dt(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zx{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Es(i),this.aa=!1):ct("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oa="RemoteStore";class Bx{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ca(this)&&(ct(oa,"Restarting streams for network reachability change."),await(async function(y){const _=xt(y);_.Ea.add(4),await nu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Oh(_)})(this))}))})),this.Ra=new zx(a,l)}}async function Oh(r){if(ca(r))for(const t of r.da)await t(!0)}async function nu(r){for(const t of r.da)await t(!1)}function vE(r,t){const i=xt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),cp(i)?up(i):So(i).O_()&&lp(i,t))}function op(r,t){const i=xt(r),a=So(i);i.Ia.delete(t),a.O_()&&EE(i,t),i.Ia.size===0&&(a.O_()?a.L_():ca(i)&&i.Ra.set("Unknown"))}function lp(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}So(r).Y_(t)}function EE(r,t){r.Va.Ue(t),So(r).Z_(t)}function up(r){r.Va=new kR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),So(r).start(),r.Ra.ua()}function cp(r){return ca(r)&&!So(r).x_()&&r.Ia.size>0}function ca(r){return xt(r).Ea.size===0}function TE(r){r.Va=void 0}async function Hx(r){r.Ra.set("Online")}async function qx(r){r.Ia.forEach(((t,i)=>{lp(r,t)}))}async function Gx(r,t){TE(r),cp(r)?(r.Ra.ha(t),up(r)):r.Ra.set("Unknown")}async function Fx(r,t,i){if(r.Ra.set("Online"),t instanceof rE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,t)}catch(a){ct(oa,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await mh(r,a)}else if(t instanceof Xc?r.Va.Ze(t):t instanceof sE?r.Va.st(t):r.Va.tt(t),!i.isEqual(At.min()))try{const a=await gE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(_);E&&c.Ia.set(_,E.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(rn.EMPTY_BYTE_STRING,E.snapshotVersion)),EE(c,y);const w=new lr(E.target,y,_,E.sequenceNumber);lp(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){ct(oa,"Failed to raise snapshot:",a),await mh(r,a)}}async function mh(r,t,i){if(!bo(t))throw t;r.Ea.add(1),await nu(r),r.Ra.set("Offline"),i||(i=()=>gE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ct(oa,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Oh(r)}))}function bE(r,t){return t().catch((i=>mh(r,i,t)))}async function Mh(r){const t=xt(r),i=Er(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Km;for(;Qx(t);)try{const l=await xx(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,Kx(t,l)}catch(l){await mh(t,l)}SE(t)&&AE(t)}function Qx(r){return ca(r)&&r.Ta.length<10}function Kx(r,t){r.Ta.push(t);const i=Er(r);i.O_()&&i.X_&&i.ea(t.mutations)}function SE(r){return ca(r)&&!Er(r).x_()&&r.Ta.length>0}function AE(r){Er(r).start()}async function Yx(r){Er(r).ra()}async function Xx(r){const t=Er(r);for(const i of r.Ta)t.ea(i.mutations)}async function $x(r,t,i){const a=r.Ta.shift(),l=tp.from(a,t,i);await bE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Mh(r)}async function Zx(r,t){t&&Er(r).X_&&await(async function(a,l){if((function(d){return OR(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();Er(a).B_(),await bE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Mh(a)}})(r,t),SE(r)&&AE(r)}async function uv(r,t){const i=xt(r);i.asyncQueue.verifyOperationInProgress(),ct(oa,"RemoteStore received new credentials");const a=ca(i);i.Ea.add(3),await nu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Oh(i)}async function Jx(r,t){const i=xt(r);t?(i.Ea.delete(2),await Oh(i)):t||(i.Ea.add(2),await nu(i),i.Ra.set("Unknown"))}function So(r){return r.ma||(r.ma=(function(i,a,l){const c=xt(i);return c.sa(),new Lx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:Hx.bind(null,r),t_:qx.bind(null,r),r_:Gx.bind(null,r),H_:Fx.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),cp(r)?up(r):r.Ra.set("Unknown")):(await r.ma.stop(),TE(r))}))),r.ma}function Er(r){return r.fa||(r.fa=(function(i,a,l){const c=xt(i);return c.sa(),new Ux(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Yx.bind(null,r),r_:Zx.bind(null,r),ta:Xx.bind(null,r),na:$x.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Mh(r)):(await r.fa.stop(),r.Ta.length>0&&(ct(oa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class hp{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new hp(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fp(r,t){if(Es("AsyncQueue",`${t}: ${r}`),bo(r))return new dt(J.UNAVAILABLE,`${t}: ${r}`);throw r}class ao{static emptySet(t){return new ao(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||_t.comparator(i.key,a.key):(i,a)=>_t.comparator(i.key,a.key),this.keyedMap=xl(),this.sortedSet=new _e(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ao)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new ao;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class cv{constructor(){this.ga=new _e(_t.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class go{constructor(t,i,a,l,c,d,g,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new go(t,i,ao.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class Wx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class tC{constructor(){this.queries=hv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=xt(i),c=l.queries;l.queries=hv(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(a)}))})(this,new dt(J.ABORTED,"Firestore shutting down"))}}function hv(){return new ua((r=>q1(r)),Rh)}async function wE(r,t){const i=xt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new Wx,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=fp(d,`Initialization of query '${Wa(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&dp(i)}async function RE(r,t){const i=xt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function eC(r,t){const i=xt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&dp(i)}function nC(r,t,i){const a=xt(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function dp(r){r.Ca.forEach((t=>{t.next()}))}var wm,fv;(fv=wm||(wm={})).Ma="default",fv.Cache="cache";class xE{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new go(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=go.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==wm.Cache}}class CE{constructor(t){this.key=t}}class IE{constructor(t){this.key=t}}class iC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=G1(t),this.tu=new ao(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new cv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,w)=>{const M=l.get(E),q=xh(this.query,w)?w:null,et=!!M&&this.mutatedKeys.has(M.key),it=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let tt=!1;M&&q?M.data.isEqual(q.data)?et!==it&&(a.track({type:3,doc:q}),tt=!0):this.su(M,q)||(a.track({type:2,doc:q}),tt=!0,(y&&this.eu(q,y)>0||_&&this.eu(q,_)<0)&&(g=!0)):!M&&q?(a.track({type:0,doc:q}),tt=!0):M&&!q&&(a.track({type:1,doc:M}),tt=!0,(y||_)&&(g=!0)),tt&&(q?(d=d.add(q),c=it?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,w)=>(function(q,et){const it=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:tt})}};return it(q)-it(et)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new go(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new IE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new CE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mp="SyncEngine";class sC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class rC{constructor(t){this.key=t,this.hu=!1}}class aC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ua((g=>q1(g)),Rh),this.Iu=new Map,this.Eu=new Set,this.du=new _e(_t.comparator),this.Au=new Map,this.Ru=new ip,this.Vu={},this.mu=new Map,this.fu=po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oC(r,t,i=!0){const a=kE(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await NE(a,t,i,!0),l}async function lC(r,t){const i=kE(r);await NE(i,t,!0,!1)}async function NE(r,t,i,a){const l=await Cx(r.localStore,ji(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await uC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&vE(r.remoteStore,l),g}async function uC(r,t,i,a,l){r.pu=(w,M,q)=>(async function(it,tt,lt,pt){let mt=tt.view.ru(lt);mt.Cs&&(mt=await sv(it.localStore,tt.query,!1).then((({documents:I})=>tt.view.ru(I,mt))));const Ft=pt&&pt.targetChanges.get(tt.targetId),Qt=pt&&pt.targetMismatches.get(tt.targetId)!=null,Bt=tt.view.applyChanges(mt,it.isPrimaryClient,Ft,Qt);return mv(it,tt.targetId,Bt.au),Bt.snapshot})(r,w,M,q);const c=await sv(r.localStore,t,!0),d=new iC(t,c.Qs),g=d.ru(c.documents),y=eu.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,y);mv(r,i,_.au);const E=new sC(t,i,d);return r.Tu.set(t,E),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function cC(r,t,i){const a=xt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Rh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Sm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&op(a.remoteStore,l.targetId),Rm(a,l.targetId)})).catch(To)):(Rm(a,l.targetId),await Sm(a.localStore,l.targetId,!0))}async function hC(r,t){const i=xt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),op(i.remoteStore,a.targetId))}async function fC(r,t,i){const a=vC(r);try{const l=await(function(d,g){const y=xt(d),_=de.now(),E=g.reduce(((q,et)=>q.add(et.key)),zt());let w,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let et=Ts(),it=zt();return y.Ns.getEntries(q,E).next((tt=>{et=tt,et.forEach(((lt,pt)=>{pt.isValidDocument()||(it=it.add(lt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(q,et))).next((tt=>{w=tt;const lt=[];for(const pt of g){const mt=xR(pt,w.get(pt.key).overlayedDocument);mt!=null&&lt.push(new Sr(pt.key,mt,L1(mt.value.mapValue),di.exists(!0)))}return y.mutationQueue.addMutationBatch(q,_,lt,g)})).next((tt=>{M=tt;const lt=tt.applyToLocalDocumentSet(w,it);return y.documentOverlayCache.saveOverlays(q,tt.batchId,lt)}))})).then((()=>({batchId:M.batchId,changes:Q1(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new _e(jt)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await iu(a,l.changes),await Mh(a.remoteStore)}catch(l){const c=fp(l,"Failed to persist write");i.reject(c)}}async function DE(r,t){const i=xt(r);try{const a=await wx(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Jt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Jt(d.hu,14607):l.removedDocuments.size>0&&(Jt(d.hu,42227),d.hu=!1))})),await iu(i,a,t)}catch(a){await To(a)}}function dv(r,t,i){const a=xt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=xt(d);y.onlineState=g;let _=!1;y.queries.forEach(((E,w)=>{for(const M of w.Sa)M.va(g)&&(_=!0)})),_&&dp(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function dC(r,t,i){const a=xt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new _e(_t.comparator);d=d.insert(c,cn.newNoDocument(c,At.min()));const g=zt().add(c),y=new Nh(At.min(),new Map,new _e(jt),d,g);await DE(a,y),a.du=a.du.remove(c),a.Au.delete(t),pp(a)}else await Sm(a.localStore,t,!1).then((()=>Rm(a,t,i))).catch(To)}async function mC(r,t){const i=xt(r),a=t.batch.batchId;try{const l=await Ax(i.localStore,t);ME(i,a,null),OE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await iu(i,l)}catch(l){await To(l)}}async function pC(r,t,i){const a=xt(r);try{const l=await(function(d,g){const y=xt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return y.mutationQueue.lookupMutationBatch(_,g).next((w=>(Jt(w!==null,37113),E=w.keys(),y.mutationQueue.removeMutationBatch(_,w)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>y.localDocuments.getDocuments(_,E)))}))})(a.localStore,t);ME(a,t,i),OE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await iu(a,l)}catch(l){await To(l)}}function OE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function ME(r,t,i){const a=xt(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Rm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||VE(r,a)}))}function VE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(op(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),pp(r))}function mv(r,t,i){for(const a of i)a instanceof CE?(r.Ru.addReference(a.key,t),gC(r,a)):a instanceof IE?(ct(mp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||VE(r,a.key)):Tt(19791,{wu:a})}function gC(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ct(mp,"New document in limbo: "+i),r.Eu.add(a),pp(r))}function pp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new _t(ye.fromString(t)),a=r.fu.next();r.Au.set(a,new rC(i)),r.du=r.du.insert(i,a),vE(r.remoteStore,new lr(ji(wh(i.path)),a,"TargetPurposeLimboResolution",Th.ce))}}async function iu(r,t,i){const a=xt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const E=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){l.push(_);const E=rp.As(y.targetId,_);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const E=xt(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Z.forEach(_,(M=>Z.forEach(M.Es,(q=>E.persistence.referenceDelegate.addReference(w,M.targetId,q))).next((()=>Z.forEach(M.ds,(q=>E.persistence.referenceDelegate.removeReference(w,M.targetId,q)))))))))}catch(w){if(!bo(w))throw w;ct(ap,"Failed to update sequence numbers: "+w)}for(const w of _){const M=w.targetId;if(!w.fromCache){const q=E.Ms.get(M),et=q.snapshotVersion,it=q.withLastLimboFreeSnapshotVersion(et);E.Ms=E.Ms.insert(M,it)}}})(a.localStore,c))}async function yC(r,t){const i=xt(r);if(!i.currentUser.isEqual(t)){ct(mp,"User change. New user:",t.toKey());const a=await pE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new dt(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await iu(i,a.Ls)}}function _C(r,t){const i=xt(r),a=i.Au.get(t);if(a&&a.hu)return zt().add(a.key);{let l=zt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function kE(r){const t=xt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=DE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_C.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dC.bind(null,t),t.Pu.H_=eC.bind(null,t.eventManager),t.Pu.yu=nC.bind(null,t.eventManager),t}function vC(r){const t=xt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pC.bind(null,t),t}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Dh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return Sx(this.persistence,new Ex,t.initialUser,this.serializer)}Cu(t){return new mE(sp.mi,this.serializer)}Du(t){return new Nx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class EC extends ph{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Jt(this.persistence.referenceDelegate instanceof dh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new rx(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new mE((a=>dh.mi(a,i)),this.serializer)}}class xm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>dv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=yC.bind(null,this.syncEngine),await Jx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new tC})()}createDatastore(t){const i=Dh(t.databaseInfo.databaseId),a=(function(c){return new kx(c)})(t.databaseInfo);return(function(c,d,g,y){return new jx(c,d,g,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new Bx(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>dv(this.syncEngine,i,0)),(function(){return ov.v()?new ov:new Dx})())}createSyncEngine(t,i){return(function(l,c,d,g,y,_,E){const w=new aC(l,c,d,g,y,_);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=xt(i);ct(oa,"RemoteStore shutting down."),a.Ea.add(5),await nu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xm.provider={build:()=>new xm};class LE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Es("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Tr="FirestoreClient";class TC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=un.UNAUTHENTICATED,this.clientId=Fm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ct(Tr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ct(Tr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=fp(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Jd(r,t){r.asyncQueue.verifyOperationInProgress(),ct(Tr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await pE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function pv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await bC(r);ct(Tr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>uv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>uv(t.remoteStore,l))),r._onlineComponents=t}async function bC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ct(Tr,"Using user provided OfflineComponentProvider");try{await Jd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;uo("Error using user provided cache. Falling back to memory cache: "+i),await Jd(r,new ph)}}else ct(Tr,"Using default OfflineComponentProvider"),await Jd(r,new EC(void 0));return r._offlineComponents}async function UE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ct(Tr,"Using user provided OnlineComponentProvider"),await pv(r,r._uninitializedComponentsProvider._online)):(ct(Tr,"Using default OnlineComponentProvider"),await pv(r,new xm))),r._onlineComponents}function SC(r){return UE(r).then((t=>t.syncEngine))}async function Cm(r){const t=await UE(r),i=t.eventManager;return i.onListen=oC.bind(null,t.syncEngine),i.onUnlisten=cC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=lC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=hC.bind(null,t.syncEngine),i}function AC(r,t,i={}){const a=new mr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,_){const E=new LE({next:M=>{E.Nu(),d.enqueueAndForget((()=>RE(c,w)));const q=M.docs.has(g);!q&&M.fromCache?_.reject(new dt(J.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&M.fromCache&&y&&y.source==="server"?_.reject(new dt(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),w=new xE(wh(g.path),E,{includeMetadataChanges:!0,qa:!0});return wE(c,w)})(await Cm(r),r.asyncQueue,t,i,a))),a.promise}function PE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const gv=new Map;const jE="firestore.googleapis.com",yv=!0;class _v{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new dt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jE,this.ssl=yv}else this.host=t.host,this.ssl=t.ssl??yv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=dE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ix)throw new dt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Bw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new dt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new dt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new dt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class gp{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _v({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new dt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _v(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Nw;switch(a.type){case"firstParty":return new Vw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new dt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=gv.get(i);a&&(ct("ComponentProvider","Removing Datastore"),gv.delete(i),a.terminate())})(this),Promise.resolve()}}function wC(r,t,i,a={}){r=fi(r,gp);const l=yo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;l&&(Mv(`https://${g}`),Vv("Firestore",!0)),c.host!==jE&&c.host!==g&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:l,emulatorOptions:a};if(!pr(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,E;if(typeof a.mockUserToken=="string")_=a.mockUserToken,E=un.MOCK_USER;else{_=Wb(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new dt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new un(w)}r._authCredentials=new Dw(new w1(_,E))}}class Vh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Vh(this.firestore,t,this._query)}}class Be{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Be(this.firestore,t,this._key)}toJSON(){return{type:Be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Wl(i,Be._jsonSchema))return new Be(t,a||null,new _t(ye.fromString(i.referencePath)))}}Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:ze("string",Be._jsonSchemaVersion),referencePath:ze("string")};class Fl extends Vh{constructor(t,i,a){super(t,i,wh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Be(this.firestore,null,new _t(t))}withConverter(t){return new Fl(this.firestore,t,this._path)}}function xe(r,t,...i){if(r=mn(r),arguments.length===1&&(t=Fm.newId()),zw("doc","path",t),r instanceof gp){const a=ye.fromString(t,...i);return O0(a),new Be(r,null,new _t(a))}{if(!(r instanceof Be||r instanceof Fl))throw new dt(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ye.fromString(t,...i));return O0(a),new Be(r.firestore,r instanceof Fl?r.converter:null,new _t(a))}}const vv="AsyncQueue";class Ev{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yE(this,"async_queue_retry"),this._c=()=>{const a=Zd();a&&ct(vv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!bo(t))throw t;ct(vv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Es("INTERNAL UNHANDLED ERROR: ",Tv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=hp.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Tt(47125,{Pc:Tv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Tv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function bv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class la extends gp{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Ev,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Ev(t),this._firestoreClient=void 0,await t}}}function RC(r,t){const i=typeof r=="object"?r:Pv(),a=typeof r=="string"?r:oh,l=km(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Zb("firestore");c&&wC(l,...c)}return l}function yp(r){if(r._terminated)throw new dt(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||xC(r),r._firestoreClient}function xC(r){const t=r._freezeSettings(),i=(function(l,c,d,g){return new Jw(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,PE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new TC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class $n{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $n(rn.fromBase64String(t))}catch(i){throw new dt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new $n(rn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Wl(t,$n._jsonSchema))return $n.fromBase64String(t.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:ze("string",$n._jsonSchemaVersion),bytes:ze("string")};class kh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new dt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class su{constructor(t){this._methodName=t}}class Bi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new dt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new dt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(t){if(Wl(t,Bi._jsonSchema))return new Bi(t.latitude,t.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:ze("string",Bi._jsonSchemaVersion),latitude:ze("number"),longitude:ze("number")};class Hi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Wl(t,Hi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Hi(t.vectorValues);throw new dt(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hi._jsonSchemaVersion="firestore/vectorValue/1.0",Hi._jsonSchema={type:ze("string",Hi._jsonSchemaVersion),vectorValues:ze("object")};const CC=/^__.*__$/;class IC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Sr(t,this.data,this.fieldMask,i,this.fieldTransforms):new tu(t,this.data,i,this.fieldTransforms)}}class zE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Sr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function BE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:r})}}class Lh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Lh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return gh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(BE(this.Ac)&&CC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class NC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Dh(t)}Cc(t,i,a,l=!1){return new Lh({Ac:t,methodName:i,Dc:a,path:sn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function HE(r){const t=r._freezeSettings(),i=Dh(r._databaseId);return new NC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function DC(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);Ep("Data must be an object, but it was:",d,a);const g=qE(a,d);let y,_;if(c.merge)y=new Vn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const w of c.mergeFields){const M=Im(t,w,i);if(!d.contains(M))throw new dt(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);FE(E,M)||E.push(M)}y=new Vn(E),_=d.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,_=d.fieldTransforms;return new IC(new Sn(g),y,_)}class Uh extends su{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Uh}}function OC(r,t,i){return new Lh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class _p extends su{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=OC(this,t,!0),a=this.vc.map((c=>ru(c,i))),l=new mo(a);return new tE(t.path,l)}isEqual(t){return t instanceof _p&&pr(this.vc,t.vc)}}class vp extends su{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new Gl(t.serializer,X1(t.serializer,this.Fc));return new tE(t.path,i)}isEqual(t){return t instanceof vp&&this.Fc===t.Fc}}function MC(r,t,i,a){const l=r.Cc(1,t,i);Ep("Data must be an object, but it was:",l,a);const c=[],d=Sn.empty();br(a,((y,_)=>{const E=Tp(t,y,i);_=mn(_);const w=l.yc(E);if(_ instanceof Uh)c.push(E);else{const M=ru(_,w);M!=null&&(c.push(E),d.set(E,M))}}));const g=new Vn(c);return new zE(d,g,l.fieldTransforms)}function VC(r,t,i,a,l,c){const d=r.Cc(1,t,i),g=[Im(t,a,i)],y=[l];if(c.length%2!=0)throw new dt(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push(Im(t,c[M])),y.push(c[M+1]);const _=[],E=Sn.empty();for(let M=g.length-1;M>=0;--M)if(!FE(_,g[M])){const q=g[M];let et=y[M];et=mn(et);const it=d.yc(q);if(et instanceof Uh)_.push(q);else{const tt=ru(et,it);tt!=null&&(_.push(q),E.set(q,tt))}}const w=new Vn(_);return new zE(E,w,d.fieldTransforms)}function ru(r,t){if(GE(r=mn(r)))return Ep("Unsupported field value:",t,r),qE(r,t);if(r instanceof su)return(function(a,l){if(!BE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let y=ru(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=mn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return X1(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=de.fromDate(a);return{timestampValue:fh(l.serializer,c)}}if(a instanceof de){const c=new de(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:fh(l.serializer,c)}}if(a instanceof Bi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof $n)return{bytesValue:aE(l.serializer,a._byteString)};if(a instanceof Be){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:np(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Hi)return(function(d,g){return{mapValue:{fields:{[V1]:{stringValue:k1},[lh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Jm(g.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Qm(a)}`)})(r,t)}function qE(r,t){const i={};return C1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):br(r,((a,l)=>{const c=ru(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function GE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof de||r instanceof Bi||r instanceof $n||r instanceof Be||r instanceof su||r instanceof Hi)}function Ep(r,t,i){if(!GE(i)||!R1(i)){const a=Qm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Im(r,t,i){if((t=mn(t))instanceof kh)return t._internalPath;if(typeof t=="string")return Tp(r,t);throw gh("Field path arguments must be of type string or ",r,!1,void 0,i)}const kC=new RegExp("[~\\*/\\[\\]]");function Tp(r,t,i){if(t.search(kC)>=0)throw gh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new kh(...t.split("."))._internalPath}catch{throw gh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function gh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new dt(J.INVALID_ARGUMENT,g+r+y)}function FE(r,t){return r.some((i=>i.isEqual(t)))}class QE{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new LC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(KE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class LC extends QE{data(){return super.data()}}function KE(r,t){return typeof t=="string"?Tp(r,t):t instanceof kh?t._internalPath:t._delegate._internalPath}function UC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new dt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PC{convertValue(t,i="none"){switch(vr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ne(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(_r(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return br(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[lh].arrayValue?.values?.map((a=>Ne(a.doubleValue)));return new Hi(i)}convertGeoPoint(t){return new Bi(Ne(t.latitude),Ne(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Sh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(zl(t));default:return null}}convertTimestamp(t){const i=yr(t);return new de(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ye.fromString(t);Jt(fE(a),9688,{name:t});const l=new Bl(a.get(1),a.get(3)),c=new _t(a.popFirst(5));return l.isEqual(i)||Es(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function jC(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Il{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ia extends QE{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(KE("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ia._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:ze("string",ia._jsonSchemaVersion),bundleSource:ze("string","DocumentSnapshot"),bundleName:ze("string"),bundle:ze("string")};class $c extends ia{data(t={}){return super.data(t)}}class oo{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Il(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new $c(this._firestore,this._userDataWriter,a.key,a,new Il(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new dt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new $c(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Il(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new $c(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Il(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,E=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:zC(g.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=oo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Fm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function zC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:r})}}function BC(r){r=fi(r,Be);const t=fi(r.firestore,la);return AC(yp(t),r._key).then((i=>XE(t,r,i)))}oo._jsonSchemaVersion="firestore/querySnapshot/1.0",oo._jsonSchema={type:ze("string",oo._jsonSchemaVersion),bundleSource:ze("string","QuerySnapshot"),bundleName:ze("string"),bundle:ze("string")};class YE extends PC{constructor(t){super(),this.firestore=t}convertBytes(t){return new $n(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Be(this.firestore,null,i)}}function HC(r,t,i){r=fi(r,Be);const a=fi(r.firestore,la),l=jC(r.converter,t);return bp(a,[DC(HE(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,di.none())])}function qe(r,t,i,...a){r=fi(r,Be);const l=fi(r.firestore,la),c=HE(l);let d;return d=typeof(t=mn(t))=="string"||t instanceof kh?VC(c,"updateDoc",r._key,t,i,a):MC(c,"updateDoc",r._key,t),bp(l,[d.toMutation(r._key,di.exists(!0))])}function qC(r){return bp(fi(r.firestore,la),[new Wm(r._key,di.none())])}function GC(r,...t){r=mn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||bv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(bv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,g;if(r instanceof Be)d=fi(r.firestore,la),g=wh(r._key.path),c={next:y=>{t[a]&&t[a](XE(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=fi(r,Vh);d=fi(y.firestore,la),g=y._query;const _=new YE(d);c={next:E=>{t[a]&&t[a](new oo(d,_,y,E))},error:t[a+1],complete:t[a+2]},UC(r._query)}return(function(_,E,w,M){const q=new LE(M),et=new xE(E,q,w);return _.asyncQueue.enqueueAndForget((async()=>wE(await Cm(_),et))),()=>{q.Nu(),_.asyncQueue.enqueueAndForget((async()=>RE(await Cm(_),et)))}})(yp(d),g,l,c)}function bp(r,t){return(function(a,l){const c=new mr;return a.asyncQueue.enqueueAndForget((async()=>fC(await SC(a),l,c))),c.promise})(yp(r),t)}function XE(r,t,i){const a=i.docs.get(t._key),l=new YE(r);return new ia(r,l,t._key,a,new Il(i.hasPendingWrites,i.fromCache),t.converter)}function Mn(...r){return new _p("arrayUnion",r)}function FC(r){return new vp("increment",r)}(function(t,i=!0){(function(l){Eo=l})(_o),lo(new sa("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new la(new Ow(a.getProvider("auth-internal")),new kw(d,a.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new dt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(_.options.projectId,E)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),fr(C0,I0,t),fr(C0,I0,"esm2020")})();const QC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),Sv=r=>{const t=KC(r);return t.charAt(0).toUpperCase()+t.slice(1)},$E=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),YC=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var XC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $C=ne.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},y)=>ne.createElement("svg",{ref:y,...XC,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:$E("lucide",l),...!c&&!YC(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,E])=>ne.createElement(_,E)),...Array.isArray(c)?c:[c]]));const ie=(r,t)=>{const i=ne.forwardRef(({className:a,...l},c)=>ne.createElement($C,{ref:c,iconNode:t,className:$E(`lucide-${QC(Sv(r))}`,`lucide-${r}`,a),...l}));return i.displayName=Sv(r),i};const ZC=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],Ll=ie("anchor",ZC);const JC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],WC=ie("aperture",JC);const tI=[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]],eI=ie("bird",tI);const nI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Wd=ie("book-open",nI);const iI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Pc=ie("circle-check-big",iI);const sI=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],rI=ie("copy",sI);const aI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],tm=ie("crown",aI);const oI=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],ZE=ie("fish",oI);const lI=[["path",{d:"m17.586 11.414-5.93 5.93a1 1 0 0 1-8-8l3.137-3.137a.707.707 0 0 1 1.207.5V10",key:"157y8s"}],["path",{d:"M20.414 8.586 22 7",key:"5g2s34"}],["circle",{cx:"19",cy:"10",r:"2",key:"7363ft"}]],uI=ie("fishing-hook",lI);const cI=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],hI=ie("hammer",cI);const fI=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],dI=ie("hand",fI);const mI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],pI=ie("history",mI);const gI=[["path",{d:"M18 17a1 1 0 0 0-1 1v1a2 2 0 1 0 2-2z",key:"skzb1g"}],["path",{d:"M20.97 3.61a.45.45 0 0 0-.58-.58C10.2 6.6 6.6 10.2 3.03 20.39a.45.45 0 0 0 .58.58C13.8 17.4 17.4 13.8 20.97 3.61",key:"cv9jm7"}],["path",{d:"m6.707 6.707 10.586 10.586",key:"d2l993"}],["path",{d:"M7 5a2 2 0 1 0-2 2h1a1 1 0 0 0 1-1z",key:"i0et4n"}]],yI=ie("kayak",gI);const _I=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Av=ie("log-out",_I);const vI=[["path",{d:"M12 12V4a1 1 0 0 1 1-1h6.297a1 1 0 0 1 .651 1.759l-4.696 4.025",key:"1bx4vc"}],["path",{d:"m12 21-7.414-7.414A2 2 0 0 1 4 12.172V6.415a1.002 1.002 0 0 1 1.707-.707L20 20.009",key:"1h3km6"}],["path",{d:"m12.214 3.381 8.414 14.966a1 1 0 0 1-.167 1.199l-1.168 1.163a1 1 0 0 1-.706.291H6.351a1 1 0 0 1-.625-.219L3.25 18.8a1 1 0 0 1 .631-1.781l4.165.027",key:"1hj4wg"}]],JE=ie("origami",vI);const EI=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],wv=ie("play",EI);const TI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],bI=ie("rotate-ccw",TI);const SI=[["path",{d:"M10 2v15",key:"1qf71f"}],["path",{d:"M7 22a4 4 0 0 1-4-4 1 1 0 0 1 1-1h16a1 1 0 0 1 1 1 4 4 0 0 1-4 4z",key:"1pxcvx"}],["path",{d:"M9.159 2.46a1 1 0 0 1 1.521-.193l9.977 8.98A1 1 0 0 1 20 13H4a1 1 0 0 1-.824-1.567z",key:"5oog16"}]],AI=ie("sailboat",SI);const wI=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Nm=ie("scissors",wI);const RI=[["path",{d:"M14 11a2 2 0 1 1-4 0 4 4 0 0 1 8 0 6 6 0 0 1-12 0 8 8 0 0 1 16 0 10 10 0 1 1-20 0 11.93 11.93 0 0 1 2.42-7.22 2 2 0 1 1 3.16 2.44",key:"1cn552"}]],WE=ie("shell",RI);const xI=[["circle",{cx:"12",cy:"12",r:"8",key:"46899m"}],["path",{d:"M12 2v7.5",key:"1e5rl5"}],["path",{d:"m19 5-5.23 5.23",key:"1ezxxf"}],["path",{d:"M22 12h-7.5",key:"le1719"}],["path",{d:"m19 19-5.23-5.23",key:"p3fmgn"}],["path",{d:"M12 14.5V22",key:"dgcmos"}],["path",{d:"M10.23 13.77 5 19",key:"qwopd4"}],["path",{d:"M9.5 12H2",key:"r7bup8"}],["path",{d:"M10.23 10.23 5 5",key:"k2y7lj"}],["circle",{cx:"12",cy:"12",r:"2.5",key:"ix0uyj"}]],CI=ie("ship-wheel",xI);const II=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],tT=ie("ship",II);const NI=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],DI=ie("snowflake",NI);const OI=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],yh=ie("sparkles",OI);const MI=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],Zc=ie("sword",MI);const VI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],kI=ie("trash-2",VI);const LI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jc=ie("triangle-alert",LI);const UI=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Dm=ie("trophy",UI);const PI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jI=ie("x",PI),zI={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:c0d92602ad20ed876aa637"},eT=Uv(zI),em=Cw(eT),Ce=RC(eT),Ie=typeof __app_id<"u"?__app_id:"paper-oceans",nT=7,zc=r=>r===4?30:r===3?35:40,ur={CRAB:{id:"CRAB",name:"Paper Crab",type:"DUO",points:0,icon:Nm,color:"text-red-400",bg:"bg-red-950",border:"border-red-700",desc:"Pair: Look through discard pile and pick 1 card.",count:9,cardColor:"RED"},BOAT:{id:"BOAT",name:"Origami Boat",type:"DUO",points:0,icon:AI,color:"text-blue-400",bg:"bg-blue-950",border:"border-blue-700",desc:"Pair: Take another turn immediately.",count:8,cardColor:"BLUE"},FISH:{id:"FISH",name:"Flying Fish",type:"DUO",points:0,icon:ZE,color:"text-emerald-400",bg:"bg-emerald-950",border:"border-emerald-700",desc:"Pair: Draw the top card of the deck.",count:7,cardColor:"GREEN"},SHARK:{id:"SHARK",name:"Shadow Shark",type:"DUO",points:0,icon:Zc,color:"text-slate-400",bg:"bg-slate-800",border:"border-slate-600",desc:"Pair: Steal a random card from an opponent.",count:5,cardColor:"BLACK"},SHELL:{id:"SHELL",name:"Spiral Shell",type:"COLLECT",points:0,icon:WE,color:"text-amber-200",bg:"bg-amber-950",border:"border-amber-700",desc:"Set: 2pts per shell.",count:6,cardColor:"YELLOW"},OCTOPUS:{id:"OCTOPUS",name:"Ink Octopus",type:"COLLECT",points:0,icon:WC,color:"text-purple-400",bg:"bg-purple-950",border:"border-purple-700",desc:"Set: 3pts per octopus.",count:5,cardColor:"PURPLE"},PENGUIN:{id:"PENGUIN",name:"Ice Penguin",type:"COLLECT",points:0,icon:eI,color:"text-cyan-200",bg:"bg-cyan-950",border:"border-cyan-700",desc:"Set: 1=1pt, 2=3pts, 3=5pts.",count:3,cardColor:"CYAN"},SAILOR:{id:"SAILOR",name:"Lost Sailor",type:"COLLECT",points:0,icon:yI,color:"text-orange-300",bg:"bg-orange-950",border:"border-orange-700",desc:"Set: 1=0pts, 2=5pts.",count:2,cardColor:"ORANGE"},MERMAID:{id:"MERMAID",name:"Mystic Mermaid",type:"MULTIPLIER",points:0,icon:yh,color:"text-fuchsia-400",bg:"bg-fuchsia-950",border:"border-fuchsia-700",desc:"+1 Point for each card of your most common color.",count:4,cardColor:"MULTI"},SHIP:{id:"SHIP",name:"Ship",type:"MULTIPLIER",points:0,icon:tT,color:"text-blue-200",bg:"bg-blue-900",border:"border-blue-500",desc:"+1 Point for each Boat.",count:1,cardColor:"BLUE"},SHOAL:{id:"SHOAL",name:"Shoal of Fish",type:"MULTIPLIER",points:0,icon:uI,color:"text-emerald-200",bg:"bg-emerald-900",border:"border-emerald-500",desc:"+1 Point for each Fish.",count:1,cardColor:"GREEN"},SNOWMAN:{id:"SNOWMAN",name:"Snowman",type:"MULTIPLIER",points:0,icon:DI,color:"text-cyan-100",bg:"bg-cyan-900",border:"border-cyan-500",desc:"+2 Points for each Penguin.",count:1,cardColor:"CYAN"},CAPTAIN:{id:"CAPTAIN",name:"Captain",type:"MULTIPLIER",points:0,icon:CI,color:"text-orange-200",bg:"bg-orange-900",border:"border-orange-500",desc:"+3 Points for each Sailor.",count:1,cardColor:"ORANGE"}},BI=()=>{let r=[];Object.values(ur).forEach(t=>{for(let i=0;i<t.count;i++)r.push({id:`${t.id}-${Math.random().toString(36).substr(2,9)}`,type:t.id})});for(let t=r.length-1;t>0;t--){const i=Math.floor(Math.random()*(t+1));[r[t],r[i]]=[r[i],r[t]]}return r},wl=(r,t,i=!1)=>{const a=[...r,...t];let l=0;["CRAB","BOAT","FISH","SHARK"].forEach(lt=>{const pt=a.filter(mt=>mt.type===lt).length;l+=Math.floor(pt/2)});const d=a.filter(lt=>lt.type==="SHELL").length;d>0&&(l+=d*2);const g=a.filter(lt=>lt.type==="OCTOPUS").length;l+=g*3;const y=a.filter(lt=>lt.type==="PENGUIN").length;y===1?l+=1:y===2?l+=3:y>=3&&(l+=5);const _=a.filter(lt=>lt.type==="SAILOR").length;if(_===2&&(l+=5),a.some(lt=>lt.type==="SHIP")){const lt=a.filter(pt=>pt.type==="BOAT").length;l+=lt}if(a.some(lt=>lt.type==="SHOAL")){const lt=a.filter(pt=>pt.type==="FISH").length;l+=lt}a.some(lt=>lt.type==="SNOWMAN")&&(l+=y*2),a.some(lt=>lt.type==="CAPTAIN")&&(l+=_*3);const et=a.filter(lt=>lt.type==="MERMAID").length,it={};a.forEach(lt=>{const pt=ur[lt.type],mt=pt?pt.cardColor:null;mt&&mt!=="MULTI"&&(it[mt]=(it[mt]||0)+1)});const tt=Math.max(0,...Object.values(it));return et>0?l+=et*tt:i&&(l+=tt),l},nm=()=>S.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[S.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-blue-900 via-slate-900 to-black"}),S.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-cyan-500/5 mix-blend-overlay"})]}),Rv=()=>S.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-40 mt-auto pb-4 pt-2 relative z-10 pointer-events-none select-none",children:[S.jsx(JE,{size:14,className:"text-cyan-500"}),S.jsx("span",{className:"text-[10px] font-black tracking-[0.2em] text-cyan-500 uppercase",children:"PAPER OCEANS"})]}),HI=({type:r,message:t,subtext:i,icon:a})=>S.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none animate-in fade-in zoom-in duration-300",children:S.jsxs("div",{className:`
      flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-2xl backdrop-blur-xl max-w-sm md:max-w-xl mx-4 text-center
      ${r==="success"?"bg-emerald-900/90 border-emerald-500 text-emerald-100":r==="failure"?"bg-red-900/90 border-red-500 text-red-100":r==="warning"?"bg-amber-900/90 border-amber-500 text-amber-100":"bg-blue-900/90 border-blue-500 text-blue-100"}
    `,children:[a&&S.jsx("div",{className:"mb-4 p-4 bg-black/20 rounded-full",children:S.jsx(a,{size:64,className:"animate-bounce"})}),S.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest drop-shadow-md mb-2",children:t}),i&&S.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide",children:i})]})}),fs=({cardType:r,onClick:t,disabled:i,highlight:a,small:l,tiny:c,count:d})=>{const g=ur[r];if(!g)return S.jsx("div",{className:"w-16 h-24 bg-gray-800 rounded"});if(c)return S.jsx("div",{className:`w-6 h-8 rounded flex items-center justify-center ${g.bg} border ${g.border} shadow-sm shrink-0`,title:g.name,children:S.jsx(g.icon,{size:12,className:g.color})});const y="relative rounded-xl border-2 shadow-lg transition-all flex flex-col items-center justify-between cursor-pointer active:scale-95 select-none",_=l?"w-14 h-20 md:w-16 md:h-24 p-1":"w-20 h-28 sm:w-24 sm:h-36 md:w-28 md:h-44 lg:w-32 lg:h-48 p-2 md:p-3";return S.jsxs("div",{onClick:i?void 0:t,className:`
        ${y} ${_} ${g.bg} ${a?"ring-4 ring-yellow-400 z-10 scale-105":g.border}
        ${i?"opacity-50 grayscale cursor-not-allowed":"hover:brightness-110 hover:-translate-y-1"}
      `,children:[S.jsxs("div",{className:"w-full flex justify-between items-center text-[8px] md:text-[10px] font-bold text-white/70",children:[S.jsx("span",{children:g.type==="DUO"?"DUO":g.type==="COLLECT"?"SET":g.type==="MULTIPLIER"?"MULT":"X"}),d>1&&S.jsxs("span",{className:"bg-black/50 px-1 rounded text-white",children:["x",d]})]}),S.jsx(g.icon,{className:`${g.color}`,size:l?16:28}),S.jsxs("div",{className:"w-full text-center",children:[S.jsx("div",{className:"font-bold text-white text-[8px] sm:text-[9px] md:text-xs lg:text-sm leading-tight mb-1 truncate px-1",children:g.name}),!l&&S.jsx("div",{className:"text-[7px] sm:text-[8px] md:text-[9px] text-white/60 leading-tight bg-black/40 p-1 rounded h-8 flex items-center justify-center overflow-hidden",children:g.desc})]})]})},im=({onClose:r,winPoints:t})=>{const i=a=>Object.values(ur).filter(l=>l.type===a);return S.jsx("div",{className:"fixed inset-0 z-[200] bg-slate-950/95 backdrop-blur-md flex items-center justify-center p-4 animate-in fade-in duration-300",children:S.jsxs("div",{className:"bg-slate-900 border border-slate-700 w-full max-w-5xl rounded-3xl shadow-2xl p-6 md:p-8 relative my-8 max-h-[90vh] flex flex-col",children:[S.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 bg-slate-800 rounded-full hover:bg-red-500/20 hover:text-red-400 transition-colors z-10",children:S.jsx(jI,{size:24})}),S.jsxs("div",{className:"text-center mb-6 shrink-0",children:[S.jsx("h2",{className:"text-3xl md:text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500 tracking-widest uppercase mb-2",children:"Captain's Guide"}),S.jsxs("p",{className:"text-slate-400 text-sm",children:["Reach ",S.jsxs("strong",{children:[t," points"]})," to win. 4 Mermaids wins instantly."]})]}),S.jsxs("div",{className:"overflow-y-auto pr-2 custom-scrollbar flex-1",children:[S.jsxs("div",{className:"mb-8",children:[S.jsxs("h3",{className:"text-lg font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[S.jsx(yh,{className:"text-cyan-500",size:18}),"Duos (Action Pairs)",S.jsx("span",{className:"text-xs font-normal text-slate-400 ml-auto",children:"1 Point per pair  Play pair to activate effect"})]}),S.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:i("DUO").map(a=>S.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-xl border border-slate-700/50 flex items-start gap-3",children:[S.jsx(fs,{cardType:a.id,tiny:!0}),S.jsxs("div",{children:[S.jsxs("div",{className:"font-bold text-slate-200 text-sm flex items-center gap-2",children:[a.name,S.jsxs("span",{className:"text-[10px] bg-black/40 px-1.5 py-0.5 rounded text-slate-500",children:[a.count," in deck"]})]}),S.jsx("p",{className:"text-xs text-slate-400 leading-relaxed mt-1",children:a.desc})]})]},a.id))})]}),S.jsxs("div",{className:"mb-8",children:[S.jsxs("h3",{className:"text-lg font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[S.jsx(WE,{className:"text-amber-500",size:18}),"Collectors (Sets)",S.jsx("span",{className:"text-xs font-normal text-slate-400 ml-auto",children:"Score increases with quantity"})]}),S.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:i("COLLECT").map(a=>S.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-xl border border-slate-700/50 flex items-start gap-3",children:[S.jsx(fs,{cardType:a.id,tiny:!0}),S.jsxs("div",{className:"w-full",children:[S.jsxs("div",{className:"font-bold text-slate-200 text-sm flex items-center gap-2",children:[a.name,S.jsxs("span",{className:"text-[10px] bg-black/40 px-1.5 py-0.5 rounded text-slate-500",children:[a.count," in deck"]})]}),S.jsx("div",{className:"mt-2 bg-black/20 rounded p-2 text-xs font-mono text-cyan-300",children:a.desc})]})]},a.id))})]}),S.jsxs("div",{className:"mb-8",children:[S.jsxs("h3",{className:"text-lg font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[S.jsx(Dm,{className:"text-purple-500",size:18}),"Multipliers & Bonuses",S.jsx("span",{className:"text-xs font-normal text-slate-400 ml-auto",children:"Boosts score based on other cards"})]}),S.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:i("MULTIPLIER").map(a=>S.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-xl border border-slate-700/50 flex items-start gap-3",children:[S.jsx(fs,{cardType:a.id,tiny:!0}),S.jsxs("div",{children:[S.jsxs("div",{className:"font-bold text-slate-200 text-sm flex items-center gap-2",children:[a.name,S.jsxs("span",{className:"text-[10px] bg-black/40 px-1.5 py-0.5 rounded text-slate-500",children:[a.count," in deck"]})]}),S.jsx("p",{className:`text-xs leading-relaxed mt-1 ${a.id==="MERMAID"?"text-fuchsia-300 font-bold":"text-slate-400"}`,children:a.desc}),a.id==="MERMAID"&&S.jsx("p",{className:"text-[10px] text-fuchsia-500/80 mt-1 italic",children:"Win instantly if you collect 4!"})]})]},a.id))})]}),S.jsxs("div",{children:[S.jsxs("h3",{className:"text-lg font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[S.jsx(Ll,{className:"text-emerald-500",size:18}),"Game Flow"]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-xs",children:[S.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl",children:[S.jsx("strong",{className:"text-cyan-400 block text-sm mb-1",children:"1. DRAW"}),"Draw 2, Keep 1 ",S.jsx("br",{})," OR ",S.jsx("br",{})," Take 1 from Discard."]}),S.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl",children:[S.jsx("strong",{className:"text-purple-400 block text-sm mb-1",children:"2. PLAY (Optional)"}),"Play Duo pairs to trigger effects. They score points even if you keep them in hand, but effects only happen if played."]}),S.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl",children:[S.jsx("strong",{className:"text-yellow-400 block text-sm mb-1",children:"3. END ROUND"}),"Reach ",nT," pts to call ",S.jsx("strong",{children:"STOP"})," (Safe) or ",S.jsx("strong",{children:"LAST CHANCE"})," (Bet)."]})]})]})]}),S.jsx("div",{className:"text-center pt-4 border-t border-slate-800 shrink-0 mt-4",children:S.jsx("button",{onClick:r,className:"bg-cyan-600 hover:bg-cyan-500 text-white px-10 py-3 rounded-full font-bold shadow-lg transition-transform active:scale-95",children:"Set Sail"})})]})})};function qI(){const[r,t]=ne.useState(null),[i,a]=ne.useState("menu"),[l,c]=ne.useState(""),[d,g]=ne.useState(""),[y,_]=ne.useState(""),[E,w]=ne.useState(null),[M,q]=ne.useState(""),[et,it]=ne.useState(!1),[tt,lt]=ne.useState(!1),[pt,mt]=ne.useState(!1),[Ft,Qt]=ne.useState(!1),[Bt,I]=ne.useState(!1),[A,x]=ne.useState([]),[V,N]=ne.useState(null),[L,R]=ne.useState(!1),[ue,ge]=ne.useState(!1),G=ne.useRef(null);ne.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await m2(em,__initial_auth_token):await u2(em))();const Q=y2(em,Y=>{if(t(Y),Y){const nt=localStorage.getItem("paper_oceans_name");nt&&c(nt)}});return()=>Q()},[]),ne.useEffect(()=>{const W=localStorage.getItem("paperoceans_roomId");W&&_(W)},[]),ne.useEffect(()=>{if(!y||!r)return;const W=GC(xe(Ce,"artifacts",Ie,"public","data","rooms",y),Q=>{if(Q.exists()){const Y=Q.data();if(!Y.players.some(nt=>nt.id===r.uid)){_(""),a("menu"),localStorage.removeItem("paperoceans_roomId"),q("You have been kicked from the room.");return}w(Y),Y.status==="lobby"?a("lobby"):(Y.status==="playing"||Y.status==="last_chance"||Y.status==="finished"||Y.status==="round_end")&&a("game")}else a("menu"),_(""),localStorage.removeItem("paperoceans_roomId"),q("Session dissolved or room does not exist.")},Q=>{console.error("Sync error:",Q),q("Connection lost.")});return()=>W()},[y,r]),ne.useEffect(()=>{if(!E||!E.players||E.status==="finished")return;(async()=>{const Q=E.players.find(Y=>[...Y.hand,...Y.tableau].filter(at=>at.type==="MERMAID").length===4);Q&&E.status!=="finished"&&E.hostId===r.uid&&await qe(xe(Ce,"artifacts",Ie,"public","data","rooms",y),{status:"finished",winnerId:Q.id,logs:Mn({text:`INSTANT WIN! ${Q.name} found all 4 Mermaids!`,type:"success",id:Date.now()})})})()},[E?.players,E?.status,E?.hostId,y,r?.uid]),ne.useEffect(()=>{y||(G.current=null)},[y]),ne.useEffect(()=>{if(!E?.logs||E.logs.length===0)return;const W=E.logs[E.logs.length-1];if(G.current===null){G.current=W.id;return}if(W.id<=G.current)return;G.current=W.id;const Q=W.text;let Y="",nt="",wt=Pc,at=!1;Q.includes("played a pair")?(at=!0,Y="PAIR PLAYED!",nt=Q,wt=yh,Q.includes("Shark")?(Y="SHARK ATTACK!",wt=Zc):Q.includes("Crab")?(Y="SCAVENGER!",wt=Nm):Q.includes("Boat")&&(Y="FULL SPEED AHEAD!",wt=tT)):Q.includes("Stole")?(at=!0,Y="THIEVERY!",nt=Q,wt=Zc):Q.includes("STOP")?(at=!0,Y="ROUND STOPPED!",nt=Q.split("! ")[0]+" called STOP!",wt=dI):Q.includes("LAST CHANCE")?(at=!0,Y="LAST CHANCE!",nt="All other players get 1 final turn.",wt=jc):W.type==="success"&&Q.includes("Bet")?(at=!0,Y="BET SUCCEEDED!",nt="The gamble paid off!",wt=Dm):W.type==="failure"&&Q.includes("Bet")?(at=!0,Y="BET FAILED!",nt="The challenger fell short.",wt=jc):Q.includes("INSTANT WIN")?(at=!0,Y="INSTANT WIN!",nt="The Mermaids have chosen a winner!",wt=tm):Q.includes("Round")&&Q.includes("Start")&&(at=!0,Y="ANCHORS AWEIGH!",nt=`Round ${E.round} Begin`,wt=Ll),at&&rt(W.type,Y,nt,wt)},[E?.logs]);const rt=(W,Q,Y,nt)=>{N({type:W,message:Q,subtext:Y,icon:nt}),setTimeout(()=>N(null),2500)},gt=async()=>{if(!l)return q("Enter Name.");localStorage.setItem("paper_oceans_name",l),it(!0);const W=Math.random().toString(36).substring(2,7).toUpperCase(),Q={roomId:W,hostId:r.uid,status:"lobby",players:[{id:r.uid,name:l,score:0,hand:[],tableau:[],ready:!0}],deck:[],discardPile:[],turnIndex:0,turnState:"DRAW",logs:[],winnerId:null,bettingPlayerId:null,tempDraw:[],round:1};try{await HC(xe(Ce,"artifacts",Ie,"public","data","rooms",W),Q),localStorage.setItem("paperoceans_roomId",W),_(W)}catch(Y){console.error(Y),q("Could not create room.")}it(!1)},Ht=async()=>{if(!d||!l)return q("Input credentials.");localStorage.setItem("paper_oceans_name",l),it(!0);const W=d.toUpperCase().trim(),Q=xe(Ce,"artifacts",Ie,"public","data","rooms",W);try{const Y=await BC(Q);if(!Y.exists()){q("Room not found."),it(!1);return}const nt=Y.data();if(nt.status!=="lobby"){q("Game in progress."),it(!1);return}if(nt.players.length>=4){q("Room full (Max 4)."),it(!1);return}if(nt.players.some(at=>at.id===r.uid)){localStorage.setItem("paperoceans_roomId",W),_(W),it(!1);return}const wt=[...nt.players,{id:r.uid,name:l,score:0,hand:[],tableau:[],ready:!1}];await qe(Q,{players:wt}),localStorage.setItem("paperoceans_roomId",W),_(W)}catch(Y){console.error(Y),q("Error joining room.")}it(!1)},Xt=async()=>{const W=[...E.players],Q=W.findIndex(Y=>Y.id===r.uid);Q>-1&&(W[Q].ready=!W[Q].ready,await qe(xe(Ce,"artifacts",Ie,"public","data","rooms",y),{players:W}))},O=async W=>{if(E.hostId!==r.uid)return;const Q=E.players.filter(Y=>Y.id!==W);await qe(xe(Ce,"artifacts",Ie,"public","data","rooms",y),{players:Q})},X=async(W=!1)=>{if(E.hostId!==r.uid)return;let Q=BI();const Y=E.players.map(nt=>({...nt,hand:[],tableau:[],score:W?nt.score:0}));await qe(xe(Ce,"artifacts",Ie,"public","data","rooms",y),{status:"playing",deck:Q,discardPile:[Q.pop(),Q.pop()],players:Y,turnIndex:W?(E.turnIndex+1)%Y.length:0,turnState:"DRAW",logs:Mn({text:W?`--- Round ${E.round+1} Start ---`:"--- Game Start ---",type:"neutral",id:Date.now()}),bettingPlayerId:null,tempDraw:[],round:W?FC(1):1})},ot=async()=>{if(y){try{const W=xe(Ce,"artifacts",Ie,"public","data","rooms",y);if(E.hostId===r.uid)await qC(W);else{const Q=E.players.filter(Y=>Y.id!==r.uid);await qe(W,{players:Q})}}catch{console.log("Room might already be deleted")}localStorage.removeItem("paperoceans_roomId"),_(""),a("menu"),I(!1),w(null)}},ut=async()=>{if(E.hostId!==r.uid)return;const W=E.players.map(Y=>({...Y,hand:[],tableau:[],score:0,ready:!1})),Q=W.find(Y=>Y.id===E.hostId);Q&&(Q.ready=!0),await qe(xe(Ce,"artifacts",Ie,"public","data","rooms",y),{status:"lobby",players:W,deck:[],discardPile:[],logs:[],round:1,turnIndex:0,winnerId:null,bettingPlayerId:null,tempDraw:[]}),I(!1)},bt=()=>{try{navigator.clipboard.writeText(y),rt("neutral","COPIED!","",Pc)}catch{const Q=document.createElement("textarea");Q.value=y,document.body.appendChild(Q),Q.select(),document.execCommand("copy"),document.body.removeChild(Q),rt("neutral","COPIED!","",Pc)}},Ct=async()=>{const W=[...E.players],Q=[...E.deck];if(Q.length<2){const nt=[...E.discardPile];if(nt.length===0&&Q.length===0)return;if(E.discardPile.length>0){const wt=nt.pop(),at=[...Q,...nt];for(let It=at.length-1;It>0;It--){const Et=Math.floor(Math.random()*(It+1));[at[It],at[Et]]=[at[Et],at[It]]}await qe(xe(Ce,"artifacts",Ie,"public","data","rooms",y),{deck:at,discardPile:[wt],logs:Mn({text:"Deck reshuffled from discard.",type:"neutral",id:Date.now()})});return}}const Y=[Q.pop(),Q.pop()].filter(Boolean);await qe(xe(Ce,"artifacts",Ie,"public","data","rooms",y),{turnState:"DRAW_DECISION",tempDraw:Y,deck:Q,logs:Mn({text:`${W[E.turnIndex].name} draws 2...`,type:"neutral",id:Date.now()})})},kt=async W=>{const Q=[...E.players],Y=[...E.discardPile],nt=[...E.tempDraw],wt=E.turnIndex,at=nt[W],It=nt[W===0?1:0];Q[wt].hand.push(at),It&&Y.push(It),await qe(xe(Ce,"artifacts",Ie,"public","data","rooms",y),{turnState:"ACTION_PHASE",players:Q,discardPile:Y,tempDraw:[],logs:Mn({text:"...kept 1 and discarded 1.",type:"neutral",id:Date.now()})})},Te=async()=>{const W=[...E.players],Q=[...E.discardPile],Y=E.turnIndex,nt=Q.pop();W[Y].hand.push(nt),await qe(xe(Ce,"artifacts",Ie,"public","data","rooms",y),{turnState:"ACTION_PHASE",players:W,discardPile:Q,logs:Mn({text:`${W[Y].name} took ${ur[nt.type].name} from discard.`,type:"neutral",id:Date.now()})})},ce=async()=>{if(A.length!==2)return;const W=E.turnIndex,Q=[...E.players],Y=Q[W],nt=Y.hand[A[0]],wt=Y.hand[A[1]];if(nt.type!==wt.type||ur[nt.type].type!=="DUO"){rt("failure","INVALID DUO","Must pick 2 matching Duo cards.",jc),x([]);return}const at=[...A].sort((be,an)=>an-be);Y.hand.splice(at[0],1),Y.hand.splice(at[1],1),Y.tableau.push(nt,wt);let It="ACTION_PHASE",Et=[{text:`${Y.name} played a pair of ${ur[nt.type].name}s!`,type:"success",id:Date.now()}];if(nt.type==="BOAT")It="DRAW",Et.push({text:"Effect: Extra Turn! Draw again.",type:"success",id:Date.now()+1});else if(nt.type==="FISH"){const be=[...E.deck];if(be.length>0){const an=be.pop();Y.hand.push(an),Et.push({text:"Effect: Drew a card from deck.",type:"neutral",id:Date.now()+1})}}else nt.type==="CRAB"?E.discardPile.length>0&&R(!0):nt.type==="SHARK"&&(Q.some((an,Zn)=>Zn!==W&&an.hand.length>0)?ge(!0):Et.push({text:"No one to steal from!",type:"neutral",id:Date.now()+1}));x([]),await qe(xe(Ce,"artifacts",Ie,"public","data","rooms",y),{players:Q,turnState:It,logs:Mn(...Et),deck:E.deck})},Fi=async W=>{const Q=[...E.players],Y=[...E.discardPile],nt=Y.findIndex(wt=>wt.id===W.id);nt>-1&&(Y.splice(nt,1),Q[E.turnIndex].hand.push(W)),R(!1),await qe(xe(Ce,"artifacts",Ie,"public","data","rooms",y),{players:Q,discardPile:Y,logs:Mn({text:"Effect: Picked a card from discard.",type:"neutral",id:Date.now()})})},Ss=async W=>{const Q=[...E.players],Y=E.turnIndex,nt=Q.findIndex(wt=>wt.id===W);if(Q[nt].hand.length>0){const wt=Math.floor(Math.random()*Q[nt].hand.length),at=Q[nt].hand.splice(wt,1)[0];Q[Y].hand.push(at),ge(!1),await qe(xe(Ce,"artifacts",Ie,"public","data","rooms",y),{players:Q,logs:Mn({text:`Effect: Stole card from ${Q[nt].name}.`,type:"failure",id:Date.now()})})}else ge(!1)},As=async()=>{const W=[...E.players],Q=(E.turnIndex+1)%W.length;if(E.status==="last_chance"&&W[Q].id===E.bettingPlayerId){await Ar(W);return}await qe(xe(Ce,"artifacts",Ie,"public","data","rooms",y),{turnIndex:Q,turnState:"DRAW",logs:Mn({text:`Turn: ${W[Q].name}`,type:"neutral",id:Date.now()})})},ws=async()=>{const W=[...E.players],Q=W[E.turnIndex];W.forEach(Y=>{const nt=wl(Y.hand,Y.tableau);Y.score+=nt,Y.ready=Y.id===E.hostId}),await qe(xe(Ce,"artifacts",Ie,"public","data","rooms",y),{status:"round_end",players:W,logs:Mn({text:`${Q.name} called STOP! Round ended safely.`,type:"success",id:Date.now()})}),setTimeout(()=>mi(W,y),3e3)},kn=async()=>{const W=[...E.players],Q=W[E.turnIndex];await qe(xe(Ce,"artifacts",Ie,"public","data","rooms",y),{status:"last_chance",bettingPlayerId:Q.id,turnIndex:(E.turnIndex+1)%W.length,turnState:"DRAW",logs:Mn({text:` ${Q.name} called LAST CHANCE! Everyone gets 1 turn to beat them.`,type:"warning",id:Date.now()})})},Ar=async W=>{const Q=[...W],Y=E.bettingPlayerId,nt=Q.find(Et=>Et.id===Y),wt=wl(nt.hand,nt.tableau,!1);let at=!0;Q.forEach(Et=>{Et.id!==Y&&wl(Et.hand,Et.tableau,!1)>=wt&&(at=!1)});const It=Et=>{const be=[...Et.hand,...Et.tableau],an=be.filter(wr=>wr.type==="MERMAID").length,Zn={};be.forEach(wr=>{const Rr=ur[wr.type],Qi=Rr?Rr.cardColor:null;Qi&&Qi!=="MULTI"&&(Zn[Qi]=(Zn[Qi]||0)+1)});const Jn=Math.max(0,...Object.values(Zn));return an>0?an*Jn:Jn};at?(nt.score+=wt+5,Q.forEach(Et=>{Et.id!==Y&&(Et.score+=It(Et))})):(nt.score+=It(nt),Q.forEach(Et=>{Et.id!==Y&&(Et.score+=wl(Et.hand,Et.tableau,!1))})),Q.forEach(Et=>Et.ready=Et.id===E.hostId),await qe(xe(Ce,"artifacts",Ie,"public","data","rooms",y),{status:"round_end",players:Q,logs:Mn({text:at?`Bet Succeeded! ${nt.name} gets bonus.`:`Bet Failed! ${nt.name} gets minimum.`,type:at?"success":"failure",id:Date.now()})}),setTimeout(()=>mi(Q,y),4e3)},mi=async(W,Q)=>{const nt=[...W].sort((at,It)=>It.score-at.score)[0],wt=zc(W.length);nt.score>=wt&&await qe(xe(Ce,"artifacts",Ie,"public","data","rooms",Q),{status:"finished",winnerId:nt.id})};if(tt)return S.jsx("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:S.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[S.jsx(hI,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),S.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),S.jsx("p",{className:"text-gray-400",children:"Tide is low. Folding operations paused."})]})});if(i==="menu")return S.jsxs("div",{className:"min-h-screen bg-slate-900 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans select-none",children:[S.jsx(nm,{}),Ft&&S.jsx(im,{onClose:()=>Qt(!1),winPoints:zc(2)}),S.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[S.jsx(JE,{size:64,className:"text-cyan-400 mx-auto mb-4 animate-bounce"}),S.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-b from-cyan-400 to-blue-600 tracking-widest drop-shadow-md",children:"PAPER OCEANS"}),S.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"Fold. Collect. Bet."})]}),S.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-md border border-cyan-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 relative",children:[M&&S.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 text-red-200 p-3 mb-4 rounded text-center text-sm font-bold flex items-center justify-center gap-2",children:[S.jsx(jc,{size:16})," ",M]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"text-xs font-bold text-cyan-500 uppercase ml-1",children:"Captain Name"}),S.jsx("input",{className:"w-full bg-black/50 border border-slate-700 focus:border-cyan-500 p-4 rounded-xl text-white outline-none transition-all text-lg font-bold",placeholder:"Enter Name...",value:l,onChange:W=>c(W.target.value),maxLength:12})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[S.jsxs("button",{onClick:gt,disabled:et,className:"bg-gradient-to-br from-cyan-600 to-blue-700 hover:from-cyan-500 hover:to-blue-600 p-4 rounded-xl font-bold flex flex-col items-center justify-center gap-1 transition-all active:scale-95 shadow-lg shadow-cyan-900/50",children:[S.jsx(Ll,{size:24}),S.jsx("span",{children:"New Voyage"})]}),S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsx("input",{className:"bg-black/50 border border-slate-700 focus:border-cyan-500 p-2 rounded-xl text-white text-center uppercase font-mono font-bold tracking-widest outline-none h-12",placeholder:"CODE",value:d,onChange:W=>g(W.target.value.toUpperCase()),maxLength:5}),S.jsx("button",{onClick:Ht,disabled:et,className:"bg-slate-800 hover:bg-slate-700 p-2 rounded-xl font-bold text-slate-300 transition-all active:scale-95 h-full",children:"Join Fleet"})]})]})]}),S.jsxs("button",{onClick:()=>Qt(!0),className:"w-full mt-4 text-slate-400 hover:text-cyan-400 text-sm font-bold flex items-center justify-center gap-2 transition-colors py-2",children:[S.jsx(Wd,{size:16})," How to Play"]})]}),S.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Sea, Salt and Paper. A tribute game.",S.jsx("br",{}),"Developed by ",S.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",S.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-500 underline hover:text-cyan-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&E){const W=E.hostId===r.uid;return S.jsxs("div",{className:"min-h-screen bg-slate-900 text-white flex flex-col items-center justify-center p-6 relative",children:[S.jsx(nm,{}),Ft&&S.jsx(im,{onClose:()=>Qt(!1),winPoints:zc(E.players.length)}),S.jsxs("div",{className:"z-10 w-full max-w-lg bg-slate-900/90 backdrop-blur p-8 rounded-2xl border border-cyan-500/30 shadow-2xl animate-in slide-in-from-bottom-8",children:[S.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-slate-700 pb-4",children:[S.jsxs("div",{className:"flex flex-col",children:[S.jsx("span",{className:"text-xs text-cyan-500 uppercase font-bold tracking-wider",children:"Voyage Code"}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("h2",{className:"text-4xl font-black text-white font-mono tracking-widest",children:E.roomId}),S.jsx("button",{onClick:bt,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:S.jsx(rI,{size:16})})]})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:()=>Qt(!0),className:"p-3 bg-slate-800 hover:bg-slate-700 rounded-xl text-cyan-400 transition-colors",title:"How to Play",children:S.jsx(Wd,{size:20})}),S.jsx("button",{onClick:ot,className:"p-3 bg-red-900/30 hover:bg-red-900/50 rounded-xl text-red-400 transition-colors",children:S.jsx(Av,{size:20})})]})]}),S.jsxs("div",{className:"space-y-3 mb-8",children:[S.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:["Crew Manifest (",E.players.length,"/4)"]}),E.players.map(Q=>S.jsxs("div",{className:"flex justify-between items-center bg-slate-800 p-4 rounded-xl border border-slate-700",children:[S.jsxs("span",{className:"font-bold flex items-center gap-3 text-lg",children:[S.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center text-xs font-black",children:Q.name.charAt(0)}),Q.name,Q.id===E.hostId&&S.jsx(tm,{size:16,className:"text-yellow-500"})]}),S.jsx("div",{className:"flex items-center gap-2",children:W&&Q.id!==r.uid&&S.jsx("button",{onClick:()=>O(Q.id),className:"p-1.5 hover:bg-red-900/50 rounded text-slate-500 hover:text-red-400 transition-colors",title:"Kick Player",children:S.jsx(kI,{size:16})})})]},Q.id)),Array.from({length:4-E.players.length}).map((Q,Y)=>S.jsx("div",{className:"border-2 border-dashed border-slate-800 rounded-xl p-4 flex items-center justify-center text-slate-700 font-bold uppercase text-sm",children:"Empty Slot"},Y))]}),W?S.jsx("button",{onClick:()=>X(!1),disabled:E.players.length<2,className:"w-full bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 py-4 rounded-xl font-bold text-xl disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-emerald-900/50 transition-all active:scale-95 flex items-center justify-center gap-2",children:E.players.length<2?"Waiting for Crew...":S.jsxs(S.Fragment,{children:[S.jsx(wv,{size:24,fill:"currentColor"})," Set Sail"]})}):S.jsx("div",{className:"w-full py-4 rounded-xl bg-slate-800 border border-slate-700 text-slate-400 text-center font-bold",children:"Waiting for Captain..."})]}),S.jsx(Rv,{})]})}if(i==="game"&&E){const W=E.players.findIndex(at=>at.id===r.uid),Q=E.players[W],Y=E.turnIndex===W,nt=wl(Q.hand,Q.tableau),wt=nt>=nT&&Y&&E.turnState==="ACTION_PHASE"&&E.status!=="last_chance";return S.jsxs("div",{className:"fixed inset-0 bg-slate-950 text-white overflow-hidden flex flex-col font-sans select-none",children:[S.jsx(nm,{}),Ft&&S.jsx(im,{onClose:()=>Qt(!1),winPoints:zc(E.players.length)}),V&&S.jsx(HI,{type:V.type,message:V.message,subtext:V.subtext,icon:V.icon}),S.jsxs("div",{className:"h-14 bg-slate-900/80 border-b border-slate-800 flex items-center justify-between px-4 z-50 backdrop-blur-md shrink-0",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-8 h-8 bg-cyan-900/50 rounded flex items-center justify-center",children:S.jsx(ZE,{size:18,className:"text-cyan-500"})}),S.jsxs("div",{className:"flex flex-col",children:[S.jsxs("span",{className:"font-bold tracking-wider text-cyan-100 text-sm leading-none",children:["ROOM: ",E.roomId]}),S.jsxs("span",{className:"text-[10px] text-cyan-500 font-mono",children:["ROUND ",E.round]})]})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:()=>Qt(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400 hover:text-cyan-400 transition-colors",title:"How to Play",children:S.jsx(Wd,{size:18})}),S.jsx("button",{onClick:()=>mt(!pt),className:`p-2 rounded transition-colors ${pt?"bg-cyan-900 text-cyan-400":"hover:bg-slate-800 text-slate-400"}`,children:S.jsx(pI,{size:18})}),S.jsx("button",{onClick:()=>I(!0),className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:S.jsx(Av,{size:18})})]})]}),pt&&S.jsxs("div",{className:"absolute top-14 right-0 w-64 bg-slate-900/95 border-l border-slate-700 bottom-0 z-[60] overflow-y-auto p-2 backdrop-blur-xl",children:[S.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 sticky top-0 bg-slate-900/95 py-2",children:"Captain's Log"}),S.jsx("div",{className:"space-y-2",children:E.logs.slice().reverse().map(at=>S.jsx("div",{className:`text-xs p-2 rounded border-l-2 ${at.type==="success"?"border-emerald-500 bg-emerald-900/10":at.type==="failure"?"border-red-500 bg-red-900/10":at.type==="warning"?"border-amber-500 bg-amber-900/10":"border-slate-500 bg-slate-800/30"}`,children:at.text},at.id))})]}),S.jsxs("div",{className:"flex-1 flex flex-col relative z-10 overflow-hidden",children:[S.jsx("div",{className:"flex-none p-2 grid grid-cols-3 gap-2",children:E.players.map((at,It)=>{if(at.id===r.uid)return null;const Et=E.turnIndex===It;return S.jsxs("div",{className:`relative p-2 rounded-xl transition-all duration-500 ${Et?"bg-slate-800 border-2 border-cyan-500 shadow-[0_0_15px_rgba(6,182,212,0.3)]":"bg-slate-900/50 border border-slate-800 opacity-80"}`,children:[Et&&S.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-cyan-500 text-black text-[9px] font-black px-2 py-0.5 rounded-full uppercase tracking-widest z-20",children:"Active"}),S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[S.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center font-bold text-xs border border-slate-600",children:at.name.charAt(0)}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("div",{className:"text-xs font-bold truncate",children:at.name}),S.jsxs("div",{className:"text-[10px] text-slate-400 flex justify-between",children:[S.jsxs("span",{children:["Cards: ",at.hand.length]}),S.jsxs("span",{className:"text-yellow-500",children:[at.score,"pts"]})]})]})]}),S.jsxs("div",{className:"flex flex-wrap gap-1 h-12 content-start overflow-hidden",children:[at.tableau.map((be,an)=>S.jsx(fs,{cardType:be.type,tiny:!0},an)),at.tableau.length===0&&S.jsx("span",{className:"text-[9px] text-slate-600 italic",children:"No cards played"})]}),ue&&at.hand.length>0&&S.jsxs("button",{onClick:()=>Ss(at.id),className:"absolute inset-0 bg-red-500/80 rounded-xl z-30 flex flex-col items-center justify-center animate-in zoom-in cursor-pointer hover:bg-red-600/90 transition-colors",children:[S.jsx(Zc,{size:24,className:"text-white mb-1"}),S.jsx("span",{className:"font-black text-white text-sm uppercase tracking-widest",children:"STEAL"})]})]},at.id)})}),S.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center relative min-h-[180px]",children:[Y&&E.turnState==="DRAW_DECISION"?S.jsxs("div",{className:"flex flex-col items-center gap-4 animate-in zoom-in duration-300",children:[S.jsx("h3",{className:"text-lg font-bold text-white bg-black/50 px-4 py-1 rounded-full backdrop-blur",children:"Choose 1 to Keep"}),S.jsx("div",{className:"flex gap-4",children:E.tempDraw.map((at,It)=>S.jsx("button",{onClick:()=>kt(It),className:"transition-transform hover:scale-105 active:scale-95 focus:outline-none",title:"Click to keep this card",children:S.jsx(fs,{cardType:at.type,highlight:!0})},It))})]}):S.jsxs("div",{className:"flex gap-4 md:gap-8 items-center",children:[S.jsxs("div",{onClick:()=>Y&&E.turnState==="DRAW"?Ct():null,className:`
                    w-20 h-28 sm:w-24 sm:h-36 md:w-28 md:h-44 bg-slate-800 rounded-xl border-2 border-slate-600 flex flex-col items-center justify-center relative shadow-xl transition-all
                    ${Y&&E.turnState==="DRAW"?"cursor-pointer hover:-translate-y-2 hover:border-cyan-400 hover:shadow-cyan-500/20 ring-4 ring-cyan-500/20":"opacity-80"}
                  `,children:[S.jsx("div",{className:"absolute inset-2 border-2 border-dashed border-slate-700/50 rounded flex items-center justify-center",children:S.jsx(Ll,{className:"text-slate-700",size:32})}),S.jsxs("div",{className:"z-10 bg-slate-900 px-2 py-1 rounded text-xs font-bold text-slate-400 shadow",children:[E.deck.length," Left"]}),Y&&E.turnState==="DRAW"&&S.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 bg-cyan-600 text-white text-[10px] font-bold px-2 py-1 rounded whitespace-nowrap animate-bounce",children:"DRAW 2"})]}),S.jsx("div",{onClick:()=>Y&&E.turnState==="DRAW"&&E.discardPile.length>0?Te():null,className:`
                    w-20 h-28 sm:w-24 sm:h-36 md:w-28 md:h-44 bg-black/20 rounded-xl border-2 border-dashed border-slate-700 flex items-center justify-center relative
                    ${Y&&E.turnState==="DRAW"&&E.discardPile.length>0?"cursor-pointer hover:border-cyan-400 hover:bg-slate-800/50":""}
                  `,children:E.discardPile.length>0?S.jsxs("div",{className:"relative w-full h-full transform rotate-3",children:[S.jsx(fs,{cardType:E.discardPile[E.discardPile.length-1].type,disabled:!Y||E.turnState!=="DRAW"}),Y&&E.turnState==="DRAW"&&S.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 bg-cyan-600 text-white text-[10px] font-bold px-2 py-1 rounded whitespace-nowrap animate-bounce",children:"TAKE 1"})]}):S.jsx("span",{className:"text-xs text-slate-600 font-bold uppercase tracking-widest",children:"Empty"})})]}),S.jsx("div",{className:"absolute top-0 w-full text-center pointer-events-none",children:!Y&&E.status==="playing"&&S.jsxs("div",{className:"inline-block bg-slate-900/80 px-4 py-1 rounded-full text-slate-400 text-sm border border-slate-700",children:["Waiting for ",E.players[E.turnIndex].name,"..."]})})]}),S.jsxs("div",{className:"flex-none bg-slate-900 border-t border-slate-800 p-3 pb-6 relative z-20 shadow-[0_-5px_20px_rgba(0,0,0,0.5)]",children:[S.jsxs("div",{className:"flex flex-wrap justify-between items-end mb-3 gap-2",children:[S.jsxs("div",{className:"flex gap-4 items-center",children:[S.jsxs("div",{className:"flex flex-col",children:[S.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider text-yellow-500/80",children:"Total Score"}),S.jsx("span",{className:"text-2xl font-black text-yellow-500 leading-none",children:Q.score})]}),S.jsx("div",{className:"w-px bg-slate-700 h-8"}),S.jsxs("div",{className:"flex flex-col",children:[S.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider",children:"Round Est."}),S.jsx("span",{className:"text-2xl font-black text-white leading-none",children:nt})]})]}),S.jsxs("div",{className:"flex gap-2 items-center flex-wrap justify-end ml-auto",children:[A.length===2&&Y&&E.turnState==="ACTION_PHASE"&&S.jsxs("button",{onClick:ce,className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-6 py-2 rounded-lg font-bold shadow-lg animate-in slide-in-from-bottom-2 hover:scale-105 transition-all flex items-center gap-2",children:[S.jsx(yh,{size:16})," Play Pair"]}),Y&&E.turnState==="ACTION_PHASE"&&S.jsxs("button",{onClick:As,className:"bg-slate-700 hover:bg-slate-600 text-white px-6 py-2 rounded-lg font-bold shadow-lg flex items-center gap-2 transition-colors animate-bounce",children:["End Turn ",S.jsx(bI,{size:16})]}),wt&&S.jsxs("div",{className:"flex gap-2 ml-4 pl-4 border-l border-slate-700",children:[S.jsx("button",{onClick:ws,className:"bg-slate-100 hover:bg-white text-slate-900 px-4 py-2 rounded-lg font-black shadow-lg hover:shadow-white/20 transition-all active:scale-95",children:"STOP"}),S.jsx("button",{onClick:kn,className:"bg-gradient-to-r from-amber-500 to-orange-600 hover:brightness-110 text-white px-4 py-2 rounded-lg font-black shadow-lg animate-pulse transition-all active:scale-95 border-2 border-white/20",children:"LAST CHANCE"})]})]})]}),S.jsxs("div",{className:"flex gap-4 h-48",children:[S.jsxs("div",{className:"w-24 flex-none flex flex-col gap-1 border-r border-slate-800 pr-2",children:[S.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold text-center flex-none",children:"Tableau"}),S.jsxs("div",{className:"flex-1 overflow-y-auto space-y-1 custom-scrollbar pb-16",children:[Q.tableau.map((at,It)=>S.jsx("div",{className:`${It>0?"-mt-16":""} transition-all hover:translate-x-2`,children:S.jsx(fs,{cardType:at.type,small:!0})},It)),Q.tableau.length===0&&S.jsx("div",{className:"h-full flex items-center justify-center text-[10px] text-slate-700 text-center",children:"No Pairs Played"})]})]}),S.jsxs("div",{className:"flex-1 overflow-x-auto pb-2 pt-8 flex items-center gap-2 px-2",children:[Q.hand.map((at,It)=>{const Et=A.includes(It);return S.jsx("div",{className:`transition-all duration-200 transform origin-bottom ${Et?"-translate-y-6 scale-105 z-10":"hover:-translate-y-2 hover:z-10"}`,children:S.jsx(fs,{cardType:at.type,highlight:Et,onClick:()=>{E.turnState!=="ACTION_PHASE"&&E.turnState!=="DRAW_DECISION"||(A.includes(It)?x(A.filter(be=>be!==It)):A.length<2&&x([...A,It]))}})},It)}),Q.hand.length===0&&S.jsx("div",{className:"w-full text-center text-slate-600 font-bold italic",children:"Hand Empty"})]})]})]})]}),L&&S.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in",children:S.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-3xl p-6 shadow-2xl",children:[S.jsxs("h3",{className:"text-2xl font-black text-white mb-6 flex items-center gap-3",children:[S.jsx(Nm,{className:"text-red-400"})," Salvage from Discard"]}),S.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 md:grid-cols-6 gap-3 max-h-[60vh] overflow-y-auto p-2 bg-black/20 rounded-xl mb-4",children:E.discardPile.map((at,It)=>S.jsx(fs,{cardType:at.type,onClick:()=>Fi(at),small:!0},It))}),S.jsx("button",{onClick:()=>R(!1),className:"w-full bg-slate-800 hover:bg-slate-700 py-4 rounded-xl text-slate-300 font-bold transition-colors",children:"Cancel"})]})}),(E.status==="finished"||E.status==="round_end")&&S.jsxs("div",{className:"absolute inset-0 bg-slate-950/95 backdrop-blur-xl z-[150] flex flex-col items-center justify-center p-4 text-center animate-in fade-in duration-500",children:[E.status==="finished"?S.jsx(Dm,{size:80,className:"text-yellow-400 mb-6 animate-bounce"}):S.jsx(GI,{status:E.status}),S.jsx("h2",{className:"text-4xl md:text-6xl font-black text-white mb-2 uppercase tracking-widest drop-shadow-xl",children:E.status==="finished"?"LEGEND OF THE SEA":"ROUND COMPLETE"}),S.jsx("div",{className:"bg-slate-900/50 p-6 rounded-2xl border border-white/10 w-full max-w-md mb-8",children:S.jsx("div",{className:"space-y-3",children:[...E.players].sort((at,It)=>It.score-at.score).map((at,It)=>S.jsxs("div",{className:"flex justify-between items-center border-b border-slate-800 pb-2 last:border-0",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsxs("span",{className:"font-mono text-slate-500 font-bold w-6",children:["#",It+1]}),S.jsx("span",{className:"font-bold text-lg",children:at.name}),E.status==="finished"&&It===0&&S.jsx(tm,{size:16,className:"text-yellow-500"})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[at.ready?S.jsxs("span",{className:"text-emerald-400 text-[10px] font-bold uppercase bg-emerald-900/30 px-2 py-1 rounded flex items-center gap-1",children:[S.jsx(Pc,{size:10})," Ready"]}):S.jsx("span",{className:"text-slate-500 text-[10px] font-bold uppercase bg-slate-900/30 px-2 py-1 rounded",children:"Not Ready"}),S.jsx("span",{className:"text-2xl font-black text-cyan-400",children:at.score})]})]},at.id))})}),E.hostId===r.uid?S.jsxs("div",{className:"flex flex-col gap-3",children:[S.jsxs("button",{onClick:()=>X(E.status==="round_end"),disabled:!E.players.every(at=>at.ready),className:"bg-white hover:bg-cyan-50 text-cyan-900 px-10 py-4 rounded-full font-black text-xl shadow-xl hover:scale-105 transition-all flex items-center gap-2 justify-center disabled:opacity-50 disabled:grayscale disabled:scale-100 disabled:cursor-not-allowed",children:[E.players.every(at=>at.ready)?E.status==="finished"?"NEW GAME":"NEXT ROUND":"WAITING FOR READY...",S.jsx(wv,{fill:"currentColor",size:20})]}),S.jsx("button",{onClick:ut,className:"text-slate-400 hover:text-white text-sm font-bold uppercase tracking-widest hover:underline",children:"Return to Lobby"})]}):S.jsxs("div",{className:"flex flex-col items-center gap-2",children:[S.jsx("button",{onClick:Xt,className:`px-8 py-3 rounded-full font-bold text-lg shadow-lg transition-all active:scale-95 flex items-center justify-center gap-2 ${E.players.find(at=>at.id===r.uid)?.ready?"bg-slate-700 text-emerald-400 hover:bg-slate-600":"bg-emerald-600 hover:bg-emerald-500 text-white"}`,children:E.players.find(at=>at.id===r.uid)?.ready?"READY! (Wait for Captain)":"MARK READY"}),S.jsx("div",{className:"text-slate-400 text-xs font-bold animate-pulse mt-2",children:"Waiting for next round..."})]})]}),Bt&&S.jsx("div",{className:"fixed inset-0 z-[200] bg-black/80 flex items-center justify-center p-4",children:S.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-xl max-w-xs w-full text-center",children:[S.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Abandon Ship?"}),S.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:"You will leave the current game."}),S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:()=>I(!1),className:"flex-1 bg-slate-800 py-2 rounded font-bold text-slate-300",children:"Cancel"}),S.jsx("button",{onClick:ot,className:"flex-1 bg-red-600 py-2 rounded font-bold text-white",children:"Leave"})]}),E.hostId===r.uid&&S.jsx("button",{onClick:ut,className:"w-full bg-slate-700 hover:bg-slate-600 py-2 rounded font-bold text-cyan-400 mt-2 text-sm",children:"Return All to Lobby"})]})]})}),S.jsx(Rv,{})]})}return null}const GI=({status:r})=>S.jsx(Ll,{size:64,className:"text-cyan-500 mb-6"});Hb.createRoot(document.getElementById("root")).render(S.jsx(ne.StrictMode,{children:S.jsx(qI,{})}));
