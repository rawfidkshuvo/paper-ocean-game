(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Ld={exports:{}},Il={};var F_;function Mb(){if(F_)return Il;F_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var y in l)y!=="key"&&(c[y]=l[y])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Il.Fragment=t,Il.jsx=i,Il.jsxs=i,Il}var Q_;function Vb(){return Q_||(Q_=1,Ld.exports=Mb()),Ld.exports}var S=Vb(),Ud={exports:{}},xt={};var K_;function kb(){if(K_)return xt;K_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function q(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var nt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,et={};function ot(O,X,at){this.props=O,this.context=X,this.refs=et,this.updater=at||nt}ot.prototype.isReactComponent={},ot.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},ot.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function gt(){}gt.prototype=ot.prototype;function mt(O,X,at){this.props=O,this.context=X,this.refs=et,this.updater=at||nt}var Qt=mt.prototype=new gt;Qt.constructor=mt,it(Qt,ot.prototype),Qt.isPureReactComponent=!0;var Kt=Array.isArray;function Bt(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(O,X,at){var ut=at.ref;return{$$typeof:r,type:O,key:X,ref:ut!==void 0?ut:null,props:at}}function V(O,X){return R(O.type,X,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function L(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(at){return X[at]})}var x=/\/+/g;function he(O,X){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):X.toString(36)}function ve(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Bt,Bt):(O.status="pending",O.then(function(X){O.status==="pending"&&(O.status="fulfilled",O.value=X)},function(X){O.status==="pending"&&(O.status="rejected",O.reason=X)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,X,at,ut,St){var It=typeof O;(It==="undefined"||It==="boolean")&&(O=null);var kt=!1;if(O===null)kt=!0;else switch(It){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(O.$$typeof){case r:case t:kt=!0;break;case E:return kt=O._init,G(kt(O._payload),X,at,ut,St)}}if(kt)return St=St(O),kt=ut===""?"."+he(O,0):ut,Kt(St)?(at="",kt!=null&&(at=kt.replace(x,"$&/")+"/"),G(St,X,at,"",function(Zi){return Zi})):St!=null&&(N(St)&&(St=V(St,at+(St.key==null||O&&O.key===St.key?"":(""+St.key).replace(x,"$&/")+"/")+kt)),X.push(St)),1;kt=0;var Ie=ut===""?".":ut+":";if(Kt(O))for(var fe=0;fe<O.length;fe++)ut=O[fe],It=Ie+he(ut,fe),kt+=G(ut,X,at,It,St);else if(fe=q(O),typeof fe=="function")for(O=fe.call(O),fe=0;!(ut=O.next()).done;)ut=ut.value,It=Ie+he(ut,fe++),kt+=G(ut,X,at,It,St);else if(It==="object"){if(typeof O.then=="function")return G(ve(O),X,at,ut,St);throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return kt}function rt(O,X,at){if(O==null)return O;var ut=[],St=0;return G(O,ut,"","",function(It){return X.call(at,It,St++)}),ut}function yt(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(at){(O._status===0||O._status===-1)&&(O._status=1,O._result=at)},function(at){(O._status===0||O._status===-1)&&(O._status=2,O._result=at)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var Ht=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},$t={map:rt,forEach:function(O,X,at){rt(O,function(){X.apply(this,arguments)},at)},count:function(O){var X=0;return rt(O,function(){X++}),X},toArray:function(O){return rt(O,function(X){return X})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return xt.Activity=w,xt.Children=$t,xt.Component=ot,xt.Fragment=i,xt.Profiler=l,xt.PureComponent=mt,xt.StrictMode=a,xt.Suspense=p,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,xt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},xt.cache=function(O){return function(){return O.apply(null,arguments)}},xt.cacheSignal=function(){return null},xt.cloneElement=function(O,X,at){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ut=it({},O.props),St=O.key;if(X!=null)for(It in X.key!==void 0&&(St=""+X.key),X)!A.call(X,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&X.ref===void 0||(ut[It]=X[It]);var It=arguments.length-2;if(It===1)ut.children=at;else if(1<It){for(var kt=Array(It),Ie=0;Ie<It;Ie++)kt[Ie]=arguments[Ie+2];ut.children=kt}return R(O.type,St,ut)},xt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},xt.createElement=function(O,X,at){var ut,St={},It=null;if(X!=null)for(ut in X.key!==void 0&&(It=""+X.key),X)A.call(X,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(St[ut]=X[ut]);var kt=arguments.length-2;if(kt===1)St.children=at;else if(1<kt){for(var Ie=Array(kt),fe=0;fe<kt;fe++)Ie[fe]=arguments[fe+2];St.children=Ie}if(O&&O.defaultProps)for(ut in kt=O.defaultProps,kt)St[ut]===void 0&&(St[ut]=kt[ut]);return R(O,It,St)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(O){return{$$typeof:y,render:O}},xt.isValidElement=N,xt.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:yt}},xt.memo=function(O,X){return{$$typeof:_,type:O,compare:X===void 0?null:X}},xt.startTransition=function(O){var X=C.T,at={};C.T=at;try{var ut=O(),St=C.S;St!==null&&St(at,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(Bt,Ht)}catch(It){Ht(It)}finally{X!==null&&at.types!==null&&(X.types=at.types),C.T=X}},xt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},xt.use=function(O){return C.H.use(O)},xt.useActionState=function(O,X,at){return C.H.useActionState(O,X,at)},xt.useCallback=function(O,X){return C.H.useCallback(O,X)},xt.useContext=function(O){return C.H.useContext(O)},xt.useDebugValue=function(){},xt.useDeferredValue=function(O,X){return C.H.useDeferredValue(O,X)},xt.useEffect=function(O,X){return C.H.useEffect(O,X)},xt.useEffectEvent=function(O){return C.H.useEffectEvent(O)},xt.useId=function(){return C.H.useId()},xt.useImperativeHandle=function(O,X,at){return C.H.useImperativeHandle(O,X,at)},xt.useInsertionEffect=function(O,X){return C.H.useInsertionEffect(O,X)},xt.useLayoutEffect=function(O,X){return C.H.useLayoutEffect(O,X)},xt.useMemo=function(O,X){return C.H.useMemo(O,X)},xt.useOptimistic=function(O,X){return C.H.useOptimistic(O,X)},xt.useReducer=function(O,X,at){return C.H.useReducer(O,X,at)},xt.useRef=function(O){return C.H.useRef(O)},xt.useState=function(O){return C.H.useState(O)},xt.useSyncExternalStore=function(O,X,at){return C.H.useSyncExternalStore(O,X,at)},xt.useTransition=function(){return C.H.useTransition()},xt.version="19.2.3",xt}var Y_;function Vm(){return Y_||(Y_=1,Ud.exports=kb()),Ud.exports}var se=Vm(),Pd={exports:{}},Cl={},jd={exports:{}},zd={};var X_;function Lb(){return X_||(X_=1,(function(r){function t(G,rt){var yt=G.length;G.push(rt);t:for(;0<yt;){var Ht=yt-1>>>1,$t=G[Ht];if(0<l($t,rt))G[Ht]=rt,G[yt]=$t,yt=Ht;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var rt=G[0],yt=G.pop();if(yt!==rt){G[0]=yt;t:for(var Ht=0,$t=G.length,O=$t>>>1;Ht<O;){var X=2*(Ht+1)-1,at=G[X],ut=X+1,St=G[ut];if(0>l(at,yt))ut<$t&&0>l(St,at)?(G[Ht]=St,G[ut]=yt,Ht=ut):(G[Ht]=at,G[X]=yt,Ht=X);else if(ut<$t&&0>l(St,yt))G[Ht]=St,G[ut]=yt,Ht=ut;else break t}}return rt}function l(G,rt){var yt=G.sortIndex-rt.sortIndex;return yt!==0?yt:G.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var p=[],_=[],E=1,w=null,M=3,q=!1,nt=!1,it=!1,et=!1,ot=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Qt(G){for(var rt=i(_);rt!==null;){if(rt.callback===null)a(_);else if(rt.startTime<=G)a(_),rt.sortIndex=rt.expirationTime,t(p,rt);else break;rt=i(_)}}function Kt(G){if(it=!1,Qt(G),!nt)if(i(p)!==null)nt=!0,Bt||(Bt=!0,L());else{var rt=i(_);rt!==null&&ve(Kt,rt.startTime-G)}}var Bt=!1,C=-1,A=5,R=-1;function V(){return et?!0:!(r.unstable_now()-R<A)}function N(){if(et=!1,Bt){var G=r.unstable_now();R=G;var rt=!0;try{t:{nt=!1,it&&(it=!1,gt(C),C=-1),q=!0;var yt=M;try{e:{for(Qt(G),w=i(p);w!==null&&!(w.expirationTime>G&&V());){var Ht=w.callback;if(typeof Ht=="function"){w.callback=null,M=w.priorityLevel;var $t=Ht(w.expirationTime<=G);if(G=r.unstable_now(),typeof $t=="function"){w.callback=$t,Qt(G),rt=!0;break e}w===i(p)&&a(p),Qt(G)}else a(p);w=i(p)}if(w!==null)rt=!0;else{var O=i(_);O!==null&&ve(Kt,O.startTime-G),rt=!1}}break t}finally{w=null,M=yt,q=!1}rt=void 0}}finally{rt?L():Bt=!1}}}var L;if(typeof mt=="function")L=function(){mt(N)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,he=x.port2;x.port1.onmessage=N,L=function(){he.postMessage(null)}}else L=function(){ot(N,0)};function ve(G,rt){C=ot(function(){G(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(G){switch(M){case 1:case 2:case 3:var rt=3;break;default:rt=M}var yt=M;M=rt;try{return G()}finally{M=yt}},r.unstable_requestPaint=function(){et=!0},r.unstable_runWithPriority=function(G,rt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var yt=M;M=G;try{return rt()}finally{M=yt}},r.unstable_scheduleCallback=function(G,rt,yt){var Ht=r.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?Ht+yt:Ht):yt=Ht,G){case 1:var $t=-1;break;case 2:$t=250;break;case 5:$t=1073741823;break;case 4:$t=1e4;break;default:$t=5e3}return $t=yt+$t,G={id:E++,callback:rt,priorityLevel:G,startTime:yt,expirationTime:$t,sortIndex:-1},yt>Ht?(G.sortIndex=yt,t(_,G),i(p)===null&&G===i(_)&&(it?(gt(C),C=-1):it=!0,ve(Kt,yt-Ht))):(G.sortIndex=$t,t(p,G),nt||q||(nt=!0,Bt||(Bt=!0,L()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var rt=M;return function(){var yt=M;M=rt;try{return G.apply(this,arguments)}finally{M=yt}}}})(zd)),zd}var $_;function Ub(){return $_||($_=1,jd.exports=Lb()),jd.exports}var Bd={exports:{}},hn={};var Z_;function Pb(){if(Z_)return hn;Z_=1;var r=Vm();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:p,containerInfo:_,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,hn.createPortal=function(p,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,E)},hn.flushSync=function(p){var _=d.T,E=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=_,a.p=E,a.d.f()}},hn.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(p,_))},hn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},hn.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var E=_.as,w=y(E,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?a.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:q}):E==="script"&&a.d.X(p,{crossOrigin:w,integrity:M,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},hn.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=y(_.as,_.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(p)},hn.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,w=y(E,_.crossOrigin);a.d.L(p,E,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},hn.preloadModule=function(p,_){if(typeof p=="string")if(_){var E=y(_.as,_.crossOrigin);a.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(p)},hn.requestFormReset=function(p){a.d.r(p)},hn.unstable_batchedUpdates=function(p,_){return p(_)},hn.useFormState=function(p,_,E){return d.H.useFormState(p,_,E)},hn.useFormStatus=function(){return d.H.useHostTransitionStatus()},hn.version="19.2.3",hn}var J_;function jb(){if(J_)return Bd.exports;J_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Bd.exports=Pb(),Bd.exports}var W_;function zb(){if(W_)return Cl;W_=1;var r=Ub(),t=Vm(),i=jb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return p(h),e;if(f===o)return p(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,T=h.child;T;){if(T===s){g=!0,s=h,o=f;break}if(T===o){g=!0,o=h,s=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===s){g=!0,s=f,o=h;break}if(T===o){g=!0,o=f,s=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),nt=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),ot=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Qt=Symbol.for("react.forward_ref"),Kt=Symbol.for("react.suspense"),Bt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function he(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case ot:return"Profiler";case et:return"StrictMode";case Kt:return"Suspense";case Bt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case nt:return"Portal";case mt:return e.displayName||"Context";case gt:return(e._context.displayName||"Context")+".Consumer";case Qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:he(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return he(e(n))}catch{}}return null}var ve=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},Ht=[],$t=-1;function O(e){return{current:e}}function X(e){0>$t||(e.current=Ht[$t],Ht[$t]=null,$t--)}function at(e,n){$t++,Ht[$t]=e.current,e.current=n}var ut=O(null),St=O(null),It=O(null),kt=O(null);function Ie(e,n){switch(at(It,n),at(St,e),at(ut,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?m_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=m_(n),e=p_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(ut),at(ut,e)}function fe(){X(ut),X(St),X(It)}function Zi(e){e.memoizedState!==null&&at(kt,e);var n=ut.current,s=p_(n,e.type);n!==s&&(at(St,e),at(ut,s))}function Cs(e){St.current===e&&(X(ut),X(St)),kt.current===e&&(X(kt),Al._currentValue=yt)}var Ns,Ds;function qn(e){if(Ns===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ns=n&&n[1]||"",Ds=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ns+e+Ds}var Dr=!1;function ri(e,n){if(!e||Dr)return"";Dr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var z=H}Reflect.construct(e,[],$)}else{try{$.call()}catch(H){z=H}e.call($.prototype)}}else{try{throw Error()}catch(H){z=H}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var I=g.split(`
`),j=T.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===j.length)for(o=I.length-1,h=j.length-1;1<=o&&0<=h&&I[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==j[h]){var F=`
`+I[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{Dr=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?qn(s):""}function W(e,n){switch(e.tag){case 26:case 27:case 5:return qn(e.type);case 16:return qn("Lazy");case 13:return e.child!==n&&n!==null?qn("Suspense Fallback"):qn("Suspense");case 19:return qn("SuspenseList");case 0:case 15:return ri(e.type,!1);case 11:return ri(e.type.render,!1);case 1:return ri(e.type,!0);case 31:return qn("Activity");default:return""}}function Y(e){try{var n="",s=null;do n+=W(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Q=Object.prototype.hasOwnProperty,tt=r.unstable_scheduleCallback,vt=r.unstable_cancelCallback,Ct=r.unstable_shouldYield,de=r.unstable_requestPaint,pt=r.unstable_now,lt=r.unstable_getCurrentPriorityLevel,qt=r.unstable_ImmediatePriority,Xe=r.unstable_UserBlockingPriority,Fe=r.unstable_NormalPriority,$e=r.unstable_LowPriority,cn=r.unstable_IdlePriority,Gn=r.log,Or=r.unstable_setDisableYieldValue,Tn=null,Me=null;function gn(e){if(typeof Gn=="function"&&Or(e),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(Tn,e)}catch{}}var Wt=Math.clz32?Math.clz32:Ms,Os=Math.log,Ji=Math.LN2;function Ms(e){return e>>>=0,e===0?32:31-(Os(e)/Ji|0)|0}var On=256,ai=262144,Ee=4194304;function yn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Si(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=yn(o):(g&=T,g!==0?h=yn(g):s||(s=T&~e,s!==0&&(h=yn(s))))):(T=o&~f,T!==0?h=yn(T):g!==0?h=yn(g):s||(s=o&~e,s!==0&&(h=yn(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function oi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function jh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fu(){var e=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),e}function Ai(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Mr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,j=e.hiddenUpdates;for(s=g&~s;0<s;){var F=31-Wt(s),$=1<<F;T[F]=0,I[F]=-1;var z=j[F];if(z!==null)for(j[F]=null,F=0;F<z.length;F++){var H=z[F];H!==null&&(H.lane&=-536870913)}s&=~$}o!==0&&Vr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function Vr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Wt(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function Co(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-Wt(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function No(e,n){var s=n&-n;return s=(s&42)!==0?1:kr(s),(s&(e.suspendedLanes|n))!==0?0:s}function kr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Wi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function du(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:P_(e.type))}function li(e,n){var s=rt.p;try{return rt.p=e,n()}finally{rt.p=s}}var ui=Math.random().toString(36).slice(2),Ve="__reactFiber$"+ui,Ze="__reactProps$"+ui,wi="__reactContainer$"+ui,ga="__reactEvents$"+ui,Bh="__reactListeners$"+ui,mu="__reactHandles$"+ui,pu="__reactResources$"+ui,xi="__reactMarker$"+ui;function ya(e){delete e[Ve],delete e[Ze],delete e[ga],delete e[Bh],delete e[mu]}function Ri(e){var n=e[Ve];if(n)return n;for(var s=e.parentNode;s;){if(n=s[wi]||s[Ve]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=b_(e);e!==null;){if(s=e[Ve])return s;e=b_(e)}return n}e=s,s=e.parentNode}return null}function Fn(e){if(e=e[Ve]||e[wi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Mn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ii(e){var n=e[pu];return n||(n=e[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ke(e){e[xi]=!0}var Do=new Set,Oo={};function Ci(e,n){Ni(e,n),Ni(e+"Capture",n)}function Ni(e,n){for(Oo[e]=n,e=0;e<n.length;e++)Do.add(n[e])}var Mo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vo={},ko={};function gu(e){return Q.call(ko,e)?!0:Q.call(Vo,e)?!1:Mo.test(e)?ko[e]=!0:(Vo[e]=!0,!1)}function _a(e,n,s){if(gu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Vn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Le(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Lo(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ee(e){if(!e._valueTracker){var n=Vs(e)?"checked":"value";e._valueTracker=Lo(e,n,""+e[n])}}function Lr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=Vs(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function Di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ur=/[\n"\\]/g;function bn(e){return e.replace(Ur,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function va(e,n,s,o,h,f,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Je(n)):e.value!==""+Je(n)&&(e.value=""+Je(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Uo(e,g,Je(n)):s!=null?Uo(e,g,Je(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Je(T):e.removeAttribute("name")}function yu(e,n,s,o,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ee(e);return}s=s!=null?""+Je(s):"",n=n!=null?""+Je(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),ee(e)}function Uo(e,n,s){n==="number"&&Di(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ks(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Je(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function _u(e,n,s){if(n!=null&&(n=""+Je(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Je(s):""}function Ls(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(ve(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Je(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),ee(e)}function Sn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Po(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||vu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function jo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Po(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Po(e,f,n[f])}function Ea(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(e){return Us.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ci(){}var zo=null;function Qn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ps=null,Oi=null;function Pr(e){var n=Fn(e);if(n&&(e=n.stateNode)){var s=e[Ze]||null;t:switch(e=n.stateNode,n.type){case"input":if(va(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+bn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Ze]||null;if(!h)throw Error(a(90));va(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&Lr(o)}break t;case"textarea":_u(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ks(e,!!s.multiple,n,!1)}}}var ba=!1;function js(e,n,s){if(ba)return e(n,s);ba=!0;try{var o=e(n);return o}finally{if(ba=!1,(Ps!==null||Oi!==null)&&(dc(),Ps&&(n=Ps,e=Oi,Oi=Ps=null,Pr(n),e)))for(n=0;n<e.length;n++)Pr(e[n])}}function hi(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Ze]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jr=!1;if(Kn)try{var ae={};Object.defineProperty(ae,"passive",{get:function(){jr=!0}}),window.addEventListener("test",ae,ae),window.removeEventListener("test",ae,ae)}catch{jr=!1}var Mi=null,Bo=null,zr=null;function Ho(){if(zr)return zr;var e,n=Bo,s=n.length,o,h="value"in Mi?Mi.value:Mi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return zr=h.slice(e,1<o?1-o:void 0)}function Br(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ts(){return!0}function fi(){return!1}function en(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ts:fi,this.isPropagationStopped=fi,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),n}var es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=en(es),zs=w({},es,{view:0,detail:0}),qo=en(zs),Bs,Sa,ki,Aa=w({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ki&&(ki&&e.type==="mousemove"?(Bs=e.screenX-ki.screenX,Sa=e.screenY-ki.screenY):Sa=Bs=0,ki=e),Bs)},movementY:function(e){return"movementY"in e?e.movementY:Sa}}),Go=en(Aa),Hr=w({},Aa,{dataTransfer:0}),Tu=en(Hr),bu=w({},zs,{relatedTarget:0}),qr=en(bu),Fo=w({},es,{animationName:0,elapsedTime:0,pseudoElement:0}),Su=en(Fo),wa=w({},es,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Au=en(wa),wu=w({},es,{data:0}),Li=en(wu),xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Iu[e])?!!n[e]:!1}function Hs(){return Cu}var _n=w({},zs,{key:function(e){if(e.key){var n=xu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Br(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ru[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(e){return e.type==="keypress"?Br(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Br(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nu=en(_n),Du=w({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ns=en(Du),u=w({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),m=en(u),v=w({},es,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=en(v),U=w({},Aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=en(U),st=w({},es,{newState:0,oldState:0}),Nt=en(st),Ce=[9,13,27,32],Zt=Kn&&"CompositionEvent"in window,ye=null;Kn&&"documentMode"in document&&(ye=document.documentMode);var Yn=Kn&&"TextEvent"in window&&!ye,Ui=Kn&&(!Zt||ye&&8<ye&&11>=ye),di=" ",mi=!1;function Gr(e,n){switch(e){case"keyup":return Ce.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ra=!1;function iT(e,n){switch(e){case"compositionend":return xa(n);case"keypress":return n.which!==32?null:(mi=!0,di);case"textInput":return e=n.data,e===di&&mi?null:e;default:return null}}function sT(e,n){if(Ra)return e==="compositionend"||!Zt&&Gr(e,n)?(e=Ho(),zr=Bo=Mi=null,Ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ui&&n.locale!=="ko"?null:n.data;default:return null}}var rT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!rT[e.type]:n==="textarea"}function xp(e,n,s,o){Ps?Oi?Oi.push(o):Oi=[o]:Ps=o,n=Ec(n,"onChange"),0<n.length&&(s=new Vi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Qo=null,Ko=null;function aT(e){l_(e,0)}function Ou(e){var n=Mn(e);if(Lr(n))return e}function Rp(e,n){if(e==="change")return n}var Ip=!1;if(Kn){var Hh;if(Kn){var qh="oninput"in document;if(!qh){var Cp=document.createElement("div");Cp.setAttribute("oninput","return;"),qh=typeof Cp.oninput=="function"}Hh=qh}else Hh=!1;Ip=Hh&&(!document.documentMode||9<document.documentMode)}function Np(){Qo&&(Qo.detachEvent("onpropertychange",Dp),Ko=Qo=null)}function Dp(e){if(e.propertyName==="value"&&Ou(Ko)){var n=[];xp(n,Ko,e,Qn(e)),js(aT,n)}}function oT(e,n,s){e==="focusin"?(Np(),Qo=n,Ko=s,Qo.attachEvent("onpropertychange",Dp)):e==="focusout"&&Np()}function lT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ou(Ko)}function uT(e,n){if(e==="click")return Ou(n)}function cT(e,n){if(e==="input"||e==="change")return Ou(n)}function hT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var kn=typeof Object.is=="function"?Object.is:hT;function Yo(e,n){if(kn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Q.call(n,h)||!kn(e[h],n[h]))return!1}return!0}function Op(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mp(e,n){var s=Op(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Op(s)}}function Vp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Vp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function kp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Di(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Di(e.document)}return n}function Gh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var fT=Kn&&"documentMode"in document&&11>=document.documentMode,Ia=null,Fh=null,Xo=null,Qh=!1;function Lp(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Qh||Ia==null||Ia!==Di(o)||(o=Ia,"selectionStart"in o&&Gh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Xo&&Yo(Xo,o)||(Xo=o,o=Ec(Fh,"onSelect"),0<o.length&&(n=new Vi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=Ia)))}function Fr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Ca={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},Kh={},Up={};Kn&&(Up=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Qr(e){if(Kh[e])return Kh[e];if(!Ca[e])return e;var n=Ca[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Up)return Kh[e]=n[s];return e}var Pp=Qr("animationend"),jp=Qr("animationiteration"),zp=Qr("animationstart"),dT=Qr("transitionrun"),mT=Qr("transitionstart"),pT=Qr("transitioncancel"),Bp=Qr("transitionend"),Hp=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function pi(e,n){Hp.set(e,n),Ci(n,[e])}var Mu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Xn=[],Na=0,Xh=0;function Vu(){for(var e=Na,n=Xh=Na=0;n<e;){var s=Xn[n];Xn[n++]=null;var o=Xn[n];Xn[n++]=null;var h=Xn[n];Xn[n++]=null;var f=Xn[n];if(Xn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&qp(s,h,f)}}function ku(e,n,s,o){Xn[Na++]=e,Xn[Na++]=n,Xn[Na++]=s,Xn[Na++]=o,Xh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function $h(e,n,s,o){return ku(e,n,s,o),Lu(e)}function Kr(e,n){return ku(e,null,null,n),Lu(e)}function qp(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Wt(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Lu(e){if(50<yl)throw yl=0,ad=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Da={};function gT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(e,n,s,o){return new gT(e,n,s,o)}function Zh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function is(e,n){var s=e.alternate;return s===null?(s=Ln(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Gp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Uu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Zh(e)&&(g=1);else if(typeof e=="string")g=Tb(e,s,ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Ln(31,s,n,h),e.elementType=R,e.lanes=f,e;case it:return Yr(s.children,h,f,n);case et:g=8,h|=24;break;case ot:return e=Ln(12,s,n,h|2),e.elementType=ot,e.lanes=f,e;case Kt:return e=Ln(13,s,n,h),e.elementType=Kt,e.lanes=f,e;case Bt:return e=Ln(19,s,n,h),e.elementType=Bt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:g=10;break t;case gt:g=9;break t;case Qt:g=11;break t;case C:g=14;break t;case A:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Ln(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Yr(e,n,s,o){return e=Ln(7,e,o,n),e.lanes=s,e}function Jh(e,n,s){return e=Ln(6,e,null,n),e.lanes=s,e}function Fp(e){var n=Ln(18,null,null,0);return n.stateNode=e,n}function Wh(e,n,s){return n=Ln(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Qp=new WeakMap;function $n(e,n){if(typeof e=="object"&&e!==null){var s=Qp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Y(n)},Qp.set(e,n),n)}return{value:e,source:n,stack:Y(n)}}var Oa=[],Ma=0,Pu=null,$o=0,Zn=[],Jn=0,qs=null,Pi=1,ji="";function ss(e,n){Oa[Ma++]=$o,Oa[Ma++]=Pu,Pu=e,$o=n}function Kp(e,n,s){Zn[Jn++]=Pi,Zn[Jn++]=ji,Zn[Jn++]=qs,qs=e;var o=Pi;e=ji;var h=32-Wt(o)-1;o&=~(1<<h),s+=1;var f=32-Wt(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Pi=1<<32-Wt(n)+h|s<<h|o,ji=f+e}else Pi=1<<f|s<<h|o,ji=e}function tf(e){e.return!==null&&(ss(e,1),Kp(e,1,0))}function ef(e){for(;e===Pu;)Pu=Oa[--Ma],Oa[Ma]=null,$o=Oa[--Ma],Oa[Ma]=null;for(;e===qs;)qs=Zn[--Jn],Zn[Jn]=null,ji=Zn[--Jn],Zn[Jn]=null,Pi=Zn[--Jn],Zn[Jn]=null}function Yp(e,n){Zn[Jn++]=Pi,Zn[Jn++]=ji,Zn[Jn++]=qs,Pi=n.id,ji=n.overflow,qs=e}var nn=null,me=null,Gt=!1,Gs=null,Wn=!1,nf=Error(a(519));function Fs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zo($n(n,e)),nf}function Xp(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ve]=e,n[Ze]=o,s){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(s=0;s<vl.length;s++)Vt(vl[s],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),yu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Ls(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||f_(n.textContent,s)?(o.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),o.onScroll!=null&&Vt("scroll",n),o.onScrollEnd!=null&&Vt("scrollend",n),o.onClick!=null&&(n.onclick=ci),n=!0):n=!1,n||Fs(e,!0)}function $p(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:nn=nn.return}}function Va(e){if(e!==nn)return!1;if(!Gt)return $p(e),Gt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Td(e.type,e.memoizedProps)),s=!s),s&&me&&Fs(e),$p(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));me=T_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));me=T_(e)}else n===27?(n=me,rr(e.type)?(e=xd,xd=null,me=e):me=n):me=nn?ei(e.stateNode.nextSibling):null;return!0}function Xr(){me=nn=null,Gt=!1}function sf(){var e=Gs;return e!==null&&(Rn===null?Rn=e:Rn.push.apply(Rn,e),Gs=null),e}function Zo(e){Gs===null?Gs=[e]:Gs.push(e)}var rf=O(null),$r=null,rs=null;function Qs(e,n,s){at(rf,n._currentValue),n._currentValue=s}function as(e){e._currentValue=rf.current,X(rf)}function af(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function of(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var I=0;I<n.length;I++)if(T.context===n[I]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),af(f.return,s,e),o||(g=null);break t}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),af(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ka(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;kn(h.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(h===kt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Al):e=[Al])}h=h.return}e!==null&&of(n,e,s,o),n.flags|=262144}function ju(e){for(e=e.firstContext;e!==null;){if(!kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Zr(e){$r=e,rs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function sn(e){return Zp($r,e)}function zu(e,n){return $r===null&&Zr(e),Zp(e,n)}function Zp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},rs===null){if(e===null)throw Error(a(308));rs=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else rs=rs.next=n;return s}var yT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},_T=r.unstable_scheduleCallback,vT=r.unstable_NormalPriority,Ue={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new yT,data:new Map,refCount:0}}function Jo(e){e.refCount--,e.refCount===0&&_T(vT,function(){e.controller.abort()})}var Wo=null,uf=0,La=0,Ua=null;function ET(e,n){if(Wo===null){var s=Wo=[];uf=0,La=fd(),Ua={status:"pending",value:void 0,then:function(o){s.push(o)}}}return uf++,n.then(Jp,Jp),n}function Jp(){if(--uf===0&&Wo!==null){Ua!==null&&(Ua.status="fulfilled");var e=Wo;Wo=null,La=0,Ua=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function TT(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Wp=G.S;G.S=function(e,n){Ly=pt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&ET(e,n),Wp!==null&&Wp(e,n)};var Jr=O(null);function cf(){var e=Jr.current;return e!==null?e:ce.pooledCache}function Bu(e,n){n===null?at(Jr,Jr.current):at(Jr,n.pool)}function tg(){var e=cf();return e===null?null:{parent:Ue._currentValue,pool:e}}var Pa=Error(a(460)),hf=Error(a(474)),Hu=Error(a(542)),qu={then:function(){}};function eg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ng(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(ci,ci),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,sg(e),e;default:if(typeof n.status=="string")n.then(ci,ci);else{if(e=ce,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,sg(e),e}throw ta=n,Pa}}function Wr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ta=s,Pa):s}}var ta=null;function ig(){if(ta===null)throw Error(a(459));var e=ta;return ta=null,e}function sg(e){if(e===Pa||e===Hu)throw Error(a(483))}var ja=null,tl=0;function Gu(e){var n=tl;return tl+=1,ja===null&&(ja=[]),ng(ja,e,n)}function el(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Fu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function rg(e){function n(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function s(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=is(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,P,K){return D===null||D.tag!==6?(D=Jh(P,k.mode,K),D.return=k,D):(D=h(D,P),D.return=k,D)}function I(k,D,P,K){var _t=P.type;return _t===it?F(k,D,P.props.children,K,P.key):D!==null&&(D.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===A&&Wr(_t)===D.type)?(D=h(D,P.props),el(D,P),D.return=k,D):(D=Uu(P.type,P.key,P.props,null,k.mode,K),el(D,P),D.return=k,D)}function j(k,D,P,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Wh(P,k.mode,K),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function F(k,D,P,K,_t){return D===null||D.tag!==7?(D=Yr(P,k.mode,K,_t),D.return=k,D):(D=h(D,P),D.return=k,D)}function $(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Jh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case q:return P=Uu(D.type,D.key,D.props,null,k.mode,P),el(P,D),P.return=k,P;case nt:return D=Wh(D,k.mode,P),D.return=k,D;case A:return D=Wr(D),$(k,D,P)}if(ve(D)||L(D))return D=Yr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return $(k,Gu(D),P);if(D.$$typeof===mt)return $(k,zu(k,D),P);Fu(k,D)}return null}function z(k,D,P,K){var _t=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return _t!==null?null:T(k,D,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case q:return P.key===_t?I(k,D,P,K):null;case nt:return P.key===_t?j(k,D,P,K):null;case A:return P=Wr(P),z(k,D,P,K)}if(ve(P)||L(P))return _t!==null?null:F(k,D,P,K,null);if(typeof P.then=="function")return z(k,D,Gu(P),K);if(P.$$typeof===mt)return z(k,D,zu(k,P),K);Fu(k,P)}return null}function H(k,D,P,K,_t){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,T(D,k,""+K,_t);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case q:return k=k.get(K.key===null?P:K.key)||null,I(D,k,K,_t);case nt:return k=k.get(K.key===null?P:K.key)||null,j(D,k,K,_t);case A:return K=Wr(K),H(k,D,P,K,_t)}if(ve(K)||L(K))return k=k.get(P)||null,F(D,k,K,_t,null);if(typeof K.then=="function")return H(k,D,P,Gu(K),_t);if(K.$$typeof===mt)return H(k,D,P,zu(D,K),_t);Fu(D,K)}return null}function ht(k,D,P,K){for(var _t=null,Yt=null,ft=D,Ot=D=0,Ut=null;ft!==null&&Ot<P.length;Ot++){ft.index>Ot?(Ut=ft,ft=null):Ut=ft.sibling;var Xt=z(k,ft,P[Ot],K);if(Xt===null){ft===null&&(ft=Ut);break}e&&ft&&Xt.alternate===null&&n(k,ft),D=f(Xt,D,Ot),Yt===null?_t=Xt:Yt.sibling=Xt,Yt=Xt,ft=Ut}if(Ot===P.length)return s(k,ft),Gt&&ss(k,Ot),_t;if(ft===null){for(;Ot<P.length;Ot++)ft=$(k,P[Ot],K),ft!==null&&(D=f(ft,D,Ot),Yt===null?_t=ft:Yt.sibling=ft,Yt=ft);return Gt&&ss(k,Ot),_t}for(ft=o(ft);Ot<P.length;Ot++)Ut=H(ft,k,Ot,P[Ot],K),Ut!==null&&(e&&Ut.alternate!==null&&ft.delete(Ut.key===null?Ot:Ut.key),D=f(Ut,D,Ot),Yt===null?_t=Ut:Yt.sibling=Ut,Yt=Ut);return e&&ft.forEach(function(cr){return n(k,cr)}),Gt&&ss(k,Ot),_t}function Tt(k,D,P,K){if(P==null)throw Error(a(151));for(var _t=null,Yt=null,ft=D,Ot=D=0,Ut=null,Xt=P.next();ft!==null&&!Xt.done;Ot++,Xt=P.next()){ft.index>Ot?(Ut=ft,ft=null):Ut=ft.sibling;var cr=z(k,ft,Xt.value,K);if(cr===null){ft===null&&(ft=Ut);break}e&&ft&&cr.alternate===null&&n(k,ft),D=f(cr,D,Ot),Yt===null?_t=cr:Yt.sibling=cr,Yt=cr,ft=Ut}if(Xt.done)return s(k,ft),Gt&&ss(k,Ot),_t;if(ft===null){for(;!Xt.done;Ot++,Xt=P.next())Xt=$(k,Xt.value,K),Xt!==null&&(D=f(Xt,D,Ot),Yt===null?_t=Xt:Yt.sibling=Xt,Yt=Xt);return Gt&&ss(k,Ot),_t}for(ft=o(ft);!Xt.done;Ot++,Xt=P.next())Xt=H(ft,k,Ot,Xt.value,K),Xt!==null&&(e&&Xt.alternate!==null&&ft.delete(Xt.key===null?Ot:Xt.key),D=f(Xt,D,Ot),Yt===null?_t=Xt:Yt.sibling=Xt,Yt=Xt);return e&&ft.forEach(function(Ob){return n(k,Ob)}),Gt&&ss(k,Ot),_t}function ue(k,D,P,K){if(typeof P=="object"&&P!==null&&P.type===it&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case q:t:{for(var _t=P.key;D!==null;){if(D.key===_t){if(_t=P.type,_t===it){if(D.tag===7){s(k,D.sibling),K=h(D,P.props.children),K.return=k,k=K;break t}}else if(D.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===A&&Wr(_t)===D.type){s(k,D.sibling),K=h(D,P.props),el(K,P),K.return=k,k=K;break t}s(k,D);break}else n(k,D);D=D.sibling}P.type===it?(K=Yr(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Uu(P.type,P.key,P.props,null,k.mode,K),el(K,P),K.return=k,k=K)}return g(k);case nt:t:{for(_t=P.key;D!==null;){if(D.key===_t)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(k,D.sibling),K=h(D,P.children||[]),K.return=k,k=K;break t}else{s(k,D);break}else n(k,D);D=D.sibling}K=Wh(P,k.mode,K),K.return=k,k=K}return g(k);case A:return P=Wr(P),ue(k,D,P,K)}if(ve(P))return ht(k,D,P,K);if(L(P)){if(_t=L(P),typeof _t!="function")throw Error(a(150));return P=_t.call(P),Tt(k,D,P,K)}if(typeof P.then=="function")return ue(k,D,Gu(P),K);if(P.$$typeof===mt)return ue(k,D,zu(k,P),K);Fu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(k,D.sibling),K=h(D,P),K.return=k,k=K):(s(k,D),K=Jh(P,k.mode,K),K.return=k,k=K),g(k)):s(k,D)}return function(k,D,P,K){try{tl=0;var _t=ue(k,D,P,K);return ja=null,_t}catch(ft){if(ft===Pa||ft===Hu)throw ft;var Yt=Ln(29,ft,null,k.mode);return Yt.lanes=K,Yt.return=k,Yt}}}var ea=rg(!0),ag=rg(!1),Ks=!1;function ff(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function df(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ys(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Xs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Jt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Lu(e),qp(e,null,s),n}return ku(e,o,n,s),Lu(e)}function nl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Co(e,s)}}function mf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var pf=!1;function il(){if(pf){var e=Ua;if(e!==null)throw e}}function sl(e,n,s,o){pf=!1;var h=e.updateQueue;Ks=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,j=I.next;I.next=null,g===null?f=j:g.next=j,g=I;var F=e.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==g&&(T===null?F.firstBaseUpdate=j:T.next=j,F.lastBaseUpdate=I))}if(f!==null){var $=h.baseState;g=0,F=j=I=null,T=f;do{var z=T.lane&-536870913,H=z!==T.lane;if(H?(Lt&z)===z:(o&z)===z){z!==0&&z===La&&(pf=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ht=e,Tt=T;z=n;var ue=s;switch(Tt.tag){case 1:if(ht=Tt.payload,typeof ht=="function"){$=ht.call(ue,$,z);break t}$=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=Tt.payload,z=typeof ht=="function"?ht.call(ue,$,z):ht,z==null)break t;$=w({},$,z);break t;case 2:Ks=!0}}z=T.callback,z!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(j=F=H,I=$):F=F.next=H,g|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(I=$),h.baseState=I,h.firstBaseUpdate=j,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),tr|=g,e.lanes=g,e.memoizedState=$}}function og(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function lg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)og(s[e],n)}var za=O(null),Qu=O(0);function ug(e,n){e=ps,at(Qu,e),at(za,n),ps=e|n.baseLanes}function gf(){at(Qu,ps),at(za,za.current)}function yf(){ps=Qu.current,X(za),X(Qu)}var Un=O(null),ti=null;function $s(e){var n=e.alternate;at(Ne,Ne.current&1),at(Un,e),ti===null&&(n===null||za.current!==null||n.memoizedState!==null)&&(ti=e)}function _f(e){at(Ne,Ne.current),at(Un,e),ti===null&&(ti=e)}function cg(e){e.tag===22?(at(Ne,Ne.current),at(Un,e),ti===null&&(ti=e)):Zs()}function Zs(){at(Ne,Ne.current),at(Un,Un.current)}function Pn(e){X(Un),ti===e&&(ti=null),X(Ne)}var Ne=O(0);function Ku(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Ad(s)||wd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var os=0,Dt=null,oe=null,Pe=null,Yu=!1,Ba=!1,na=!1,Xu=0,rl=0,Ha=null,bT=0;function Se(){throw Error(a(321))}function vf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!kn(e[s],n[s]))return!1;return!0}function Ef(e,n,s,o,h,f){return os=f,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Kg:kf,na=!1,f=s(o,h),na=!1,Ba&&(f=fg(n,s,o,h)),hg(e),f}function hg(e){G.H=ll;var n=oe!==null&&oe.next!==null;if(os=0,Pe=oe=Dt=null,Yu=!1,rl=0,Ha=null,n)throw Error(a(300));e===null||je||(e=e.dependencies,e!==null&&ju(e)&&(je=!0))}function fg(e,n,s,o){Dt=e;var h=0;do{if(Ba&&(Ha=null),rl=0,Ba=!1,25<=h)throw Error(a(301));if(h+=1,Pe=oe=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Yg,f=n(s,o)}while(Ba);return f}function ST(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?al(n):n,e=e.useState()[0],(oe!==null?oe.memoizedState:null)!==e&&(Dt.flags|=1024),n}function Tf(){var e=Xu!==0;return Xu=0,e}function bf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Sf(e){if(Yu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Yu=!1}os=0,Pe=oe=Dt=null,Ba=!1,rl=Xu=0,Ha=null}function vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?Dt.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function De(){if(oe===null){var e=Dt.alternate;e=e!==null?e.memoizedState:null}else e=oe.next;var n=Pe===null?Dt.memoizedState:Pe.next;if(n!==null)Pe=n,oe=e;else{if(e===null)throw Dt.alternate===null?Error(a(467)):Error(a(310));oe=e,e={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},Pe===null?Dt.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(e){var n=rl;return rl+=1,Ha===null&&(Ha=[]),e=ng(Ha,e,n),n=Dt,(Pe===null?n.memoizedState:Pe.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Kg:kf),e}function Zu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return al(e);if(e.$$typeof===mt)return sn(e)}throw Error(a(438,String(e)))}function Af(e){var n=null,s=Dt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Dt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=$u(),Dt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function ls(e,n){return typeof n=="function"?n(e):n}function Ju(e){var n=De();return wf(n,oe,e)}function wf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=g=null,I=null,j=n,F=!1;do{var $=j.lane&-536870913;if($!==j.lane?(Lt&$)===$:(os&$)===$){var z=j.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===La&&(F=!0);else if((os&z)===z){j=j.next,z===La&&(F=!0);continue}else $={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(T=I=$,g=f):I=I.next=$,Dt.lanes|=z,tr|=z;$=j.action,na&&s(f,$),f=j.hasEagerState?j.eagerState:s(f,$)}else z={lane:$,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(T=I=z,g=f):I=I.next=z,Dt.lanes|=$,tr|=$;j=j.next}while(j!==null&&j!==n);if(I===null?g=f:I.next=T,!kn(f,e.memoizedState)&&(je=!0,F&&(s=Ua,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function xf(e){var n=De(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);kn(f,n.memoizedState)||(je=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function dg(e,n,s){var o=Dt,h=De(),f=Gt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!kn((oe||h).memoizedState,s);if(g&&(h.memoizedState=s,je=!0),h=h.queue,Cf(gg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Pe!==null&&Pe.memoizedState.tag&1){if(o.flags|=2048,qa(9,{destroy:void 0},pg.bind(null,o,h,s,n),null),ce===null)throw Error(a(349));f||(os&127)!==0||mg(o,n,s)}return s}function mg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Dt.updateQueue,n===null?(n=$u(),Dt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function pg(e,n,s,o){n.value=s,n.getSnapshot=o,yg(n)&&_g(e)}function gg(e,n,s){return s(function(){yg(n)&&_g(e)})}function yg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!kn(e,s)}catch{return!0}}function _g(e){var n=Kr(e,2);n!==null&&In(n,e,2)}function Rf(e){var n=vn();if(typeof e=="function"){var s=e;if(e=s(),na){gn(!0);try{s()}finally{gn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:e},n}function vg(e,n,s,o){return e.baseState=s,wf(e,oe,typeof o=="function"?o:ls)}function AT(e,n,s,o,h){if(ec(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Eg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Eg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var T=s(h,o),I=G.S;I!==null&&I(g,T),Tg(e,n,T)}catch(j){If(e,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,o),Tg(e,n,f)}catch(j){If(e,n,j)}}function Tg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){bg(e,n,o)},function(o){return If(e,n,o)}):bg(e,n,s)}function bg(e,n,s){n.status="fulfilled",n.value=s,Sg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Eg(e,s)))}function If(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Sg(n),n=n.next;while(n!==o)}e.action=null}function Sg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ag(e,n){return n}function wg(e,n){if(Gt){var s=ce.formState;if(s!==null){t:{var o=Dt;if(Gt){if(me){e:{for(var h=me,f=Wn;h.nodeType!==8;){if(!f){h=null;break e}if(h=ei(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){me=ei(h.nextSibling),o=h.data==="F!";break t}}Fs(o)}o=!1}o&&(n=s[0])}}return s=vn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ag,lastRenderedState:n},s.queue=o,s=Gg.bind(null,Dt,o),o.dispatch=s,o=Rf(!1),f=Vf.bind(null,Dt,!1,o.queue),o=vn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=AT.bind(null,Dt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function xg(e){var n=De();return Rg(n,oe,e)}function Rg(e,n,s){if(n=wf(e,n,Ag)[0],e=Ju(ls)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=al(n)}catch(g){throw g===Pa?Hu:g}else o=n;n=De();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Dt.flags|=2048,qa(9,{destroy:void 0},wT.bind(null,h,s),null)),[o,f,e]}function wT(e,n){e.action=n}function Ig(e){var n=De(),s=oe;if(s!==null)return Rg(n,s,e);De(),n=n.memoizedState,s=De();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function qa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Dt.updateQueue,n===null&&(n=$u(),Dt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Cg(){return De().memoizedState}function Wu(e,n,s,o){var h=vn();Dt.flags|=e,h.memoizedState=qa(1|n,{destroy:void 0},s,o===void 0?null:o)}function tc(e,n,s,o){var h=De();o=o===void 0?null:o;var f=h.memoizedState.inst;oe!==null&&o!==null&&vf(o,oe.memoizedState.deps)?h.memoizedState=qa(n,f,s,o):(Dt.flags|=e,h.memoizedState=qa(1|n,f,s,o))}function Ng(e,n){Wu(8390656,8,e,n)}function Cf(e,n){tc(2048,8,e,n)}function xT(e){Dt.flags|=4;var n=Dt.updateQueue;if(n===null)n=$u(),Dt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Dg(e){var n=De().memoizedState;return xT({ref:n,nextImpl:e}),function(){if((Jt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Og(e,n){return tc(4,2,e,n)}function Mg(e,n){return tc(4,4,e,n)}function Vg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function kg(e,n,s){s=s!=null?s.concat([e]):null,tc(4,4,Vg.bind(null,n,e),s)}function Nf(){}function Lg(e,n){var s=De();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&vf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Ug(e,n){var s=De();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&vf(n,o[1]))return o[0];if(o=e(),na){gn(!0);try{e()}finally{gn(!1)}}return s.memoizedState=[o,n],o}function Df(e,n,s){return s===void 0||(os&1073741824)!==0&&(Lt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Py(),Dt.lanes|=e,tr|=e,s)}function Pg(e,n,s,o){return kn(s,n)?s:za.current!==null?(e=Df(e,s,o),kn(e,n)||(je=!0),e):(os&42)===0||(os&1073741824)!==0&&(Lt&261930)===0?(je=!0,e.memoizedState=s):(e=Py(),Dt.lanes|=e,tr|=e,n)}function jg(e,n,s,o,h){var f=rt.p;rt.p=f!==0&&8>f?f:8;var g=G.T,T={};G.T=T,Vf(e,!1,n,s);try{var I=h(),j=G.S;if(j!==null&&j(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var F=TT(I,o);ol(e,n,F,Bn(e))}else ol(e,n,o,Bn(e))}catch($){ol(e,n,{then:function(){},status:"rejected",reason:$},Bn())}finally{rt.p=f,g!==null&&T.types!==null&&(g.types=T.types),G.T=g}}function RT(){}function Of(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=zg(e).queue;jg(e,h,n,yt,s===null?RT:function(){return Bg(e),s(o)})}function zg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:yt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Bg(e){var n=zg(e);n.next===null&&(n=e.alternate.memoizedState),ol(e,n.next.queue,{},Bn())}function Mf(){return sn(Al)}function Hg(){return De().memoizedState}function qg(){return De().memoizedState}function IT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Bn();e=Ys(s);var o=Xs(n,e,s);o!==null&&(In(o,n,s),nl(o,n,s)),n={cache:lf()},e.payload=n;return}n=n.return}}function CT(e,n,s){var o=Bn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ec(e)?Fg(n,s):(s=$h(e,n,s,o),s!==null&&(In(s,e,o),Qg(s,n,o)))}function Gg(e,n,s){var o=Bn();ol(e,n,s,o)}function ol(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ec(e))Fg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,s);if(h.hasEagerState=!0,h.eagerState=T,kn(T,g))return ku(e,n,h,0),ce===null&&Vu(),!1}catch{}if(s=$h(e,n,h,o),s!==null)return In(s,e,o),Qg(s,n,o),!0}return!1}function Vf(e,n,s,o){if(o={lane:2,revertLane:fd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ec(e)){if(n)throw Error(a(479))}else n=$h(e,s,o,2),n!==null&&In(n,e,2)}function ec(e){var n=e.alternate;return e===Dt||n!==null&&n===Dt}function Fg(e,n){Ba=Yu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Qg(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Co(e,s)}}var ll={readContext:sn,use:Zu,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useLayoutEffect:Se,useInsertionEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useSyncExternalStore:Se,useId:Se,useHostTransitionStatus:Se,useFormState:Se,useActionState:Se,useOptimistic:Se,useMemoCache:Se,useCacheRefresh:Se};ll.useEffectEvent=Se;var Kg={readContext:sn,use:Zu,useCallback:function(e,n){return vn().memoizedState=[e,n===void 0?null:n],e},useContext:sn,useEffect:Ng,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Wu(4194308,4,Vg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Wu(4194308,4,e,n)},useInsertionEffect:function(e,n){Wu(4,2,e,n)},useMemo:function(e,n){var s=vn();n=n===void 0?null:n;var o=e();if(na){gn(!0);try{e()}finally{gn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=vn();if(s!==void 0){var h=s(n);if(na){gn(!0);try{s(n)}finally{gn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=CT.bind(null,Dt,e),[o.memoizedState,e]},useRef:function(e){var n=vn();return e={current:e},n.memoizedState=e},useState:function(e){e=Rf(e);var n=e.queue,s=Gg.bind(null,Dt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Nf,useDeferredValue:function(e,n){var s=vn();return Df(s,e,n)},useTransition:function(){var e=Rf(!1);return e=jg.bind(null,Dt,e.queue,!0,!1),vn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Dt,h=vn();if(Gt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ce===null)throw Error(a(349));(Lt&127)!==0||mg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Ng(gg.bind(null,o,f,e),[e]),o.flags|=2048,qa(9,{destroy:void 0},pg.bind(null,o,f,s,n),null),s},useId:function(){var e=vn(),n=ce.identifierPrefix;if(Gt){var s=ji,o=Pi;s=(o&~(1<<32-Wt(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Xu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=bT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Mf,useFormState:wg,useActionState:wg,useOptimistic:function(e){var n=vn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Vf.bind(null,Dt,!0,s),s.dispatch=n,[e,n]},useMemoCache:Af,useCacheRefresh:function(){return vn().memoizedState=IT.bind(null,Dt)},useEffectEvent:function(e){var n=vn(),s={impl:e};return n.memoizedState=s,function(){if((Jt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},kf={readContext:sn,use:Zu,useCallback:Lg,useContext:sn,useEffect:Cf,useImperativeHandle:kg,useInsertionEffect:Og,useLayoutEffect:Mg,useMemo:Ug,useReducer:Ju,useRef:Cg,useState:function(){return Ju(ls)},useDebugValue:Nf,useDeferredValue:function(e,n){var s=De();return Pg(s,oe.memoizedState,e,n)},useTransition:function(){var e=Ju(ls)[0],n=De().memoizedState;return[typeof e=="boolean"?e:al(e),n]},useSyncExternalStore:dg,useId:Hg,useHostTransitionStatus:Mf,useFormState:xg,useActionState:xg,useOptimistic:function(e,n){var s=De();return vg(s,oe,e,n)},useMemoCache:Af,useCacheRefresh:qg};kf.useEffectEvent=Dg;var Yg={readContext:sn,use:Zu,useCallback:Lg,useContext:sn,useEffect:Cf,useImperativeHandle:kg,useInsertionEffect:Og,useLayoutEffect:Mg,useMemo:Ug,useReducer:xf,useRef:Cg,useState:function(){return xf(ls)},useDebugValue:Nf,useDeferredValue:function(e,n){var s=De();return oe===null?Df(s,e,n):Pg(s,oe.memoizedState,e,n)},useTransition:function(){var e=xf(ls)[0],n=De().memoizedState;return[typeof e=="boolean"?e:al(e),n]},useSyncExternalStore:dg,useId:Hg,useHostTransitionStatus:Mf,useFormState:Ig,useActionState:Ig,useOptimistic:function(e,n){var s=De();return oe!==null?vg(s,oe,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Af,useCacheRefresh:qg};Yg.useEffectEvent=Dg;function Lf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Uf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Bn(),h=Ys(o);h.payload=n,s!=null&&(h.callback=s),n=Xs(e,h,o),n!==null&&(In(n,e,o),nl(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Bn(),h=Ys(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Xs(e,h,o),n!==null&&(In(n,e,o),nl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Bn(),o=Ys(s);o.tag=2,n!=null&&(o.callback=n),n=Xs(e,o,s),n!==null&&(In(n,e,s),nl(n,e,s))}};function Xg(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Yo(s,o)||!Yo(h,f):!0}function $g(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Uf.enqueueReplaceState(n,n.state,null)}function ia(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Zg(e){Mu(e)}function Jg(e){console.error(e)}function Wg(e){Mu(e)}function nc(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ty(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(e,n,s){return s=Ys(s),s.tag=3,s.payload={element:null},s.callback=function(){nc(e,n)},s}function ey(e){return e=Ys(e),e.tag=3,e}function ny(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){ty(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){ty(n,s,o),typeof h!="function"&&(er===null?er=new Set([this]):er.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function NT(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&ka(n,s,h,!0),s=Un.current,s!==null){switch(s.tag){case 31:case 13:return ti===null?mc():s.alternate===null&&Ae===0&&(Ae=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===qu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),ud(e,o,h)),!1;case 22:return s.flags|=65536,o===qu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),ud(e,o,h)),!1}throw Error(a(435,s.tag))}return ud(e,o,h),mc(),!1}if(Gt)return n=Un.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==nf&&(e=Error(a(422),{cause:o}),Zo($n(e,s)))):(o!==nf&&(n=Error(a(423),{cause:o}),Zo($n(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=$n(o,s),h=Pf(e.stateNode,o,h),mf(e,h),Ae!==4&&(Ae=2)),!1;var f=Error(a(520),{cause:o});if(f=$n(f,s),gl===null?gl=[f]:gl.push(f),Ae!==4&&(Ae=2),n===null)return!0;o=$n(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Pf(s.stateNode,o,e),mf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(er===null||!er.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=ey(h),ny(h,e,s,o),mf(s,h),!1}s=s.return}while(s!==null);return!1}var jf=Error(a(461)),je=!1;function rn(e,n,s,o){n.child=e===null?ag(n,null,s,o):ea(n,e.child,s,o)}function iy(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var T in o)T!=="ref"&&(g[T]=o[T])}else g=o;return Zr(n),o=Ef(e,n,s,g,f,h),T=Tf(),e!==null&&!je?(bf(e,n,h),us(e,n,h)):(Gt&&T&&tf(n),n.flags|=1,rn(e,n,o,h),n.child)}function sy(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Zh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,ry(e,n,f,o,h)):(e=Uu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Kf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Yo,s(g,o)&&e.ref===n.ref)return us(e,n,h)}return n.flags|=1,e=is(f,o),e.ref=n.ref,e.return=n,n.child=e}function ry(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Yo(f,o)&&e.ref===n.ref)if(je=!1,n.pendingProps=o=f,Kf(e,h))(e.flags&131072)!==0&&(je=!0);else return n.lanes=e.lanes,us(e,n,h)}return zf(e,n,s,o,h)}function ay(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return oy(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Bu(n,f!==null?f.cachePool:null),f!==null?ug(n,f):gf(),cg(n);else return o=n.lanes=536870912,oy(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Bu(n,f.cachePool),ug(n,f),Zs(),n.memoizedState=null):(e!==null&&Bu(n,null),gf(),Zs());return rn(e,n,h,s),n.child}function ul(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function oy(e,n,s,o,h){var f=cf();return f=f===null?null:{parent:Ue._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Bu(n,null),gf(),cg(n),e!==null&&ka(e,n,o,!0),n.childLanes=h,null}function ic(e,n){return n=rc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ly(e,n,s){return ea(n,e.child,null,s),e=ic(n,n.pendingProps),e.flags|=2,Pn(n),n.memoizedState=null,e}function DT(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Gt){if(o.mode==="hidden")return e=ic(n,o),n.lanes=536870912,ul(null,e);if(_f(n),(e=me)?(e=E_(e,Wn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:qs!==null?{id:Pi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},s=Fp(e),s.return=n,n.child=s,nn=n,me=null)):e=null,e===null)throw Fs(n);return n.lanes=536870912,null}return ic(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(_f(n),h)if(n.flags&256)n.flags&=-257,n=ly(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(je||ka(e,n,s,!1),h=(s&e.childLanes)!==0,je||h){if(o=ce,o!==null&&(g=No(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Kr(e,g),In(o,e,g),jf;mc(),n=ly(e,n,s)}else e=f.treeContext,me=ei(g.nextSibling),nn=n,Gt=!0,Gs=null,Wn=!1,e!==null&&Yp(n,e),n=ic(n,o),n.flags|=4096;return n}return e=is(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function sc(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function zf(e,n,s,o,h){return Zr(n),s=Ef(e,n,s,o,void 0,h),o=Tf(),e!==null&&!je?(bf(e,n,h),us(e,n,h)):(Gt&&o&&tf(n),n.flags|=1,rn(e,n,s,h),n.child)}function uy(e,n,s,o,h,f){return Zr(n),n.updateQueue=null,s=fg(n,o,s,h),hg(e),o=Tf(),e!==null&&!je?(bf(e,n,f),us(e,n,f)):(Gt&&o&&tf(n),n.flags|=1,rn(e,n,s,f),n.child)}function cy(e,n,s,o,h){if(Zr(n),n.stateNode===null){var f=Da,g=s.contextType;typeof g=="object"&&g!==null&&(f=sn(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},ff(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?sn(g):Da,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Lf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Uf.enqueueReplaceState(f,f.state,null),sl(n,o,f,h),il(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,I=ia(s,T);f.props=I;var j=f.context,F=s.contextType;g=Da,typeof F=="object"&&F!==null&&(g=sn(F));var $=s.getDerivedStateFromProps;F=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||j!==g)&&$g(n,f,o,g),Ks=!1;var z=n.memoizedState;f.state=z,sl(n,o,f,h),il(),j=n.memoizedState,T||z!==j||Ks?(typeof $=="function"&&(Lf(n,s,$,o),j=n.memoizedState),(I=Ks||Xg(n,s,I,o,z,j,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,df(e,n),g=n.memoizedProps,F=ia(s,g),f.props=F,$=n.pendingProps,z=f.context,j=s.contextType,I=Da,typeof j=="object"&&j!==null&&(I=sn(j)),T=s.getDerivedStateFromProps,(j=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==$||z!==I)&&$g(n,f,o,I),Ks=!1,z=n.memoizedState,f.state=z,sl(n,o,f,h),il();var H=n.memoizedState;g!==$||z!==H||Ks||e!==null&&e.dependencies!==null&&ju(e.dependencies)?(typeof T=="function"&&(Lf(n,s,T,o),H=n.memoizedState),(F=Ks||Xg(n,s,F,o,z,H,I)||e!==null&&e.dependencies!==null&&ju(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=I,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,sc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ea(n,e.child,null,h),n.child=ea(n,null,s,h)):rn(e,n,s,h),n.memoizedState=f.state,e=n.child):e=us(e,n,h),e}function hy(e,n,s,o){return Xr(),n.flags|=256,rn(e,n,s,o),n.child}var Bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(e){return{baseLanes:e,cachePool:tg()}}function qf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=zn),e}function fy(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ne.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Gt){if(h?$s(n):Zs(),(e=me)?(e=E_(e,Wn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:qs!==null?{id:Pi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},s=Fp(e),s.return=n,n.child=s,nn=n,me=null)):e=null,e===null)throw Fs(n);return wd(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Zs(),h=n.mode,T=rc({mode:"hidden",children:T},h),o=Yr(o,h,s,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Hf(s),o.childLanes=qf(e,g,s),n.memoizedState=Bf,ul(null,o)):($s(n),Gf(n,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)n.flags&256?($s(n),n.flags&=-257,n=Ff(e,n,s)):n.memoizedState!==null?(Zs(),n.child=e.child,n.flags|=128,n=null):(Zs(),T=o.fallback,h=n.mode,o=rc({mode:"visible",children:o.children},h),T=Yr(T,h,s,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,ea(n,e.child,null,s),o=n.child,o.memoizedState=Hf(s),o.childLanes=qf(e,g,s),n.memoizedState=Bf,n=ul(null,o));else if($s(n),wd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var j=g.dgst;g=j,o=Error(a(419)),o.stack="",o.digest=g,Zo({value:o,source:null,stack:null}),n=Ff(e,n,s)}else if(je||ka(e,n,s,!1),g=(s&e.childLanes)!==0,je||g){if(g=ce,g!==null&&(o=No(g,s),o!==0&&o!==I.retryLane))throw I.retryLane=o,Kr(e,o),In(g,e,o),jf;Ad(T)||mc(),n=Ff(e,n,s)}else Ad(T)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,me=ei(T.nextSibling),nn=n,Gt=!0,Gs=null,Wn=!1,e!==null&&Yp(n,e),n=Gf(n,o.children),n.flags|=4096);return n}return h?(Zs(),T=o.fallback,h=n.mode,I=e.child,j=I.sibling,o=is(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,j!==null?T=is(j,T):(T=Yr(T,h,s,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,ul(null,o),o=n.child,T=e.child.memoizedState,T===null?T=Hf(s):(h=T.cachePool,h!==null?(I=Ue._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=tg(),T={baseLanes:T.baseLanes|s,cachePool:h}),o.memoizedState=T,o.childLanes=qf(e,g,s),n.memoizedState=Bf,ul(e.child,o)):($s(n),s=e.child,e=s.sibling,s=is(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Gf(e,n){return n=rc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function rc(e,n){return e=Ln(22,e,null,n),e.lanes=0,e}function Ff(e,n,s){return ea(n,e.child,null,s),e=Gf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function dy(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),af(e.return,n,s)}function Qf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function my(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Ne.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,at(Ne,g),rn(e,n,o,s),o=Gt?$o:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dy(e,s,n);else if(e.tag===19)dy(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Ku(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Qf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Ku(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Qf(n,!0,s,null,f,o);break;case"together":Qf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function us(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),tr|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ka(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=is(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=is(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Kf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ju(e)))}function OT(e,n,s){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),Qs(n,Ue,e.memoizedState.cache),Xr();break;case 27:case 5:Zi(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:Qs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,_f(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?($s(n),n.flags|=128,null):(s&n.child.childLanes)!==0?fy(e,n,s):($s(n),e=us(e,n,s),e!==null?e.sibling:null);$s(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(ka(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return my(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),at(Ne,Ne.current),o)break;return null;case 22:return n.lanes=0,ay(e,n,s,n.pendingProps);case 24:Qs(n,Ue,e.memoizedState.cache)}return us(e,n,s)}function py(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)je=!0;else{if(!Kf(e,s)&&(n.flags&128)===0)return je=!1,OT(e,n,s);je=(e.flags&131072)!==0}else je=!1,Gt&&(n.flags&1048576)!==0&&Kp(n,$o,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Wr(n.elementType),n.type=e,typeof e=="function")Zh(e)?(o=ia(e,o),n.tag=1,n=cy(null,n,e,o,s)):(n.tag=0,n=zf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Qt){n.tag=11,n=iy(null,n,e,o,s);break t}else if(h===C){n.tag=14,n=sy(null,n,e,o,s);break t}}throw n=he(e)||e,Error(a(306,n,""))}}return n;case 0:return zf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=ia(o,n.pendingProps),cy(e,n,o,h,s);case 3:t:{if(Ie(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,df(e,n),sl(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Qs(n,Ue,o),o!==f.cache&&of(n,[Ue],s,!0),il(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=hy(e,n,o,s);break t}else if(o!==h){h=$n(Error(a(424)),n),Zo(h),n=hy(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,me=ei(e.firstChild),nn=n,Gt=!0,Gs=null,Wn=!0,s=ag(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Xr(),o===h){n=us(e,n,s);break t}rn(e,n,o,s)}n=n.child}return n;case 26:return sc(e,n),e===null?(s=x_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Gt||(s=n.type,e=n.pendingProps,o=Tc(It.current).createElement(s),o[Ve]=n,o[Ze]=e,an(o,s,e),ke(o),n.stateNode=o):n.memoizedState=x_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Zi(n),e===null&&Gt&&(o=n.stateNode=S_(n.type,n.pendingProps,It.current),nn=n,Wn=!0,h=me,rr(n.type)?(xd=h,me=ei(o.firstChild)):me=h),rn(e,n,n.pendingProps.children,s),sc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Gt&&((h=o=me)&&(o=lb(o,n.type,n.pendingProps,Wn),o!==null?(n.stateNode=o,nn=n,me=ei(o.firstChild),Wn=!1,h=!0):h=!1),h||Fs(n)),Zi(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Td(h,f)?o=null:g!==null&&Td(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Ef(e,n,ST,null,null,s),Al._currentValue=h),sc(e,n),rn(e,n,o,s),n.child;case 6:return e===null&&Gt&&((e=s=me)&&(s=ub(s,n.pendingProps,Wn),s!==null?(n.stateNode=s,nn=n,me=null,e=!0):e=!1),e||Fs(n)),null;case 13:return fy(e,n,s);case 4:return Ie(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ea(n,null,o,s):rn(e,n,o,s),n.child;case 11:return iy(e,n,n.type,n.pendingProps,s);case 7:return rn(e,n,n.pendingProps,s),n.child;case 8:return rn(e,n,n.pendingProps.children,s),n.child;case 12:return rn(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Qs(n,n.type,o.value),rn(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Zr(n),h=sn(h),o=o(h),n.flags|=1,rn(e,n,o,s),n.child;case 14:return sy(e,n,n.type,n.pendingProps,s);case 15:return ry(e,n,n.type,n.pendingProps,s);case 19:return my(e,n,s);case 31:return DT(e,n,s);case 22:return ay(e,n,s,n.pendingProps);case 24:return Zr(n),o=sn(Ue),e===null?(h=cf(),h===null&&(h=ce,f=lf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},ff(n),Qs(n,Ue,h)):((e.lanes&s)!==0&&(df(e,n),sl(n,null,null,s),il()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Qs(n,Ue,o)):(o=f.cache,Qs(n,Ue,o),o!==h.cache&&of(n,[Ue],s,!0))),rn(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function cs(e){e.flags|=4}function Yf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Hy())e.flags|=8192;else throw ta=qu,hf}else e.flags&=-16777217}function gy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!D_(n))if(Hy())e.flags|=8192;else throw ta=qu,hf}function ac(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?fu():536870912,e.lanes|=n,Ka|=n)}function cl(e,n){if(!Gt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function pe(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function MT(e,n,s){var o=n.pendingProps;switch(ef(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(n),null;case 1:return pe(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),as(Ue),fe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Va(n)?cs(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sf())),pe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(cs(n),f!==null?(pe(n),gy(n,f)):(pe(n),Yf(n,h,null,o,s))):f?f!==e.memoizedState?(cs(n),pe(n),gy(n,f)):(pe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&cs(n),pe(n),Yf(n,h,e,o,s)),null;case 27:if(Cs(n),s=It.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&cs(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return pe(n),null}e=ut.current,Va(n)?Xp(n):(e=S_(h,o,s),n.stateNode=e,cs(n))}return pe(n),null;case 5:if(Cs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&cs(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return pe(n),null}if(f=ut.current,Va(n))Xp(n);else{var g=Tc(It.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ve]=n,f[Ze]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(an(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&cs(n)}}return pe(n),Yf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&cs(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=It.current,Va(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=nn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ve]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||f_(e.nodeValue,s)),e||Fs(n,!0)}else e=Tc(e).createTextNode(o),e[Ve]=n,n.stateNode=e}return pe(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=Va(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ve]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pe(n),e=!1}else s=sf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Pn(n),n):(Pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return pe(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Va(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ve]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pe(n),h=!1}else h=sf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Pn(n),n):(Pn(n),null)}return Pn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),ac(n,n.updateQueue),pe(n),null);case 4:return fe(),e===null&&gd(n.stateNode.containerInfo),pe(n),null;case 10:return as(n.type),pe(n),null;case 19:if(X(Ne),o=n.memoizedState,o===null)return pe(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)cl(o,!1);else{if(Ae!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ku(e),f!==null){for(n.flags|=128,cl(o,!1),e=f.updateQueue,n.updateQueue=e,ac(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Gp(s,e),s=s.sibling;return at(Ne,Ne.current&1|2),Gt&&ss(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&pt()>hc&&(n.flags|=128,h=!0,cl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Ku(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,ac(n,e),cl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Gt)return pe(n),null}else 2*pt()-o.renderingStartTime>hc&&s!==536870912&&(n.flags|=128,h=!0,cl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=pt(),e.sibling=null,s=Ne.current,at(Ne,h?s&1|2:s&1),Gt&&ss(n,o.treeForkCount),e):(pe(n),null);case 22:case 23:return Pn(n),yf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(pe(n),n.subtreeFlags&6&&(n.flags|=8192)):pe(n),s=n.updateQueue,s!==null&&ac(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&X(Jr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),as(Ue),pe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function VT(e,n){switch(ef(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return as(Ue),fe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Cs(n),null;case 31:if(n.memoizedState!==null){if(Pn(n),n.alternate===null)throw Error(a(340));Xr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Pn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Xr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(Ne),null;case 4:return fe(),null;case 10:return as(n.type),null;case 22:case 23:return Pn(n),yf(),e!==null&&X(Jr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return as(Ue),null;case 25:return null;default:return null}}function yy(e,n){switch(ef(n),n.tag){case 3:as(Ue),fe();break;case 26:case 27:case 5:Cs(n);break;case 4:fe();break;case 31:n.memoizedState!==null&&Pn(n);break;case 13:Pn(n);break;case 19:X(Ne);break;case 10:as(n.type);break;case 22:case 23:Pn(n),yf(),e!==null&&X(Jr);break;case 24:as(Ue)}}function hl(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(T){ie(n,n.return,T)}}function Js(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var I=s,j=T;try{j()}catch(F){ie(h,I,F)}}}o=o.next}while(o!==f)}}catch(F){ie(n,n.return,F)}}function _y(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{lg(n,s)}catch(o){ie(e,e.return,o)}}}function vy(e,n,s){s.props=ia(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){ie(e,n,o)}}function fl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){ie(e,n,h)}}function zi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){ie(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ie(e,n,h)}else s.current=null}function Ey(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){ie(e,e.return,h)}}function Xf(e,n,s){try{var o=e.stateNode;nb(o,e.type,s,n),o[Ze]=n}catch(h){ie(e,e.return,h)}}function Ty(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&rr(e.type)||e.tag===4}function $f(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ty(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&rr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ci));else if(o!==4&&(o===27&&rr(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Zf(e,n,s),e=e.sibling;e!==null;)Zf(e,n,s),e=e.sibling}function oc(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&rr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(oc(e,n,s),e=e.sibling;e!==null;)oc(e,n,s),e=e.sibling}function by(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);an(n,o,s),n[Ve]=e,n[Ze]=s}catch(f){ie(e,e.return,f)}}var hs=!1,ze=!1,Jf=!1,Sy=typeof WeakSet=="function"?WeakSet:Set,We=null;function kT(e,n){if(e=e.containerInfo,vd=Ic,e=kp(e),Gh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,T=-1,I=-1,j=0,F=0,$=e,z=null;e:for(;;){for(var H;$!==s||h!==0&&$.nodeType!==3||(T=g+h),$!==f||o!==0&&$.nodeType!==3||(I=g+o),$.nodeType===3&&(g+=$.nodeValue.length),(H=$.firstChild)!==null;)z=$,$=H;for(;;){if($===e)break e;if(z===s&&++j===h&&(T=g),z===f&&++F===o&&(I=g),(H=$.nextSibling)!==null)break;$=z,z=$.parentNode}$=H}s=T===-1||I===-1?null:{start:T,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ed={focusedElem:e,selectionRange:s},Ic=!1,We=n;We!==null;)if(n=We,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,We=e;else for(;We!==null;){switch(n=We,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ht=ia(s.type,h);e=o.getSnapshotBeforeUpdate(ht,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(Tt){ie(s,s.return,Tt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Sd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Sd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,We=e;break}We=n.return}}function Ay(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ds(e,s),o&4&&hl(5,s);break;case 1:if(ds(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){ie(s,s.return,g)}else{var h=ia(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){ie(s,s.return,g)}}o&64&&_y(s),o&512&&fl(s,s.return);break;case 3:if(ds(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{lg(e,n)}catch(g){ie(s,s.return,g)}}break;case 27:n===null&&o&4&&by(s);case 26:case 5:ds(e,s),n===null&&o&4&&Ey(s),o&512&&fl(s,s.return);break;case 12:ds(e,s);break;case 31:ds(e,s),o&4&&Ry(e,s);break;case 13:ds(e,s),o&4&&Iy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=GT.bind(null,s),cb(e,s))));break;case 22:if(o=s.memoizedState!==null||hs,!o){n=n!==null&&n.memoizedState!==null||ze,h=hs;var f=ze;hs=o,(ze=n)&&!f?ms(e,s,(s.subtreeFlags&8772)!==0):ds(e,s),hs=h,ze=f}break;case 30:break;default:ds(e,s)}}function wy(e){var n=e.alternate;n!==null&&(e.alternate=null,wy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ya(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _e=null,An=!1;function fs(e,n,s){for(s=s.child;s!==null;)xy(e,n,s),s=s.sibling}function xy(e,n,s){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(Tn,s)}catch{}switch(s.tag){case 26:ze||zi(s,n),fs(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ze||zi(s,n);var o=_e,h=An;rr(s.type)&&(_e=s.stateNode,An=!1),fs(e,n,s),Tl(s.stateNode),_e=o,An=h;break;case 5:ze||zi(s,n);case 6:if(o=_e,h=An,_e=null,fs(e,n,s),_e=o,An=h,_e!==null)if(An)try{(_e.nodeType===9?_e.body:_e.nodeName==="HTML"?_e.ownerDocument.body:_e).removeChild(s.stateNode)}catch(f){ie(s,n,f)}else try{_e.removeChild(s.stateNode)}catch(f){ie(s,n,f)}break;case 18:_e!==null&&(An?(e=_e,__(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),eo(e)):__(_e,s.stateNode));break;case 4:o=_e,h=An,_e=s.stateNode.containerInfo,An=!0,fs(e,n,s),_e=o,An=h;break;case 0:case 11:case 14:case 15:Js(2,s,n),ze||Js(4,s,n),fs(e,n,s);break;case 1:ze||(zi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&vy(s,n,o)),fs(e,n,s);break;case 21:fs(e,n,s);break;case 22:ze=(o=ze)||s.memoizedState!==null,fs(e,n,s),ze=o;break;default:fs(e,n,s)}}function Ry(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{eo(e)}catch(s){ie(n,n.return,s)}}}function Iy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{eo(e)}catch(s){ie(n,n.return,s)}}function LT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Sy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Sy),n;default:throw Error(a(435,e.tag))}}function lc(e,n){var s=LT(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=FT.bind(null,e,o);o.then(h,h)}})}function wn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(rr(T.type)){_e=T.stateNode,An=!1;break t}break;case 5:_e=T.stateNode,An=!1;break t;case 3:case 4:_e=T.stateNode.containerInfo,An=!0;break t}T=T.return}if(_e===null)throw Error(a(160));xy(f,g,h),_e=null,An=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Cy(n,e),n=n.sibling}var gi=null;function Cy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wn(n,e),xn(e),o&4&&(Js(3,e,e.return),hl(3,e),Js(5,e,e.return));break;case 1:wn(n,e),xn(e),o&512&&(ze||s===null||zi(s,s.return)),o&64&&hs&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=gi;if(wn(n,e),xn(e),o&512&&(ze||s===null||zi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[xi]||f[Ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),an(f,o,s),f[Ve]=e,ke(f),o=f;break t;case"link":var g=C_("link","href",h).get(o+(s.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(T,1);break e}}f=h.createElement(o),an(f,o,s),h.head.appendChild(f);break;case"meta":if(g=C_("meta","content",h).get(o+(s.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(T,1);break e}}f=h.createElement(o),an(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ve]=e,ke(f),o=f}e.stateNode=o}else N_(h,e.type,e.stateNode);else e.stateNode=I_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?N_(h,e.type,e.stateNode):I_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Xf(e,e.memoizedProps,s.memoizedProps)}break;case 27:wn(n,e),xn(e),o&512&&(ze||s===null||zi(s,s.return)),s!==null&&o&4&&Xf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(wn(n,e),xn(e),o&512&&(ze||s===null||zi(s,s.return)),e.flags&32){h=e.stateNode;try{Sn(h,"")}catch(ht){ie(e,e.return,ht)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Xf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Jf=!0);break;case 6:if(wn(n,e),xn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ht){ie(e,e.return,ht)}}break;case 3:if(Ac=null,h=gi,gi=bc(n.containerInfo),wn(n,e),gi=h,xn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{eo(n.containerInfo)}catch(ht){ie(e,e.return,ht)}Jf&&(Jf=!1,Ny(e));break;case 4:o=gi,gi=bc(e.stateNode.containerInfo),wn(n,e),xn(e),gi=o;break;case 12:wn(n,e),xn(e);break;case 31:wn(n,e),xn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,lc(e,o)));break;case 13:wn(n,e),xn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(cc=pt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,lc(e,o)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,j=hs,F=ze;if(hs=j||h,ze=F||I,wn(n,e),ze=F,hs=j,xn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||hs||ze||sa(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=I.stateNode;var $=I.memoizedProps.style,z=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ht){ie(I,I.return,ht)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ht){ie(I,I.return,ht)}}}else if(n.tag===18){if(s===null){I=n;try{var H=I.stateNode;h?v_(H,!0):v_(I.stateNode,!1)}catch(ht){ie(I,I.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,lc(e,s))));break;case 19:wn(n,e),xn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,lc(e,o)));break;case 30:break;case 21:break;default:wn(n,e),xn(e)}}function xn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Ty(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=$f(e);oc(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(Sn(g,""),s.flags&=-33);var T=$f(e);oc(e,T,g);break;case 3:case 4:var I=s.stateNode.containerInfo,j=$f(e);Zf(e,j,I);break;default:throw Error(a(161))}}catch(F){ie(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ny(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ds(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ay(e,n.alternate,n),n=n.sibling}function sa(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Js(4,n,n.return),sa(n);break;case 1:zi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&vy(n,n.return,s),sa(n);break;case 27:Tl(n.stateNode);case 26:case 5:zi(n,n.return),sa(n);break;case 22:n.memoizedState===null&&sa(n);break;case 30:sa(n);break;default:sa(n)}e=e.sibling}}function ms(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ms(h,f,s),hl(4,f);break;case 1:if(ms(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){ie(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)og(I[h],T)}catch(j){ie(o,o.return,j)}}s&&g&64&&_y(f),fl(f,f.return);break;case 27:by(f);case 26:case 5:ms(h,f,s),s&&o===null&&g&4&&Ey(f),fl(f,f.return);break;case 12:ms(h,f,s);break;case 31:ms(h,f,s),s&&g&4&&Ry(h,f);break;case 13:ms(h,f,s),s&&g&4&&Iy(h,f);break;case 22:f.memoizedState===null&&ms(h,f,s),fl(f,f.return);break;case 30:break;default:ms(h,f,s)}n=n.sibling}}function Wf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Jo(s))}function td(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Jo(e))}function yi(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Dy(e,n,s,o),n=n.sibling}function Dy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:yi(e,n,s,o),h&2048&&hl(9,n);break;case 1:yi(e,n,s,o);break;case 3:yi(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Jo(e)));break;case 12:if(h&2048){yi(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){ie(n,n.return,I)}}else yi(e,n,s,o);break;case 31:yi(e,n,s,o);break;case 13:yi(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?yi(e,n,s,o):dl(e,n):f._visibility&2?yi(e,n,s,o):(f._visibility|=2,Ga(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Wf(g,n);break;case 24:yi(e,n,s,o),h&2048&&td(n.alternate,n);break;default:yi(e,n,s,o)}}function Ga(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,T=s,I=o,j=g.flags;switch(g.tag){case 0:case 11:case 15:Ga(f,g,T,I,h),hl(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Ga(f,g,T,I,h):dl(f,g):(F._visibility|=2,Ga(f,g,T,I,h)),h&&j&2048&&Wf(g.alternate,g);break;case 24:Ga(f,g,T,I,h),h&&j&2048&&td(g.alternate,g);break;default:Ga(f,g,T,I,h)}n=n.sibling}}function dl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:dl(s,o),h&2048&&Wf(o.alternate,o);break;case 24:dl(s,o),h&2048&&td(o.alternate,o);break;default:dl(s,o)}n=n.sibling}}var ml=8192;function Fa(e,n,s){if(e.subtreeFlags&ml)for(e=e.child;e!==null;)Oy(e,n,s),e=e.sibling}function Oy(e,n,s){switch(e.tag){case 26:Fa(e,n,s),e.flags&ml&&e.memoizedState!==null&&bb(s,gi,e.memoizedState,e.memoizedProps);break;case 5:Fa(e,n,s);break;case 3:case 4:var o=gi;gi=bc(e.stateNode.containerInfo),Fa(e,n,s),gi=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ml,ml=16777216,Fa(e,n,s),ml=o):Fa(e,n,s));break;default:Fa(e,n,s)}}function My(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function pl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];We=o,ky(o,e)}My(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vy(e),e=e.sibling}function Vy(e){switch(e.tag){case 0:case 11:case 15:pl(e),e.flags&2048&&Js(9,e,e.return);break;case 3:pl(e);break;case 12:pl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,uc(e)):pl(e);break;default:pl(e)}}function uc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];We=o,ky(o,e)}My(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Js(8,n,n.return),uc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,uc(n));break;default:uc(n)}e=e.sibling}}function ky(e,n){for(;We!==null;){var s=We;switch(s.tag){case 0:case 11:case 15:Js(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Jo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,We=o;else t:for(s=e;We!==null;){o=We;var h=o.sibling,f=o.return;if(wy(o),o===s){We=null;break t}if(h!==null){h.return=f,We=h;break t}We=f}}}var UT={getCacheForType:function(e){var n=sn(Ue),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return sn(Ue).controller.signal}},PT=typeof WeakMap=="function"?WeakMap:Map,Jt=0,ce=null,Mt=null,Lt=0,ne=0,jn=null,Ws=!1,Qa=!1,ed=!1,ps=0,Ae=0,tr=0,ra=0,nd=0,zn=0,Ka=0,gl=null,Rn=null,id=!1,cc=0,Ly=0,hc=1/0,fc=null,er=null,Qe=0,nr=null,Ya=null,gs=0,sd=0,rd=null,Uy=null,yl=0,ad=null;function Bn(){return(Jt&2)!==0&&Lt!==0?Lt&-Lt:G.T!==null?fd():du()}function Py(){if(zn===0)if((Lt&536870912)===0||Gt){var e=ai;ai<<=1,(ai&3932160)===0&&(ai=262144),zn=e}else zn=536870912;return e=Un.current,e!==null&&(e.flags|=32),zn}function In(e,n,s){(e===ce&&(ne===2||ne===9)||e.cancelPendingCommit!==null)&&(Xa(e,0),ir(e,Lt,zn,!1)),Mr(e,s),((Jt&2)===0||e!==ce)&&(e===ce&&((Jt&2)===0&&(ra|=s),Ae===4&&ir(e,Lt,zn,!1)),Bi(e))}function jy(e,n,s){if((Jt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||oi(e,n),h=o?BT(e,n):ld(e,n,!0),f=o;do{if(h===0){Qa&&!o&&ir(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!jT(s)){h=ld(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;h=gl;var I=T.current.memoizedState.isDehydrated;if(I&&(Xa(T,g).flags|=256),g=ld(T,g,!1),g!==2){if(ed&&!I){T.errorRecoveryDisabledLanes|=f,ra|=f,h=4;break t}f=Rn,Rn=h,f!==null&&(Rn===null?Rn=f:Rn.push.apply(Rn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Xa(e,0),ir(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ir(o,n,zn,!Ws);break t;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=cc+300-pt(),10<h)){if(ir(o,n,zn,!Ws),Si(o,0,!0)!==0)break t;gs=n,o.timeoutHandle=g_(zy.bind(null,o,s,Rn,fc,id,n,zn,ra,Ka,Ws,f,"Throttled",-0,0),h);break t}zy(o,s,Rn,fc,id,n,zn,ra,Ka,Ws,f,null,-0,0)}}break}while(!0);Bi(e)}function zy(e,n,s,o,h,f,g,T,I,j,F,$,z,H){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},Oy(n,f,$);var ht=(f&62914560)===f?cc-pt():(f&4194048)===f?Ly-pt():0;if(ht=Sb($,ht),ht!==null){gs=f,e.cancelPendingCommit=ht(Yy.bind(null,e,n,f,s,o,h,g,T,I,F,$,null,z,H)),ir(e,f,g,!j);return}}Yy(e,n,f,s,o,h,g,T,I)}function jT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!kn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ir(e,n,s,o){n&=~nd,n&=~ra,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Wt(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&Vr(e,s,n)}function dc(){return(Jt&6)===0?(_l(0),!1):!0}function od(){if(Mt!==null){if(ne===0)var e=Mt.return;else e=Mt,rs=$r=null,Sf(e),ja=null,tl=0,e=Mt;for(;e!==null;)yy(e.alternate,e),e=e.return;Mt=null}}function Xa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,rb(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),gs=0,od(),ce=e,Mt=s=is(e.current,null),Lt=n,ne=0,jn=null,Ws=!1,Qa=oi(e,n),ed=!1,Ka=zn=nd=ra=tr=Ae=0,Rn=gl=null,id=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Wt(o),f=1<<h;n|=e[h],o&=~f}return ps=n,Vu(),s}function By(e,n){Dt=null,G.H=ll,n===Pa||n===Hu?(n=ig(),ne=3):n===hf?(n=ig(),ne=4):ne=n===jf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,jn=n,Mt===null&&(Ae=1,nc(e,$n(n,e.current)))}function Hy(){var e=Un.current;return e===null?!0:(Lt&4194048)===Lt?ti===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?e===ti:!1}function qy(){var e=G.H;return G.H=ll,e===null?ll:e}function Gy(){var e=G.A;return G.A=UT,e}function mc(){Ae=4,Ws||(Lt&4194048)!==Lt&&Un.current!==null||(Qa=!0),(tr&134217727)===0&&(ra&134217727)===0||ce===null||ir(ce,Lt,zn,!1)}function ld(e,n,s){var o=Jt;Jt|=2;var h=qy(),f=Gy();(ce!==e||Lt!==n)&&(fc=null,Xa(e,n)),n=!1;var g=Ae;t:do try{if(ne!==0&&Mt!==null){var T=Mt,I=jn;switch(ne){case 8:od(),g=6;break t;case 3:case 2:case 9:case 6:Un.current===null&&(n=!0);var j=ne;if(ne=0,jn=null,$a(e,T,I,j),s&&Qa){g=0;break t}break;default:j=ne,ne=0,jn=null,$a(e,T,I,j)}}zT(),g=Ae;break}catch(F){By(e,F)}while(!0);return n&&e.shellSuspendCounter++,rs=$r=null,Jt=o,G.H=h,G.A=f,Mt===null&&(ce=null,Lt=0,Vu()),g}function zT(){for(;Mt!==null;)Fy(Mt)}function BT(e,n){var s=Jt;Jt|=2;var o=qy(),h=Gy();ce!==e||Lt!==n?(fc=null,hc=pt()+500,Xa(e,n)):Qa=oi(e,n);t:do try{if(ne!==0&&Mt!==null){n=Mt;var f=jn;e:switch(ne){case 1:ne=0,jn=null,$a(e,n,f,1);break;case 2:case 9:if(eg(f)){ne=0,jn=null,Qy(n);break}n=function(){ne!==2&&ne!==9||ce!==e||(ne=7),Bi(e)},f.then(n,n);break t;case 3:ne=7;break t;case 4:ne=5;break t;case 7:eg(f)?(ne=0,jn=null,Qy(n)):(ne=0,jn=null,$a(e,n,f,7));break;case 5:var g=null;switch(Mt.tag){case 26:g=Mt.memoizedState;case 5:case 27:var T=Mt;if(g?D_(g):T.stateNode.complete){ne=0,jn=null;var I=T.sibling;if(I!==null)Mt=I;else{var j=T.return;j!==null?(Mt=j,pc(j)):Mt=null}break e}}ne=0,jn=null,$a(e,n,f,5);break;case 6:ne=0,jn=null,$a(e,n,f,6);break;case 8:od(),Ae=6;break t;default:throw Error(a(462))}}HT();break}catch(F){By(e,F)}while(!0);return rs=$r=null,G.H=o,G.A=h,Jt=s,Mt!==null?0:(ce=null,Lt=0,Vu(),Ae)}function HT(){for(;Mt!==null&&!Ct();)Fy(Mt)}function Fy(e){var n=py(e.alternate,e,ps);e.memoizedProps=e.pendingProps,n===null?pc(e):Mt=n}function Qy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=uy(s,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=uy(s,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:Sf(n);default:yy(s,n),n=Mt=Gp(n,ps),n=py(s,n,ps)}e.memoizedProps=e.pendingProps,n===null?pc(e):Mt=n}function $a(e,n,s,o){rs=$r=null,Sf(n),ja=null,tl=0;var h=n.return;try{if(NT(e,h,n,s,Lt)){Ae=1,nc(e,$n(s,e.current)),Mt=null;return}}catch(f){if(h!==null)throw Mt=h,f;Ae=1,nc(e,$n(s,e.current)),Mt=null;return}n.flags&32768?(Gt||o===1?e=!0:Qa||(Lt&536870912)!==0?e=!1:(Ws=e=!0,(o===2||o===9||o===3||o===6)&&(o=Un.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ky(n,e)):pc(n)}function pc(e){var n=e;do{if((n.flags&32768)!==0){Ky(n,Ws);return}e=n.return;var s=MT(n.alternate,n,ps);if(s!==null){Mt=s;return}if(n=n.sibling,n!==null){Mt=n;return}Mt=n=e}while(n!==null);Ae===0&&(Ae=5)}function Ky(e,n){do{var s=VT(e.alternate,e);if(s!==null){s.flags&=32767,Mt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=s}while(e!==null);Ae=6,Mt=null}function Yy(e,n,s,o,h,f,g,T,I){e.cancelPendingCommit=null;do gc();while(Qe!==0);if((Jt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Xh,zh(e,s,f,g,T,I),e===ce&&(Mt=ce=null,Lt=0),Ya=n,nr=e,gs=s,sd=f,rd=h,Uy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,QT(Fe,function(){return Wy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=rt.p,rt.p=2,g=Jt,Jt|=4;try{kT(e,n,s)}finally{Jt=g,rt.p=h,G.T=o}}Qe=1,Xy(),$y(),Zy()}}function Xy(){if(Qe===1){Qe=0;var e=nr,n=Ya,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=rt.p;rt.p=2;var h=Jt;Jt|=4;try{Cy(n,e);var f=Ed,g=kp(e.containerInfo),T=f.focusedElem,I=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&Vp(T.ownerDocument.documentElement,T)){if(I!==null&&Gh(T)){var j=I.start,F=I.end;if(F===void 0&&(F=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(F,T.value.length);else{var $=T.ownerDocument||document,z=$&&$.defaultView||window;if(z.getSelection){var H=z.getSelection(),ht=T.textContent.length,Tt=Math.min(I.start,ht),ue=I.end===void 0?Tt:Math.min(I.end,ht);!H.extend&&Tt>ue&&(g=ue,ue=Tt,Tt=g);var k=Mp(T,Tt),D=Mp(T,ue);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var P=$.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),Tt>ue?(H.addRange(P),H.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),H.addRange(P))}}}}for($=[],H=T;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var K=$[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ic=!!vd,Ed=vd=null}finally{Jt=h,rt.p=o,G.T=s}}e.current=n,Qe=2}}function $y(){if(Qe===2){Qe=0;var e=nr,n=Ya,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=rt.p;rt.p=2;var h=Jt;Jt|=4;try{Ay(e,n.alternate,n)}finally{Jt=h,rt.p=o,G.T=s}}Qe=3}}function Zy(){if(Qe===4||Qe===3){Qe=0,de();var e=nr,n=Ya,s=gs,o=Uy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Qe=5:(Qe=0,Ya=nr=null,Jy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(er=null),Wi(s),n=n.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(Tn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=rt.p,rt.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var T=o[g];f(T.value,{componentStack:T.stack})}}finally{G.T=n,rt.p=h}}(gs&3)!==0&&gc(),Bi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===ad?yl++:(yl=0,ad=e):yl=0,_l(0)}}function Jy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Jo(n)))}function gc(){return Xy(),$y(),Zy(),Wy()}function Wy(){if(Qe!==5)return!1;var e=nr,n=sd;sd=0;var s=Wi(gs),o=G.T,h=rt.p;try{rt.p=32>s?32:s,G.T=null,s=rd,rd=null;var f=nr,g=gs;if(Qe=0,Ya=nr=null,gs=0,(Jt&6)!==0)throw Error(a(331));var T=Jt;if(Jt|=4,Vy(f.current),Dy(f,f.current,g,s),Jt=T,_l(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(Tn,f)}catch{}return!0}finally{rt.p=h,G.T=o,Jy(e,n)}}function t_(e,n,s){n=$n(s,n),n=Pf(e.stateNode,n,2),e=Xs(e,n,2),e!==null&&(Mr(e,2),Bi(e))}function ie(e,n,s){if(e.tag===3)t_(e,e,s);else for(;n!==null;){if(n.tag===3){t_(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(er===null||!er.has(o))){e=$n(s,e),s=ey(2),o=Xs(n,s,2),o!==null&&(ny(s,o,n,e),Mr(o,2),Bi(o));break}}n=n.return}}function ud(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new PT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(ed=!0,h.add(s),e=qT.bind(null,e,n,s),n.then(e,e))}function qT(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ce===e&&(Lt&s)===s&&(Ae===4||Ae===3&&(Lt&62914560)===Lt&&300>pt()-cc?(Jt&2)===0&&Xa(e,0):nd|=s,Ka===Lt&&(Ka=0)),Bi(e)}function e_(e,n){n===0&&(n=fu()),e=Kr(e,n),e!==null&&(Mr(e,n),Bi(e))}function GT(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),e_(e,s)}function FT(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),e_(e,s)}function QT(e,n){return tt(e,n)}var yc=null,Za=null,cd=!1,_c=!1,hd=!1,sr=0;function Bi(e){e!==Za&&e.next===null&&(Za===null?yc=Za=e:Za=Za.next=e),_c=!0,cd||(cd=!0,YT())}function _l(e,n){if(!hd&&_c){hd=!0;do for(var s=!1,o=yc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-Wt(42|e)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,r_(o,f))}else f=Lt,f=Si(o,o===ce?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||oi(o,f)||(s=!0,r_(o,f));o=o.next}while(s);hd=!1}}function KT(){n_()}function n_(){_c=cd=!1;var e=0;sr!==0&&sb()&&(e=sr);for(var n=pt(),s=null,o=yc;o!==null;){var h=o.next,f=i_(o,n);f===0?(o.next=null,s===null?yc=h:s.next=h,h===null&&(Za=s)):(s=o,(e!==0||(f&3)!==0)&&(_c=!0)),o=h}Qe!==0&&Qe!==5||_l(e),sr!==0&&(sr=0)}function i_(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Wt(f),T=1<<g,I=h[g];I===-1?((T&s)===0||(T&o)!==0)&&(h[g]=jh(T,n)):I<=n&&(e.expiredLanes|=T),f&=~T}if(n=ce,s=Lt,s=Si(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(ne===2||ne===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&vt(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||oi(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&vt(o),Wi(s)){case 2:case 8:s=Xe;break;case 32:s=Fe;break;case 268435456:s=cn;break;default:s=Fe}return o=s_.bind(null,e),s=tt(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&vt(o),e.callbackPriority=2,e.callbackNode=null,2}function s_(e,n){if(Qe!==0&&Qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(gc()&&e.callbackNode!==s)return null;var o=Lt;return o=Si(e,e===ce?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(jy(e,o,n),i_(e,pt()),e.callbackNode!=null&&e.callbackNode===s?s_.bind(null,e):null)}function r_(e,n){if(gc())return null;jy(e,n,!0)}function YT(){ab(function(){(Jt&6)!==0?tt(qt,KT):n_()})}function fd(){if(sr===0){var e=La;e===0&&(e=On,On<<=1,(On&261888)===0&&(On=256)),sr=e}return sr}function a_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ta(""+e)}function o_(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function XT(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=a_((h[Ze]||null).action),g=o.submitter;g&&(n=(n=g[Ze]||null)?a_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Vi("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(sr!==0){var I=g?o_(h,g):new FormData(h);Of(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=g?o_(h,g):new FormData(h),Of(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var dd=0;dd<Yh.length;dd++){var md=Yh[dd],$T=md.toLowerCase(),ZT=md[0].toUpperCase()+md.slice(1);pi($T,"on"+ZT)}pi(Pp,"onAnimationEnd"),pi(jp,"onAnimationIteration"),pi(zp,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(dT,"onTransitionRun"),pi(mT,"onTransitionStart"),pi(pT,"onTransitionCancel"),pi(Bp,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function l_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var T=o[g],I=T.instance,j=T.currentTarget;if(T=T.listener,I!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(F){Mu(F)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(T=o[g],I=T.instance,j=T.currentTarget,T=T.listener,I!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(F){Mu(F)}h.currentTarget=null,f=I}}}}function Vt(e,n){var s=n[ga];s===void 0&&(s=n[ga]=new Set);var o=e+"__bubble";s.has(o)||(u_(n,e,2,!1),s.add(o))}function pd(e,n,s){var o=0;n&&(o|=4),u_(s,e,o,n)}var vc="_reactListening"+Math.random().toString(36).slice(2);function gd(e){if(!e[vc]){e[vc]=!0,Do.forEach(function(s){s!=="selectionchange"&&(JT.has(s)||pd(s,!1,e),pd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[vc]||(n[vc]=!0,pd("selectionchange",!1,n))}}function u_(e,n,s,o){switch(P_(n)){case 2:var h=xb;break;case 8:h=Rb;break;default:h=Dd}s=h.bind(null,n,s,e),h=void 0,!jr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function yd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var T=o.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=Ri(T),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}T=T.parentNode}}o=o.return}js(function(){var j=f,F=Qn(s),$=[];t:{var z=Hp.get(e);if(z!==void 0){var H=Vi,ht=e;switch(e){case"keypress":if(Br(s)===0)break t;case"keydown":case"keyup":H=Nu;break;case"focusin":ht="focus",H=qr;break;case"focusout":ht="blur",H=qr;break;case"beforeblur":case"afterblur":H=qr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Pp:case jp:case zp:H=Su;break;case Bp:H=b;break;case"scroll":case"scrollend":H=qo;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ns;break;case"toggle":case"beforetoggle":H=Nt}var Tt=(n&4)!==0,ue=!Tt&&(e==="scroll"||e==="scrollend"),k=Tt?z!==null?z+"Capture":null:z;Tt=[];for(var D=j,P;D!==null;){var K=D;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=hi(D,k),K!=null&&Tt.push(El(D,K,P))),ue)break;D=D.return}0<Tt.length&&(z=new H(z,ht,null,s,F),$.push({event:z,listeners:Tt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",z&&s!==zo&&(ht=s.relatedTarget||s.fromElement)&&(Ri(ht)||ht[wi]))break t;if((H||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,H?(ht=s.relatedTarget||s.toElement,H=j,ht=ht?Ri(ht):null,ht!==null&&(ue=c(ht),Tt=ht.tag,ht!==ue||Tt!==5&&Tt!==27&&Tt!==6)&&(ht=null)):(H=null,ht=j),H!==ht)){if(Tt=Go,K="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(Tt=ns,K="onPointerLeave",k="onPointerEnter",D="pointer"),ue=H==null?z:Mn(H),P=ht==null?z:Mn(ht),z=new Tt(K,D+"leave",H,s,F),z.target=ue,z.relatedTarget=P,K=null,Ri(F)===j&&(Tt=new Tt(k,D+"enter",ht,s,F),Tt.target=P,Tt.relatedTarget=ue,K=Tt),ue=K,H&&ht)e:{for(Tt=WT,k=H,D=ht,P=0,K=k;K;K=Tt(K))P++;K=0;for(var _t=D;_t;_t=Tt(_t))K++;for(;0<P-K;)k=Tt(k),P--;for(;0<K-P;)D=Tt(D),K--;for(;P--;){if(k===D||D!==null&&k===D.alternate){Tt=k;break e}k=Tt(k),D=Tt(D)}Tt=null}else Tt=null;H!==null&&c_($,z,H,Tt,!1),ht!==null&&ue!==null&&c_($,ue,ht,Tt,!0)}}t:{if(z=j?Mn(j):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Yt=Rp;else if(wp(z))if(Ip)Yt=cT;else{Yt=lT;var ft=oT}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&Ea(j.elementType)&&(Yt=Rp):Yt=uT;if(Yt&&(Yt=Yt(e,j))){xp($,Yt,s,F);break t}ft&&ft(e,z,j),e==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Uo(z,"number",z.value)}switch(ft=j?Mn(j):window,e){case"focusin":(wp(ft)||ft.contentEditable==="true")&&(Ia=ft,Fh=j,Xo=null);break;case"focusout":Xo=Fh=Ia=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,Lp($,s,F);break;case"selectionchange":if(fT)break;case"keydown":case"keyup":Lp($,s,F)}var Ot;if(Zt)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else Ra?Gr(e,s)&&(Ut="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ut="onCompositionStart");Ut&&(Ui&&s.locale!=="ko"&&(Ra||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Ra&&(Ot=Ho()):(Mi=F,Bo="value"in Mi?Mi.value:Mi.textContent,Ra=!0)),ft=Ec(j,Ut),0<ft.length&&(Ut=new Li(Ut,e,null,s,F),$.push({event:Ut,listeners:ft}),Ot?Ut.data=Ot:(Ot=xa(s),Ot!==null&&(Ut.data=Ot)))),(Ot=Yn?iT(e,s):sT(e,s))&&(Ut=Ec(j,"onBeforeInput"),0<Ut.length&&(ft=new Li("onBeforeInput","beforeinput",null,s,F),$.push({event:ft,listeners:Ut}),ft.data=Ot)),XT($,e,j,s,F)}l_($,n)})}function El(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Ec(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=hi(e,s),h!=null&&o.unshift(El(e,h,f)),h=hi(e,n),h!=null&&o.push(El(e,h,f))),e.tag===3)return o;e=e.return}return[]}function WT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function c_(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var T=s,I=T.alternate,j=T.stateNode;if(T=T.tag,I!==null&&I===o)break;T!==5&&T!==26&&T!==27||j===null||(I=j,h?(j=hi(s,f),j!=null&&g.unshift(El(s,j,I))):h||(j=hi(s,f),j!=null&&g.push(El(s,j,I)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var tb=/\r\n?/g,eb=/\u0000|\uFFFD/g;function h_(e){return(typeof e=="string"?e:""+e).replace(tb,`
`).replace(eb,"")}function f_(e,n){return n=h_(n),h_(e)===n}function le(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Sn(e,""+o);break;case"className":Vn(e,"class",o);break;case"tabIndex":Vn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(e,s,o);break;case"style":jo(e,o,f);break;case"data":if(n!=="object"){Vn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Ta(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&le(e,n,"name",h.name,h,null),le(e,n,"formEncType",h.formEncType,h,null),le(e,n,"formMethod",h.formMethod,h,null),le(e,n,"formTarget",h.formTarget,h,null)):(le(e,n,"encType",h.encType,h,null),le(e,n,"method",h.method,h,null),le(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Ta(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=ci);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=Ta(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),_a(e,"popover",o);break;case"xlinkActuate":Le(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Le(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Le(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Le(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Le(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Le(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Le(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Le(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Le(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":_a(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Eu.get(s)||s,_a(e,s,o))}}function _d(e,n,s,o,h,f){switch(s){case"style":jo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?Sn(e,o):(typeof o=="number"||typeof o=="bigint")&&Sn(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ze]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):_a(e,s,o)}}}function an(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:le(e,n,f,g,s,null)}}h&&le(e,n,"srcSet",s.srcSet,s,null),o&&le(e,n,"src",s.src,s,null);return;case"input":Vt("invalid",e);var T=f=g=h=null,I=null,j=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":I=F;break;case"defaultChecked":j=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:le(e,n,o,F,s,null)}}yu(e,f,T,I,j,g,h,!1);return;case"select":Vt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":o=T;default:le(e,n,h,T,s,null)}n=f,s=g,e.multiple=!!o,n!=null?ks(e,!!o,n,!1):s!=null&&ks(e,!!o,s,!0);return;case"textarea":Vt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(T=s[g],T!=null))switch(g){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:le(e,n,g,T,s,null)}Ls(e,o,h,f);return;case"option":for(I in s)s.hasOwnProperty(I)&&(o=s[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":le(e,n,I,o,s,null));return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<vl.length;o++)Vt(vl[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(o=s[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:le(e,n,j,o,s,null)}return;default:if(Ea(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&_d(e,n,F,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&le(e,n,T,o,s,null))}function nb(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,I=null,j=null,F=null;for(H in s){var $=s[H];if(s.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=$;default:o.hasOwnProperty(H)||le(e,n,H,null,o,$)}}for(var z in o){var H=o[z];if($=s[z],o.hasOwnProperty(z)&&(H!=null||$!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":F=H;break;case"value":g=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==$&&le(e,n,z,H,o,$)}}va(e,g,T,I,j,F,f,h);return;case"select":H=g=T=z=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(f)||le(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=s[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==I&&le(e,n,h,f,o,I)}n=T,s=g,o=H,z!=null?ks(e,!!s,z,!1):!!o!=!!s&&(n!=null?ks(e,!!s,n,!0):ks(e,!!s,s?[]:"",!1));return;case"textarea":H=z=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:le(e,n,T,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&le(e,n,g,h,o,f)}_u(e,z,H);return;case"option":for(var ht in s)z=s[ht],s.hasOwnProperty(ht)&&z!=null&&!o.hasOwnProperty(ht)&&(ht==="selected"?e.selected=!1:le(e,n,ht,null,o,z));for(I in o)z=o[I],H=s[I],o.hasOwnProperty(I)&&z!==H&&(z!=null||H!=null)&&(I==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":le(e,n,I,z,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in s)z=s[Tt],s.hasOwnProperty(Tt)&&z!=null&&!o.hasOwnProperty(Tt)&&le(e,n,Tt,null,o,z);for(j in o)if(z=o[j],H=s[j],o.hasOwnProperty(j)&&z!==H&&(z!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:le(e,n,j,z,o,H)}return;default:if(Ea(n)){for(var ue in s)z=s[ue],s.hasOwnProperty(ue)&&z!==void 0&&!o.hasOwnProperty(ue)&&_d(e,n,ue,void 0,o,z);for(F in o)z=o[F],H=s[F],!o.hasOwnProperty(F)||z===H||z===void 0&&H===void 0||_d(e,n,F,z,o,H);return}}for(var k in s)z=s[k],s.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&le(e,n,k,null,o,z);for($ in o)z=o[$],H=s[$],!o.hasOwnProperty($)||z===H||z==null&&H==null||le(e,n,$,z,o,H)}function d_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ib(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&d_(g)){for(g=0,T=h.responseEnd,o+=1;o<s.length;o++){var I=s[o],j=I.startTime;if(j>T)break;var F=I.transferSize,$=I.initiatorType;F&&d_($)&&(I=I.responseEnd,g+=F*(I<T?1:(T-j)/(I-j)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var vd=null,Ed=null;function Tc(e){return e.nodeType===9?e:e.ownerDocument}function m_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Td(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var bd=null;function sb(){var e=window.event;return e&&e.type==="popstate"?e===bd?!1:(bd=e,!0):(bd=null,!1)}var g_=typeof setTimeout=="function"?setTimeout:void 0,rb=typeof clearTimeout=="function"?clearTimeout:void 0,y_=typeof Promise=="function"?Promise:void 0,ab=typeof queueMicrotask=="function"?queueMicrotask:typeof y_<"u"?function(e){return y_.resolve(null).then(e).catch(ob)}:g_;function ob(e){setTimeout(function(){throw e})}function rr(e){return e==="head"}function __(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),eo(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Tl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Tl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[xi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&Tl(e.ownerDocument.body);s=h}while(s);eo(n)}function v_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function Sd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Sd(s),ya(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function lb(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[xi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=ei(e.nextSibling),e===null)break}return null}function ub(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=ei(e.nextSibling),e===null))return null;return e}function E_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ei(e.nextSibling),e===null))return null;return e}function Ad(e){return e.data==="$?"||e.data==="$~"}function wd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function cb(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function ei(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var xd=null;function T_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return ei(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function b_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function S_(e,n,s){switch(n=Tc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Tl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ya(e)}var ni=new Map,A_=new Set;function bc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ys=rt.d;rt.d={f:hb,r:fb,D:db,C:mb,L:pb,m:gb,X:_b,S:yb,M:vb};function hb(){var e=ys.f(),n=dc();return e||n}function fb(e){var n=Fn(e);n!==null&&n.tag===5&&n.type==="form"?Bg(n):ys.r(e)}var Ja=typeof document>"u"?null:document;function w_(e,n,s){var o=Ja;if(o&&typeof n=="string"&&n){var h=bn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),A_.has(h)||(A_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),an(n,"link",e),ke(n),o.head.appendChild(n)))}}function db(e){ys.D(e),w_("dns-prefetch",e,null)}function mb(e,n){ys.C(e,n),w_("preconnect",e,n)}function pb(e,n,s){ys.L(e,n,s);var o=Ja;if(o&&e&&n){var h='link[rel="preload"][as="'+bn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+bn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+bn(s.imageSizes)+'"]')):h+='[href="'+bn(e)+'"]';var f=h;switch(n){case"style":f=Wa(e);break;case"script":f=to(e)}ni.has(f)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),ni.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(bl(f))||n==="script"&&o.querySelector(Sl(f))||(n=o.createElement("link"),an(n,"link",e),ke(n),o.head.appendChild(n)))}}function gb(e,n){ys.m(e,n);var s=Ja;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+bn(o)+'"][href="'+bn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=to(e)}if(!ni.has(f)&&(e=w({rel:"modulepreload",href:e},n),ni.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Sl(f)))return}o=s.createElement("link"),an(o,"link",e),ke(o),s.head.appendChild(o)}}}function yb(e,n,s){ys.S(e,n,s);var o=Ja;if(o&&e){var h=Ii(o).hoistableStyles,f=Wa(e);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=o.querySelector(bl(f)))T.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=ni.get(f))&&Rd(e,s);var I=g=o.createElement("link");ke(I),an(I,"link",e),I._p=new Promise(function(j,F){I.onload=j,I.onerror=F}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Sc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function _b(e,n){ys.X(e,n);var s=Ja;if(s&&e){var o=Ii(s).hoistableScripts,h=to(e),f=o.get(h);f||(f=s.querySelector(Sl(h)),f||(e=w({src:e,async:!0},n),(n=ni.get(h))&&Id(e,n),f=s.createElement("script"),ke(f),an(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function vb(e,n){ys.M(e,n);var s=Ja;if(s&&e){var o=Ii(s).hoistableScripts,h=to(e),f=o.get(h);f||(f=s.querySelector(Sl(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=ni.get(h))&&Id(e,n),f=s.createElement("script"),ke(f),an(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function x_(e,n,s,o){var h=(h=It.current)?bc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Wa(s.href),s=Ii(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Wa(s.href);var f=Ii(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(bl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),ni.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ni.set(e,s),f||Eb(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=to(s),s=Ii(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Wa(e){return'href="'+bn(e)+'"'}function bl(e){return'link[rel="stylesheet"]['+e+"]"}function R_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function Eb(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),an(n,"link",s),ke(n),e.head.appendChild(n))}function to(e){return'[src="'+bn(e)+'"]'}function Sl(e){return"script[async]"+e}function I_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+bn(s.href)+'"]');if(o)return n.instance=o,ke(o),o;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ke(o),an(o,"style",h),Sc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Wa(s.href);var f=e.querySelector(bl(h));if(f)return n.state.loading|=4,n.instance=f,ke(f),f;o=R_(s),(h=ni.get(h))&&Rd(o,h),f=(e.ownerDocument||e).createElement("link"),ke(f);var g=f;return g._p=new Promise(function(T,I){g.onload=T,g.onerror=I}),an(f,"link",o),n.state.loading|=4,Sc(f,s.precedence,e),n.instance=f;case"script":return f=to(s.src),(h=e.querySelector(Sl(f)))?(n.instance=h,ke(h),h):(o=s,(h=ni.get(f))&&(o=w({},s),Id(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ke(h),an(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Sc(o,s.precedence,e));return n.instance}function Sc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var T=o[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Rd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Id(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ac=null;function C_(e,n,s){if(Ac===null){var o=new Map,h=Ac=new Map;h.set(s,o)}else h=Ac,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[xi]||f[Ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var T=o.get(g);T?T.push(f):o.set(g,[f])}}return o}function N_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function Tb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function D_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function bb(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Wa(o.href),f=n.querySelector(bl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=wc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,ke(f);return}f=n.ownerDocument||n,o=R_(o),(h=ni.get(h))&&Rd(o,h),f=f.createElement("link"),ke(f);var g=f;g._p=new Promise(function(T,I){g.onload=T,g.onerror=I}),an(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=wc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Cd=0;function Sb(e,n){return e.stylesheets&&e.count===0&&Rc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&Rc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Cd===0&&(Cd=62500*ib());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Rc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Cd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xc=null;function Rc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xc=new Map,n.forEach(Ab,e),xc=null,wc.call(e))}function Ab(e,n){if(!(n.state.loading&4)){var s=xc.get(e);if(s)var o=s.get(null);else{s=new Map,xc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=wc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Al={$$typeof:mt,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function wb(e,n,s,o,h,f,g,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function O_(e,n,s,o,h,f,g,T,I,j,F,$){return e=new wb(e,n,s,g,I,j,F,$,T),n=1,f===!0&&(n|=24),f=Ln(3,null,null,n),e.current=f,f.stateNode=e,n=lf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},ff(f),e}function M_(e){return e?(e=Da,e):Da}function V_(e,n,s,o,h,f){h=M_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ys(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Xs(e,o,n),s!==null&&(In(s,e,n),nl(s,e,n))}function k_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Nd(e,n){k_(e,n),(e=e.alternate)&&k_(e,n)}function L_(e){if(e.tag===13||e.tag===31){var n=Kr(e,67108864);n!==null&&In(n,e,67108864),Nd(e,67108864)}}function U_(e){if(e.tag===13||e.tag===31){var n=Bn();n=kr(n);var s=Kr(e,n);s!==null&&In(s,e,n),Nd(e,n)}}var Ic=!0;function xb(e,n,s,o){var h=G.T;G.T=null;var f=rt.p;try{rt.p=2,Dd(e,n,s,o)}finally{rt.p=f,G.T=h}}function Rb(e,n,s,o){var h=G.T;G.T=null;var f=rt.p;try{rt.p=8,Dd(e,n,s,o)}finally{rt.p=f,G.T=h}}function Dd(e,n,s,o){if(Ic){var h=Od(o);if(h===null)yd(e,n,o,Cc,s),j_(e,o);else if(Cb(h,e,n,s,o))o.stopPropagation();else if(j_(e,o),n&4&&-1<Ib.indexOf(e)){for(;h!==null;){var f=Fn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=yn(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var I=1<<31-Wt(g);T.entanglements[1]|=I,g&=~I}Bi(f),(Jt&6)===0&&(hc=pt()+500,_l(0))}}break;case 31:case 13:T=Kr(f,2),T!==null&&In(T,f,2),dc(),Nd(f,2)}if(f=Od(o),f===null&&yd(e,n,o,Cc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else yd(e,n,o,null,s)}}function Od(e){return e=Qn(e),Md(e)}var Cc=null;function Md(e){if(Cc=null,e=Ri(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=y(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Cc=e,null}function P_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lt()){case qt:return 2;case Xe:return 8;case Fe:case $e:return 32;case cn:return 268435456;default:return 32}default:return 32}}var Vd=!1,ar=null,or=null,lr=null,wl=new Map,xl=new Map,ur=[],Ib="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j_(e,n){switch(e){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(n.pointerId)}}function Rl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Fn(n),n!==null&&L_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Cb(e,n,s,o,h){switch(n){case"focusin":return ar=Rl(ar,e,n,s,o,h),!0;case"dragenter":return or=Rl(or,e,n,s,o,h),!0;case"mouseover":return lr=Rl(lr,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return wl.set(f,Rl(wl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,xl.set(f,Rl(xl.get(f)||null,e,n,s,o,h)),!0}return!1}function z_(e){var n=Ri(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,li(e.priority,function(){U_(s)});return}}else if(n===31){if(n=y(s),n!==null){e.blockedOn=n,li(e.priority,function(){U_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Od(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);zo=o,s.target.dispatchEvent(o),zo=null}else return n=Fn(s),n!==null&&L_(n),e.blockedOn=s,!1;n.shift()}return!0}function B_(e,n,s){Nc(e)&&s.delete(n)}function Nb(){Vd=!1,ar!==null&&Nc(ar)&&(ar=null),or!==null&&Nc(or)&&(or=null),lr!==null&&Nc(lr)&&(lr=null),wl.forEach(B_),xl.forEach(B_)}function Dc(e,n){e.blockedOn===n&&(e.blockedOn=null,Vd||(Vd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Nb)))}var Oc=null;function H_(e){Oc!==e&&(Oc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Oc===e&&(Oc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Md(o||s)===null)continue;break}var f=Fn(s);f!==null&&(e.splice(n,3),n-=3,Of(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function eo(e){function n(I){return Dc(I,e)}ar!==null&&Dc(ar,e),or!==null&&Dc(or,e),lr!==null&&Dc(lr,e),wl.forEach(n),xl.forEach(n);for(var s=0;s<ur.length;s++){var o=ur[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ur.length&&(s=ur[0],s.blockedOn===null);)z_(s),s.blockedOn===null&&ur.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Ze]||null;if(typeof f=="function")g||H_(s);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ze]||null)T=g.formAction;else if(Md(h)!==null)continue}else T=g.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),H_(s)}}}function q_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function kd(e){this._internalRoot=e}Mc.prototype.render=kd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Bn();V_(s,o,e,n,null,null)},Mc.prototype.unmount=kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;V_(e.current,2,null,e,null,null),dc(),n[wi]=null}};function Mc(e){this._internalRoot=e}Mc.prototype.unstable_scheduleHydration=function(e){if(e){var n=du();e={blockedOn:null,target:e,priority:n};for(var s=0;s<ur.length&&n!==0&&n<ur[s].priority;s++);ur.splice(s,0,e),s===0&&z_(e)}};var G_=t.version;if(G_!=="19.2.3")throw Error(a(527,G_,"19.2.3"));rt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var Db={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{Tn=Vc.inject(Db),Me=Vc}catch{}}return Cl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Zg,f=Jg,g=Wg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=O_(e,1,!1,null,null,s,o,null,h,f,g,q_),e[wi]=n.current,gd(e),new kd(n)},Cl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Zg,g=Jg,T=Wg,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=O_(e,1,!0,n,s??null,o,h,I,f,g,T,q_),n.context=M_(null),s=n.current,o=Bn(),o=kr(o),h=Ys(o),h.callback=null,Xs(s,h,o),s=o,n.current.lanes=s,Mr(n,s),Bi(n),e[wi]=n.current,gd(e),new Mc(n)},Cl.version="19.2.3",Cl}var t0;function Bb(){if(t0)return Pd.exports;t0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Pd.exports=zb(),Pd.exports}var Hb=Bb();const qb=()=>{};var e0={};const Cv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Gb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],y=r[i++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;t[a++]=String.fromCharCode(55296+(p>>10)),t[a++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Nv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,y=d?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,E=c>>2,w=(c&3)<<4|y>>4;let M=(y&15)<<2|_>>6,q=_&63;p||(q=64,d||(M=64)),a.push(i[E],i[w],i[M],i[q])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Cv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Gb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],y=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const w=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||y==null||_==null||w==null)throw new Fb;const M=c<<2|y>>4;if(a.push(M),_!==64){const q=y<<4&240|_>>2;if(a.push(q),w!==64){const nt=_<<6&192|w;a.push(nt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Fb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qb=function(r){const t=Cv(r);return Nv.encodeByteArray(t,!0)},Wc=function(r){return Qb(r).replace(/\./g,"")},Dv=function(r){try{return Nv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Kb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Yb=()=>Kb().__FIREBASE_DEFAULTS__,Xb=()=>{if(typeof process>"u"||typeof e0>"u")return;const r=e0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},$b=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Dv(r[1]);return t&&JSON.parse(t)},vh=()=>{try{return qb()||Yb()||Xb()||$b()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Ov=r=>vh()?.emulatorHosts?.[r],Zb=r=>{const t=Ov(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Mv=()=>vh()?.config,Vv=r=>vh()?.[`_${r}`];class Jb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function bo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kv(r){return(await fetch(r,{credentials:"include"})).ok}function Wb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Wc(JSON.stringify(i)),Wc(JSON.stringify(d)),""].join(".")}const Ll={};function tS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Ll))Ll[t]?r.emulator.push(t):r.prod.push(t);return r}function eS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let n0=!1;function Lv(r,t){if(typeof window>"u"||typeof document>"u"||!bo(window.location.host)||Ll[r]===t||Ll[r]||n0)return;Ll[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=tS().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function p(M,q){M.setAttribute("width","24"),M.setAttribute("id",q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{n0=!0,d()},M}function E(M,q){M.setAttribute("id",q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=eS(a),q=i("text"),nt=document.getElementById(q)||document.createElement("span"),it=i("learnmore"),et=document.getElementById(it)||document.createElement("a"),ot=i("preprendIcon"),gt=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const mt=M.element;y(mt),E(et,it);const Qt=_();p(gt,ot),mt.append(gt,nt,et,Qt),document.body.appendChild(mt)}c?(nt.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,nt.innerText="Preview backend running in this workspace."),nt.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function iS(){const r=vh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function aS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oS(){const r=pn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function lS(){return!iS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uS(){try{return typeof indexedDB=="object"}catch{return!1}}function cS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const hS="FirebaseError";class Is extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=hS,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?fS(c,a):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new Is(l,y,a)}}function fS(r,t){return r.replace(dS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const dS=/\{\$([^}]+)}/g;function mS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function br(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(i0(c)&&i0(d)){if(!br(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function i0(r){return r!==null&&typeof r=="object"}function Wl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function pS(r,t){const i=new gS(r,t);return i.subscribe.bind(i)}class gS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");yS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Hd),l.error===void 0&&(l.error=Hd),l.complete===void 0&&(l.complete=Hd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Hd(){}function En(r){return r&&r._delegate?r._delegate:r}class ua{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const aa="[DEFAULT]";class _S{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Jb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ES(t))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=aa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=aa){return this.instances.has(t)}getOptions(t=aa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:vS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=aa){return this.component?this.component.multipleInstances?t:aa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vS(r){return r===aa?void 0:r}function ES(r){return r.instantiationMode==="EAGER"}class TS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new _S(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const bS={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},SS=Pt.INFO,AS={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},wS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=AS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class km{constructor(t){this.name=t,this._logLevel=SS,this._logHandler=wS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?bS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const xS=(r,t)=>t.some(i=>r instanceof i);let s0,r0;function RS(){return s0||(s0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IS(){return r0||(r0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uv=new WeakMap,rm=new WeakMap,Pv=new WeakMap,qd=new WeakMap,Lm=new WeakMap;function CS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(yr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Uv.set(i,r)}).catch(()=>{}),Lm.set(t,r),t}function NS(r){if(rm.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});rm.set(r,t)}let am={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return rm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Pv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return yr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function DS(r){am=r(am)}function OS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Gd(this),t,...i);return Pv.set(a,t.sort?t.sort():[t]),yr(a)}:IS().includes(r)?function(...t){return r.apply(Gd(this),t),yr(Uv.get(this))}:function(...t){return yr(r.apply(Gd(this),t))}}function MS(r){return typeof r=="function"?OS(r):(r instanceof IDBTransaction&&NS(r),xS(r,RS())?new Proxy(r,am):r)}function yr(r){if(r instanceof IDBRequest)return CS(r);if(qd.has(r))return qd.get(r);const t=MS(r);return t!==r&&(qd.set(r,t),Lm.set(t,r)),t}const Gd=r=>Lm.get(r);function VS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),y=yr(d);return a&&d.addEventListener("upgradeneeded",p=>{a(yr(d.result),p.oldVersion,p.newVersion,yr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),y.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const kS=["get","getKey","getAll","getAllKeys","count"],LS=["put","add","delete","clear"],Fd=new Map;function a0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Fd.get(t))return Fd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=LS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||kS.includes(i)))return;const c=async function(d,...y){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),l&&p.done]))[0]};return Fd.set(t,c),c}DS(r=>({...r,get:(t,i,a)=>a0(t,i)||r.get(t,i,a),has:(t,i)=>!!a0(t,i)||r.has(t,i)}));class US{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(PS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function PS(r){return r.getComponent()?.type==="VERSION"}const om="@firebase/app",o0="0.14.6";const bs=new km("@firebase/app"),jS="@firebase/app-compat",zS="@firebase/analytics-compat",BS="@firebase/analytics",HS="@firebase/app-check-compat",qS="@firebase/app-check",GS="@firebase/auth",FS="@firebase/auth-compat",QS="@firebase/database",KS="@firebase/data-connect",YS="@firebase/database-compat",XS="@firebase/functions",$S="@firebase/functions-compat",ZS="@firebase/installations",JS="@firebase/installations-compat",WS="@firebase/messaging",tA="@firebase/messaging-compat",eA="@firebase/performance",nA="@firebase/performance-compat",iA="@firebase/remote-config",sA="@firebase/remote-config-compat",rA="@firebase/storage",aA="@firebase/storage-compat",oA="@firebase/firestore",lA="@firebase/ai",uA="@firebase/firestore-compat",cA="firebase",hA="12.6.0";const lm="[DEFAULT]",fA={[om]:"fire-core",[jS]:"fire-core-compat",[BS]:"fire-analytics",[zS]:"fire-analytics-compat",[qS]:"fire-app-check",[HS]:"fire-app-check-compat",[GS]:"fire-auth",[FS]:"fire-auth-compat",[QS]:"fire-rtdb",[KS]:"fire-data-connect",[YS]:"fire-rtdb-compat",[XS]:"fire-fn",[$S]:"fire-fn-compat",[ZS]:"fire-iid",[JS]:"fire-iid-compat",[WS]:"fire-fcm",[tA]:"fire-fcm-compat",[eA]:"fire-perf",[nA]:"fire-perf-compat",[iA]:"fire-rc",[sA]:"fire-rc-compat",[rA]:"fire-gcs",[aA]:"fire-gcs-compat",[oA]:"fire-fst",[uA]:"fire-fst-compat",[lA]:"fire-vertex","fire-js":"fire-js",[cA]:"fire-js-all"};const th=new Map,dA=new Map,um=new Map;function l0(r,t){try{r.container.addComponent(t)}catch(i){bs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function mo(r){const t=r.name;if(um.has(t))return bs.debug(`There were multiple attempts to register component ${t}.`),!1;um.set(t,r);for(const i of th.values())l0(i,r);for(const i of dA.values())l0(i,r);return!0}function Um(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function ii(r){return r==null?!1:r.settings!==void 0}const mA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_r=new Jl("app","Firebase",mA);class pA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}const So=hA;function jv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:lm,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw _r.create("bad-app-name",{appName:String(l)});if(i||(i=Mv()),!i)throw _r.create("no-options");const c=th.get(l);if(c){if(br(i,c.options)&&br(a,c.config))return c;throw _r.create("duplicate-app",{appName:l})}const d=new TS(l);for(const p of um.values())d.addComponent(p);const y=new pA(i,a,d);return th.set(l,y),y}function zv(r=lm){const t=th.get(r);if(!t&&r===lm&&Mv())return jv();if(!t)throw _r.create("no-app",{appName:r});return t}function vr(r,t,i){let a=fA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),bs.warn(d.join(" "));return}mo(new ua(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const gA="firebase-heartbeat-database",yA=1,ql="firebase-heartbeat-store";let Qd=null;function Bv(){return Qd||(Qd=VS(gA,yA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(ql)}catch(i){console.warn(i)}}}}).catch(r=>{throw _r.create("idb-open",{originalErrorMessage:r.message})})),Qd}async function _A(r){try{const i=(await Bv()).transaction(ql),a=await i.objectStore(ql).get(Hv(r));return await i.done,a}catch(t){if(t instanceof Is)bs.warn(t.message);else{const i=_r.create("idb-get",{originalErrorMessage:t?.message});bs.warn(i.message)}}}async function u0(r,t){try{const a=(await Bv()).transaction(ql,"readwrite");await a.objectStore(ql).put(t,Hv(r)),await a.done}catch(i){if(i instanceof Is)bs.warn(i.message);else{const a=_r.create("idb-set",{originalErrorMessage:i?.message});bs.warn(a.message)}}}function Hv(r){return`${r.name}!${r.options.appId}`}const vA=1024,EA=30;class TA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new SA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=c0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>EA){const l=AA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){bs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=c0(),{heartbeatsToSend:i,unsentEntries:a}=bA(this._heartbeatsCache.heartbeats),l=Wc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return bs.warn(t),""}}}function c0(){return new Date().toISOString().substring(0,10)}function bA(r,t=vA){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),h0(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),h0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class SA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uS()?cS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await _A(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return u0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return u0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function h0(r){return Wc(JSON.stringify({version:2,heartbeats:r})).length}function AA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function wA(r){mo(new ua("platform-logger",t=>new US(t),"PRIVATE")),mo(new ua("heartbeat",t=>new TA(t),"PRIVATE")),vr(om,o0,r),vr(om,o0,"esm2020"),vr("fire-js","")}wA("");var xA="firebase",RA="12.7.0";vr(xA,RA,"app");function qv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IA=qv,Gv=new Jl("auth","Firebase",qv());const eh=new km("@firebase/auth");function CA(r,...t){eh.logLevel<=Pt.WARN&&eh.warn(`Auth (${So}): ${r}`,...t)}function Hc(r,...t){eh.logLevel<=Pt.ERROR&&eh.error(`Auth (${So}): ${r}`,...t)}function Ss(r,...t){throw Pm(r,...t)}function qi(r,...t){return Pm(r,...t)}function Fv(r,t,i){const a={...IA(),[t]:i};return new Jl("auth","Firebase",a).create(t,{appName:r.name})}function Ts(r){return Fv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Gv.create(r,...t)}function At(r,t,...i){if(!r)throw Pm(t,...i)}function vs(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Hc(t),new Error(t)}function As(r,t){r||vs(t)}function cm(){return typeof self<"u"&&self.location?.href||""}function NA(){return f0()==="http:"||f0()==="https:"}function f0(){return typeof self<"u"&&self.location?.protocol||null}function DA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NA()||rS()||"connection"in navigator)?navigator.onLine:!0}function OA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class tu{constructor(t,i){this.shortDelay=t,this.longDelay=i,As(i>t,"Short delay should be less than long delay!"),this.isMobile=nS()||aS()}get(){return DA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jm(r,t){As(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Qv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const MA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const VA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kA=new tu(3e4,6e4);function eu(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Ao(r,t,i,a,l={}){return Kv(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const y=Wl({key:r.config.apiKey,...d}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:p,...c};return sS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&bo(r.emulatorConfig.host)&&(_.credentials="include"),Qv.fetch()(await Yv(r,r.config.apiHost,i,y),_)})}async function Kv(r,t,i){r._canInitEmulator=!1;const a={...MA,...t};try{const l=new LA(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw kc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[p,_]=y.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw kc(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw kc(r,"user-disabled",d);const E=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Fv(r,E,_);Ss(r,E)}}catch(l){if(l instanceof Is)throw l;Ss(r,"network-request-failed",{message:String(l)})}}async function zm(r,t,i,a,l={}){const c=await Ao(r,t,i,a,l);return"mfaPendingCredential"in c&&Ss(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Yv(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?jm(r.config,l):`${r.config.apiScheme}://${l}`;return VA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class LA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(qi(this.auth,"network-request-failed")),kA.get())})}}function kc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=qi(r,t,a);return l.customData._tokenResponse=i,l}async function UA(r,t){return Ao(r,"POST","/v1/accounts:delete",t)}async function nh(r,t){return Ao(r,"POST","/v1/accounts:lookup",t)}function Ul(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function PA(r,t=!1){const i=En(r),a=await i.getIdToken(t),l=Bm(a);At(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Ul(Kd(l.auth_time)),issuedAtTime:Ul(Kd(l.iat)),expirationTime:Ul(Kd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Kd(r){return Number(r)*1e3}function Bm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Dv(i);return l?JSON.parse(l):(Hc("Failed to decode base64 JWT payload"),null)}catch(l){return Hc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function d0(r){const t=Bm(r);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Gl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Is&&jA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function jA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class zA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class hm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ih(r){const t=r.auth,i=await r.getIdToken(),a=await Gl(r,nh(t,{idToken:i}));At(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?Xv(l.providerUserInfo):[],d=HA(r.providerData,c),y=r.isAnonymous,p=!(r.email&&l.passwordHash)&&!d?.length,_=y?p:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new hm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,E)}async function BA(r){const t=En(r);await ih(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function HA(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Xv(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function qA(r,t){const i=await Kv(r,{},async()=>{const a=Wl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await Yv(r,l,"/v1/token",`key=${c}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:y,body:a};return r.emulatorConfig&&bo(r.emulatorConfig.host)&&(p.credentials="include"),Qv.fetch()(d,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function GA(r,t){return Ao(r,"POST","/v2/accounts:revokeToken",eu(r,t))}class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):d0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){At(t.length!==0,"internal-error");const i=d0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await qA(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new lo;return a&&(At(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(At(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(At(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return vs("not implemented")}}function hr(r,t){At(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Ei{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new zA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new hm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Gl(this,this.stsTokenManager.getToken(this.auth,t));return At(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return PA(this,t)}reload(){return BA(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Ei({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await ih(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(Ts(this.auth));const t=await this.getIdToken();return await Gl(this,UA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,p=i._redirectEventId??void 0,_=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:q,providerData:nt,stsTokenManager:it}=i;At(w&&it,t,"internal-error");const et=lo.fromJSON(this.name,it);At(typeof w=="string",t,"internal-error"),hr(a,t.name),hr(l,t.name),At(typeof M=="boolean",t,"internal-error"),At(typeof q=="boolean",t,"internal-error"),hr(c,t.name),hr(d,t.name),hr(y,t.name),hr(p,t.name),hr(_,t.name),hr(E,t.name);const ot=new Ei({uid:w,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:et,createdAt:_,lastLoginAt:E});return nt&&Array.isArray(nt)&&(ot.providerData=nt.map(gt=>({...gt}))),p&&(ot._redirectEventId=p),ot}static async _fromIdTokenResponse(t,i,a=!1){const l=new lo;l.updateFromServerResponse(i);const c=new Ei({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await ih(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];At(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Xv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,y=new lo;y.updateFromIdToken(a);const p=new Ei({uid:l.localId,auth:t,stsTokenManager:y,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new hm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(p,_),p}}const m0=new Map;function Es(r){As(r instanceof Function,"Expected a class definition");let t=m0.get(r);return t?(As(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,m0.set(r,t),t)}class $v{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}$v.type="NONE";const p0=$v;function qc(r,t,i){return`firebase:${r}:${t}:${i}`}class uo{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=qc(this.userKey,l.apiKey,c),this.fullPersistenceKey=qc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await nh(this.auth,{idToken:t}).catch(()=>{});return i?Ei._fromGetAccountInfoResponse(this.auth,i,t):null}return Ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new uo(Es(p0),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Es(p0);const d=qc(a,t.config.apiKey,t.name);let y=null;for(const _ of i)try{const E=await _._get(d);if(E){let w;if(typeof E=="string"){const M=await nh(t,{idToken:E}).catch(()=>{});if(!M)break;w=await Ei._fromGetAccountInfoResponse(t,M,E)}else w=Ei._fromJSON(t,E);_!==c&&(y=w),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new uo(c,t,a):(c=p[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new uo(c,t,a))}}function g0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(t1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Zv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(n1(t))return"Blackberry";if(i1(t))return"Webos";if(Jv(t))return"Safari";if((t.includes("chrome/")||Wv(t))&&!t.includes("edge/"))return"Chrome";if(e1(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Zv(r=pn()){return/firefox\//i.test(r)}function Jv(r=pn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Wv(r=pn()){return/crios\//i.test(r)}function t1(r=pn()){return/iemobile/i.test(r)}function e1(r=pn()){return/android/i.test(r)}function n1(r=pn()){return/blackberry/i.test(r)}function i1(r=pn()){return/webos/i.test(r)}function Hm(r=pn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function FA(r=pn()){return Hm(r)&&!!window.navigator?.standalone}function QA(){return oS()&&document.documentMode===10}function s1(r=pn()){return Hm(r)||e1(r)||i1(r)||n1(r)||/windows phone/i.test(r)||t1(r)}function r1(r,t=[]){let i;switch(r){case"Browser":i=g0(pn());break;case"Worker":i=`${g0(pn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${So}/${a}`}class KA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,y)=>{try{const p=t(c);d(p)}catch(p){y(p)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function YA(r,t={}){return Ao(r,"GET","/v2/passwordPolicy",eu(r,t))}const XA=6;class $A{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??XA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class ZA{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y0(this),this.idTokenSubscription=new y0(this),this.beforeStateQueue=new KA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Es(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await uo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await nh(this,{idToken:t}),a=await Ei._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ii(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(t);(!c||c===d)&&y?.user&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await ih(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=OA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ii(this.app))return Promise.reject(Ts(this));const i=t?En(t):null;return i&&At(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(Ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ii(this.app)?Promise.reject(Ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Es(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await YA(this),i=new $A(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Jl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await GA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Es(t)||this._popupRedirectResolver;At(i,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[Es(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,a,l);return()=>{d=!0,p()}}else{const p=t.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=r1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&CA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function nu(r){return En(r)}class y0{constructor(t){this.auth=t,this.observer=null,this.addObserver=pS(i=>this.observer=i)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JA(r){qm=r}function WA(r){return qm.loadJS(r)}function t2(){return qm.gapiScript}function e2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function n2(r,t){const i=Um(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(br(c,t??{}))return l;Ss(l,"already-initialized")}return i.initialize({options:t})}function i2(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Es);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function s2(r,t,i){const a=nu(r);At(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=a1(t),{host:d,port:y}=r2(t),p=y===null?"":`:${y}`,_={url:`${c}//${d}${p}/`},E=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){At(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),At(br(_,a.config.emulator)&&br(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,bo(d)?(kv(`${c}//${d}${p}`),Lv("Auth",!0)):a2()}function a1(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function r2(r){const t=a1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:_0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:_0(d)}}}function _0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function a2(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class o1{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return vs("not implemented")}_getIdTokenResponse(t){return vs("not implemented")}_linkToIdToken(t,i){return vs("not implemented")}_getReauthenticationResolver(t){return vs("not implemented")}}async function co(r,t){return zm(r,"POST","/v1/accounts:signInWithIdp",eu(r,t))}const o2="http://localhost";class ca extends o1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ca(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ss("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ca(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return co(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,co(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,co(t,i)}buildRequest(){const t={requestUri:o2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Wl(i)}return t}}class l1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class iu extends l1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class fr extends iu{constructor(){super("facebook.com")}static credential(t){return ca._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fr.credentialFromTaggedObject(t)}static credentialFromError(t){return fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fr.credential(t.oauthAccessToken)}catch{return null}}}fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";fr.PROVIDER_ID="facebook.com";class dr extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ca._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return dr.credentialFromTaggedObject(t)}static credentialFromError(t){return dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return dr.credential(i,a)}catch{return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com";dr.PROVIDER_ID="google.com";class mr extends iu{constructor(){super("github.com")}static credential(t){return ca._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mr.credentialFromTaggedObject(t)}static credentialFromError(t){return mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return mr.credential(t.oauthAccessToken)}catch{return null}}}mr.GITHUB_SIGN_IN_METHOD="github.com";mr.PROVIDER_ID="github.com";class pr extends iu{constructor(){super("twitter.com")}static credential(t,i){return ca._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return pr.credentialFromTaggedObject(t)}static credentialFromError(t){return pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return pr.credential(i,a)}catch{return null}}}pr.TWITTER_SIGN_IN_METHOD="twitter.com";pr.PROVIDER_ID="twitter.com";async function l2(r,t){return zm(r,"POST","/v1/accounts:signUp",eu(r,t))}class ws{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Ei._fromIdTokenResponse(t,a,l),d=v0(a);return new ws({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=v0(a);return new ws({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function v0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function u2(r){if(ii(r.app))return Promise.reject(Ts(r));const t=nu(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ws({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await l2(t,{returnSecureToken:!0}),a=await ws._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class sh extends Is{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new sh(t,i,a,l)}}function u1(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(r,c,t,a):c})}async function c2(r,t,i=!1){const a=await Gl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ws._forOperation(r,"link",a)}async function h2(r,t,i=!1){const{auth:a}=r;if(ii(a.app))return Promise.reject(Ts(a));const l="reauthenticate";try{const c=await Gl(r,u1(a,l,t,r),i);At(c.idToken,a,"internal-error");const d=Bm(c.idToken);At(d,a,"internal-error");const{sub:y}=d;return At(r.uid===y,a,"user-mismatch"),ws._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ss(a,"user-mismatch"),c}}async function f2(r,t,i=!1){if(ii(r.app))return Promise.reject(Ts(r));const a="signIn",l=await u1(r,a,t),c=await ws._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function d2(r,t){return zm(r,"POST","/v1/accounts:signInWithCustomToken",eu(r,t))}async function m2(r,t){if(ii(r.app))return Promise.reject(Ts(r));const i=nu(r),a=await d2(i,{token:t,returnSecureToken:!0}),l=await ws._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function p2(r,t,i,a){return En(r).onIdTokenChanged(t,i,a)}function g2(r,t,i){return En(r).beforeAuthStateChanged(t,i)}function y2(r,t,i,a){return En(r).onAuthStateChanged(t,i,a)}const rh="__sak";class c1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const _2=1e3,v2=10;class h1 extends c1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=s1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,y,p)=>{this.notifyListeners(d,p)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);QA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,v2):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},_2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}h1.type="LOCAL";const E2=h1;class f1 extends c1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}f1.type="SESSION";const d1=f1;function T2(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Eh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Eh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(d).map(async _=>_(i.origin,c)),p=await T2(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];function Gm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class b2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((y,p)=>{const _=Gm("",20);l.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const M=w;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(E),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Gi(){return window}function S2(r){Gi().location.href=r}function m1(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function A2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w2(){return navigator?.serviceWorker?.controller||null}function x2(){return m1()?self:null}const p1="firebaseLocalStorageDb",R2=1,ah="firebaseLocalStorage",g1="fbase_key";class su{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Th(r,t){return r.transaction([ah],t?"readwrite":"readonly").objectStore(ah)}function I2(){const r=indexedDB.deleteDatabase(p1);return new su(r).toPromise()}function fm(){const r=indexedDB.open(p1,R2);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(ah,{keyPath:g1})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(ah)?t(a):(a.close(),await I2(),t(await fm()))})})}async function E0(r,t,i){const a=Th(r,!0).put({[g1]:t,value:i});return new su(a).toPromise()}async function C2(r,t){const i=Th(r,!1).get(t),a=await new su(i).toPromise();return a===void 0?null:a.value}function T0(r,t){const i=Th(r,!0).delete(t);return new su(i).toPromise()}const N2=800,D2=3;class y1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>D2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return m1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance(x2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await A2(),!this.activeServiceWorker)return;this.sender=new b2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||w2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await fm();return await E0(t,rh,"1"),await T0(t,rh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>E0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>C2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>T0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Th(l,!1).getAll();return new su(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),N2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}y1.type="LOCAL";const O2=y1;new tu(3e4,6e4);function M2(r,t){return t?Es(t):(At(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Fm extends o1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return co(t,this._buildIdpRequest())}_linkToIdToken(t,i){return co(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return co(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function V2(r){return f2(r.auth,new Fm(r),r.bypassAuthState)}function k2(r){const{auth:t,user:i}=r;return At(i,t,"internal-error"),h2(i,new Fm(r),r.bypassAuthState)}async function L2(r){const{auth:t,user:i}=r;return At(i,t,"internal-error"),c2(i,new Fm(r),r.bypassAuthState)}class _1{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:y}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return V2;case"linkViaPopup":case"linkViaRedirect":return L2;case"reauthViaPopup":case"reauthViaRedirect":return k2;default:Ss(this.auth,"internal-error")}}resolve(t){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const U2=new tu(2e3,1e4);class oo extends _1{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const t=Gm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,U2.get())};t()}}oo.currentPopupAction=null;const P2="pendingRedirect",Gc=new Map;class j2 extends _1{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Gc.get(this.auth._key());if(!t){try{const a=await z2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Gc.set(this.auth._key(),t)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function z2(r,t){const i=q2(t),a=H2(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function B2(r,t){Gc.set(r._key(),t)}function H2(r){return Es(r._redirectPersistence)}function q2(r){return qc(P2,r.config.apiKey,r.name)}async function G2(r,t,i=!1){if(ii(r.app))return Promise.reject(Ts(r));const a=nu(r),l=M2(a,t),d=await new j2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const F2=600*1e3;class Q2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!K2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!v1(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(qi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=F2&&this.cachedEventUids.clear(),this.cachedEventUids.has(b0(t))}saveEventToCache(t){this.cachedEventUids.add(b0(t)),this.lastProcessedEventTime=Date.now()}}function b0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function v1({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function K2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v1(r);default:return!1}}async function Y2(r,t={}){return Ao(r,"GET","/v1/projects",t)}const X2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$2=/^https?/;async function Z2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Y2(r);for(const i of t)try{if(J2(i))return}catch{}Ss(r,"unauthorized-domain")}function J2(r){const t=cm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!$2.test(i))return!1;if(X2.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const W2=new tu(3e4,6e4);function S0(){const r=Gi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function tw(r){return new Promise((t,i)=>{function a(){S0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{S0(),i(qi(r,"network-request-failed"))},timeout:W2.get()})}if(Gi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Gi().gapi?.load)a();else{const l=e2("iframefcb");return Gi()[l]=()=>{gapi.load?a():i(qi(r,"network-request-failed"))},WA(`${t2()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Fc=null,t})}let Fc=null;function ew(r){return Fc=Fc||tw(r),Fc}const nw=new tu(5e3,15e3),iw="__/auth/iframe",sw="emulator/auth/iframe",rw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ow(r){const t=r.config;At(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?jm(t,sw):`https://${r.config.authDomain}/${iw}`,a={apiKey:t.apiKey,appName:r.name,v:So},l=aw.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Wl(a).slice(1)}`}async function lw(r){const t=await ew(r),i=Gi().gapi;return At(i,r,"internal-error"),t.open({where:document.body,url:ow(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=qi(r,"network-request-failed"),y=Gi().setTimeout(()=>{c(d)},nw.get());function p(){Gi().clearTimeout(y),l(a)}a.ping(p).then(p,()=>{c(d)})}))}const uw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cw=500,hw=600,fw="_blank",dw="http://localhost";class A0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mw(r,t,i,a=cw,l=hw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const p={...uw,width:a.toString(),height:l.toString(),top:c,left:d},_=pn().toLowerCase();i&&(y=Wv(_)?fw:i),Zv(_)&&(t=t||dw,p.scrollbars="yes");const E=Object.entries(p).reduce((M,[q,nt])=>`${M}${q}=${nt},`,"");if(FA(_)&&y!=="_self")return pw(t||"",y),new A0(null);const w=window.open(t||"",y,E);At(w,r,"popup-blocked");try{w.focus()}catch{}return new A0(w)}function pw(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const gw="__/auth/handler",yw="emulator/auth/handler",_w=encodeURIComponent("fac");async function w0(r,t,i,a,l,c){At(r.config.authDomain,r,"auth-domain-config-required"),At(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:So,eventId:l};if(t instanceof l1){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",mS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,w]of Object.entries({}))d[E]=w}if(t instanceof iu){const E=t.getScopes().filter(w=>w!=="");E.length>0&&(d.scopes=E.join(","))}r.tenantId&&(d.tid=r.tenantId);const y=d;for(const E of Object.keys(y))y[E]===void 0&&delete y[E];const p=await r._getAppCheckToken(),_=p?`#${_w}=${encodeURIComponent(p)}`:"";return`${vw(r)}?${Wl(y).slice(1)}${_}`}function vw({config:r}){return r.emulator?jm(r,yw):`https://${r.authDomain}/${gw}`}const Yd="webStorageSupport";class Ew{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=d1,this._completeRedirectFn=G2,this._overrideRedirectResult=B2}async _openPopup(t,i,a,l){As(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await w0(t,i,a,cm(),l);return mw(t,c,Gm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await w0(t,i,a,cm(),l);return S2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(As(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await lw(t),a=new Q2(t);return i.register("authEvent",l=>(At(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Yd,{type:Yd},l=>{const c=l?.[0]?.[Yd];c!==void 0&&i(!!c),Ss(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Z2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return s1()||Jv()||Hm()}}const Tw=Ew;var x0="@firebase/auth",R0="1.12.0";class bw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Sw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Aw(r){mo(new ua("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;At(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:r1(r)},_=new ZA(a,l,c,p);return i2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),mo(new ua("auth-internal",t=>{const i=nu(t.getProvider("auth").getImmediate());return(a=>new bw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),vr(x0,R0,Sw(r)),vr(x0,R0,"esm2020")}const ww=300,xw=Vv("authIdTokenMaxAge")||ww;let I0=null;const Rw=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>xw)return;const l=i?.token;I0!==l&&(I0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Iw(r=zv()){const t=Um(r,"auth");if(t.isInitialized())return t.getImmediate();const i=n2(r,{popupRedirectResolver:Tw,persistence:[O2,E2,d1]}),a=Vv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Rw(c.toString());g2(i,d,()=>d(i.currentUser)),p2(i,y=>d(y))}}const l=Ov("auth");return l&&s2(i,`http://${l}`),i}function Cw(){return document.getElementsByTagName("head")?.[0]??document}JA({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=qi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",Cw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Aw("Browser");var C0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Er,E1;(function(){var r;function t(C,A){function R(){}R.prototype=A.prototype,C.F=A.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(V,N,L){for(var x=Array(arguments.length-2),he=2;he<arguments.length;he++)x[he-2]=arguments[he];return A.prototype[N].apply(V,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,A,R){R||(R=0);const V=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)V[N]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(N=0;N<16;++N)V[N]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=C.g[0],R=C.g[1],N=C.g[2];let L=C.g[3],x;x=A+(L^R&(N^L))+V[0]+3614090360&4294967295,A=R+(x<<7&4294967295|x>>>25),x=L+(N^A&(R^N))+V[1]+3905402710&4294967295,L=A+(x<<12&4294967295|x>>>20),x=N+(R^L&(A^R))+V[2]+606105819&4294967295,N=L+(x<<17&4294967295|x>>>15),x=R+(A^N&(L^A))+V[3]+3250441966&4294967295,R=N+(x<<22&4294967295|x>>>10),x=A+(L^R&(N^L))+V[4]+4118548399&4294967295,A=R+(x<<7&4294967295|x>>>25),x=L+(N^A&(R^N))+V[5]+1200080426&4294967295,L=A+(x<<12&4294967295|x>>>20),x=N+(R^L&(A^R))+V[6]+2821735955&4294967295,N=L+(x<<17&4294967295|x>>>15),x=R+(A^N&(L^A))+V[7]+4249261313&4294967295,R=N+(x<<22&4294967295|x>>>10),x=A+(L^R&(N^L))+V[8]+1770035416&4294967295,A=R+(x<<7&4294967295|x>>>25),x=L+(N^A&(R^N))+V[9]+2336552879&4294967295,L=A+(x<<12&4294967295|x>>>20),x=N+(R^L&(A^R))+V[10]+4294925233&4294967295,N=L+(x<<17&4294967295|x>>>15),x=R+(A^N&(L^A))+V[11]+2304563134&4294967295,R=N+(x<<22&4294967295|x>>>10),x=A+(L^R&(N^L))+V[12]+1804603682&4294967295,A=R+(x<<7&4294967295|x>>>25),x=L+(N^A&(R^N))+V[13]+4254626195&4294967295,L=A+(x<<12&4294967295|x>>>20),x=N+(R^L&(A^R))+V[14]+2792965006&4294967295,N=L+(x<<17&4294967295|x>>>15),x=R+(A^N&(L^A))+V[15]+1236535329&4294967295,R=N+(x<<22&4294967295|x>>>10),x=A+(N^L&(R^N))+V[1]+4129170786&4294967295,A=R+(x<<5&4294967295|x>>>27),x=L+(R^N&(A^R))+V[6]+3225465664&4294967295,L=A+(x<<9&4294967295|x>>>23),x=N+(A^R&(L^A))+V[11]+643717713&4294967295,N=L+(x<<14&4294967295|x>>>18),x=R+(L^A&(N^L))+V[0]+3921069994&4294967295,R=N+(x<<20&4294967295|x>>>12),x=A+(N^L&(R^N))+V[5]+3593408605&4294967295,A=R+(x<<5&4294967295|x>>>27),x=L+(R^N&(A^R))+V[10]+38016083&4294967295,L=A+(x<<9&4294967295|x>>>23),x=N+(A^R&(L^A))+V[15]+3634488961&4294967295,N=L+(x<<14&4294967295|x>>>18),x=R+(L^A&(N^L))+V[4]+3889429448&4294967295,R=N+(x<<20&4294967295|x>>>12),x=A+(N^L&(R^N))+V[9]+568446438&4294967295,A=R+(x<<5&4294967295|x>>>27),x=L+(R^N&(A^R))+V[14]+3275163606&4294967295,L=A+(x<<9&4294967295|x>>>23),x=N+(A^R&(L^A))+V[3]+4107603335&4294967295,N=L+(x<<14&4294967295|x>>>18),x=R+(L^A&(N^L))+V[8]+1163531501&4294967295,R=N+(x<<20&4294967295|x>>>12),x=A+(N^L&(R^N))+V[13]+2850285829&4294967295,A=R+(x<<5&4294967295|x>>>27),x=L+(R^N&(A^R))+V[2]+4243563512&4294967295,L=A+(x<<9&4294967295|x>>>23),x=N+(A^R&(L^A))+V[7]+1735328473&4294967295,N=L+(x<<14&4294967295|x>>>18),x=R+(L^A&(N^L))+V[12]+2368359562&4294967295,R=N+(x<<20&4294967295|x>>>12),x=A+(R^N^L)+V[5]+4294588738&4294967295,A=R+(x<<4&4294967295|x>>>28),x=L+(A^R^N)+V[8]+2272392833&4294967295,L=A+(x<<11&4294967295|x>>>21),x=N+(L^A^R)+V[11]+1839030562&4294967295,N=L+(x<<16&4294967295|x>>>16),x=R+(N^L^A)+V[14]+4259657740&4294967295,R=N+(x<<23&4294967295|x>>>9),x=A+(R^N^L)+V[1]+2763975236&4294967295,A=R+(x<<4&4294967295|x>>>28),x=L+(A^R^N)+V[4]+1272893353&4294967295,L=A+(x<<11&4294967295|x>>>21),x=N+(L^A^R)+V[7]+4139469664&4294967295,N=L+(x<<16&4294967295|x>>>16),x=R+(N^L^A)+V[10]+3200236656&4294967295,R=N+(x<<23&4294967295|x>>>9),x=A+(R^N^L)+V[13]+681279174&4294967295,A=R+(x<<4&4294967295|x>>>28),x=L+(A^R^N)+V[0]+3936430074&4294967295,L=A+(x<<11&4294967295|x>>>21),x=N+(L^A^R)+V[3]+3572445317&4294967295,N=L+(x<<16&4294967295|x>>>16),x=R+(N^L^A)+V[6]+76029189&4294967295,R=N+(x<<23&4294967295|x>>>9),x=A+(R^N^L)+V[9]+3654602809&4294967295,A=R+(x<<4&4294967295|x>>>28),x=L+(A^R^N)+V[12]+3873151461&4294967295,L=A+(x<<11&4294967295|x>>>21),x=N+(L^A^R)+V[15]+530742520&4294967295,N=L+(x<<16&4294967295|x>>>16),x=R+(N^L^A)+V[2]+3299628645&4294967295,R=N+(x<<23&4294967295|x>>>9),x=A+(N^(R|~L))+V[0]+4096336452&4294967295,A=R+(x<<6&4294967295|x>>>26),x=L+(R^(A|~N))+V[7]+1126891415&4294967295,L=A+(x<<10&4294967295|x>>>22),x=N+(A^(L|~R))+V[14]+2878612391&4294967295,N=L+(x<<15&4294967295|x>>>17),x=R+(L^(N|~A))+V[5]+4237533241&4294967295,R=N+(x<<21&4294967295|x>>>11),x=A+(N^(R|~L))+V[12]+1700485571&4294967295,A=R+(x<<6&4294967295|x>>>26),x=L+(R^(A|~N))+V[3]+2399980690&4294967295,L=A+(x<<10&4294967295|x>>>22),x=N+(A^(L|~R))+V[10]+4293915773&4294967295,N=L+(x<<15&4294967295|x>>>17),x=R+(L^(N|~A))+V[1]+2240044497&4294967295,R=N+(x<<21&4294967295|x>>>11),x=A+(N^(R|~L))+V[8]+1873313359&4294967295,A=R+(x<<6&4294967295|x>>>26),x=L+(R^(A|~N))+V[15]+4264355552&4294967295,L=A+(x<<10&4294967295|x>>>22),x=N+(A^(L|~R))+V[6]+2734768916&4294967295,N=L+(x<<15&4294967295|x>>>17),x=R+(L^(N|~A))+V[13]+1309151649&4294967295,R=N+(x<<21&4294967295|x>>>11),x=A+(N^(R|~L))+V[4]+4149444226&4294967295,A=R+(x<<6&4294967295|x>>>26),x=L+(R^(A|~N))+V[11]+3174756917&4294967295,L=A+(x<<10&4294967295|x>>>22),x=N+(A^(L|~R))+V[2]+718787259&4294967295,N=L+(x<<15&4294967295|x>>>17),x=R+(L^(N|~A))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+L&4294967295}a.prototype.v=function(C,A){A===void 0&&(A=C.length);const R=A-this.blockSize,V=this.C;let N=this.h,L=0;for(;L<A;){if(N==0)for(;L<=R;)l(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<A;)if(V[N++]=C.charCodeAt(L++),N==this.blockSize){l(this,V),N=0;break}}else for(;L<A;)if(V[N++]=C[L++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)C[A++]=this.g[R]>>>V&255;return C};function c(C,A){var R=y;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=A(C)}function d(C,A){this.h=A;const R=[];let V=!0;for(let N=C.length-1;N>=0;N--){const L=C[N]|0;V&&L==A||(R[N]=L,V=!1)}this.g=R}var y={};function p(C){return-128<=C&&C<128?c(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return w;if(C<0)return et(_(-C));const A=[];let R=1;for(let V=0;C>=R;V++)A[V]=C/R|0,R*=4294967296;return new d(A,0)}function E(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return et(E(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(A,8));let V=w;for(let L=0;L<C.length;L+=8){var N=Math.min(8,C.length-L);const x=parseInt(C.substring(L,L+N),A);N<8?(N=_(Math.pow(A,N)),V=V.j(N).add(_(x))):(V=V.j(R),V=V.add(_(x)))}return V}var w=p(0),M=p(1),q=p(16777216);r=d.prototype,r.m=function(){if(it(this))return-et(this).m();let C=0,A=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);C+=(V>=0?V:4294967296+V)*A,A*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(nt(this))return"0";if(it(this))return"-"+et(this).toString(C);const A=_(Math.pow(C,6));var R=this;let V="";for(;;){const N=Qt(R,A).g;R=ot(R,N.j(A));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=N,nt(R))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function nt(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function it(C){return C.h==-1}r.l=function(C){return C=ot(this,C),it(C)?-1:nt(C)?0:1};function et(C){const A=C.g.length,R=[];for(let V=0;V<A;V++)R[V]=~C.g[V];return new d(R,~C.h).add(M)}r.abs=function(){return it(this)?et(this):this},r.add=function(C){const A=Math.max(this.g.length,C.g.length),R=[];let V=0;for(let N=0;N<=A;N++){let L=V+(this.i(N)&65535)+(C.i(N)&65535),x=(L>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);V=x>>>16,L&=65535,x&=65535,R[N]=x<<16|L}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ot(C,A){return C.add(et(A))}r.j=function(C){if(nt(this)||nt(C))return w;if(it(this))return it(C)?et(this).j(et(C)):et(et(this).j(C));if(it(C))return et(this.j(et(C)));if(this.l(q)<0&&C.l(q)<0)return _(this.m()*C.m());const A=this.g.length+C.g.length,R=[];for(var V=0;V<2*A;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<C.g.length;N++){const L=this.i(V)>>>16,x=this.i(V)&65535,he=C.i(N)>>>16,ve=C.i(N)&65535;R[2*V+2*N]+=x*ve,gt(R,2*V+2*N),R[2*V+2*N+1]+=L*ve,gt(R,2*V+2*N+1),R[2*V+2*N+1]+=x*he,gt(R,2*V+2*N+1),R[2*V+2*N+2]+=L*he,gt(R,2*V+2*N+2)}for(C=0;C<A;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=A;C<2*A;C++)R[C]=0;return new d(R,0)};function gt(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function mt(C,A){this.g=C,this.h=A}function Qt(C,A){if(nt(A))throw Error("division by zero");if(nt(C))return new mt(w,w);if(it(C))return A=Qt(et(C),A),new mt(et(A.g),et(A.h));if(it(A))return A=Qt(C,et(A)),new mt(et(A.g),A.h);if(C.g.length>30){if(it(C)||it(A))throw Error("slowDivide_ only works with positive integers.");for(var R=M,V=A;V.l(C)<=0;)R=Kt(R),V=Kt(V);var N=Bt(R,1),L=Bt(V,1);for(V=Bt(V,2),R=Bt(R,2);!nt(V);){var x=L.add(V);x.l(C)<=0&&(N=N.add(R),L=x),V=Bt(V,1),R=Bt(R,1)}return A=ot(C,N.j(A)),new mt(N,A)}for(N=w;C.l(A)>=0;){for(R=Math.max(1,Math.floor(C.m()/A.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=_(R),x=L.j(A);it(x)||x.l(C)>0;)R-=V,L=_(R),x=L.j(A);nt(L)&&(L=M),N=N.add(L),C=ot(C,x)}return new mt(N,C)}r.B=function(C){return Qt(this,C).h},r.and=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)&C.i(V);return new d(R,this.h&C.h)},r.or=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)|C.i(V);return new d(R,this.h|C.h)},r.xor=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)^C.i(V);return new d(R,this.h^C.h)};function Kt(C){const A=C.g.length+1,R=[];for(let V=0;V<A;V++)R[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(R,C.h)}function Bt(C,A){const R=A>>5;A%=32;const V=C.g.length-R,N=[];for(let L=0;L<V;L++)N[L]=A>0?C.i(L+R)>>>A|C.i(L+R+1)<<32-A:C.i(L+R);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,E1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,Er=d}).apply(typeof C0<"u"?C0:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var T1,Dl,b1,Qc,dm,S1,A1,w1;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in v))break t;v=v[U]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function p(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=p,_.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,U,B){for(var st=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)st[Nt-2]=arguments[Nt];return m.prototype[U].apply(b,st)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function nt(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let st=0;st<B;st++)u[v+st]=U[st]}else u.push(U)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(u){d.setTimeout(()=>{throw u},0)}function ot(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class gt{constructor(){this.h=this.g=null}add(m,v){const b=mt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var mt=new it(()=>new Qt,u=>u.reset());class Qt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Kt,Bt=!1,C=new gt,A=()=>{const u=Promise.resolve(void 0);Kt=()=>{u.then(R)}};function R(){for(var u;u=ot();){try{u.h.call(u.g)}catch(v){et(v)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Bt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function he(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(he,N),he.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ve="closure_listenable_"+(Math.random()*1e6|0),G=0;function rt(u,m,v,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=U,this.key=++G,this.da=this.fa=!1}function yt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ht(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function $t(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(u,m){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)u[v]=b[v];for(let B=0;B<X.length;B++)v=X[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function ut(u){this.src=u,this.g={},this.h=0}ut.prototype.add=function(u,m,v,b,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const st=It(u,m,b,U);return st>-1?(m=u[st],v||(m.fa=!1)):(m=new rt(m,this.src,B,!!b,U),m.fa=v,u.push(m)),m};function St(u,m){const v=m.type;if(v in u.g){var b=u.g[v],U=Array.prototype.indexOf.call(b,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(b,U,1),B&&(yt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function It(u,m,v,b){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return U}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Ie={};function fe(u,m,v,b,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)fe(u,m[B],v,b,U);return null}return v=Y(v),u&&u[ve]?u.J(m,v,y(b)?!!b.capture:!1,U):Zi(u,m,v,!1,b,U)}function Zi(u,m,v,b,U,B){if(!m)throw Error("Invalid event type");const st=y(U)?!!U.capture:!!U;let Nt=ri(u);if(Nt||(u[kt]=Nt=new ut(u)),v=Nt.add(m,v,b,st,B),v.proxy)return v;if(b=Cs(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)L||(U=st),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(qn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Cs(){function u(v){return m.call(u.src,u.listener,v)}const m=Dr;return u}function Ns(u,m,v,b,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ns(u,m[B],v,b,U);else b=y(b)?!!b.capture:!!b,v=Y(v),u&&u[ve]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=It(m,v,b,U),v>-1&&(yt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ri(u))&&(m=u.g[m.toString()],u=-1,m&&(u=It(m,v,b,U)),(v=u>-1?m[u]:null)&&Ds(v))}function Ds(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ve])St(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(qn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=ri(m))?(St(v,u),v.h==0&&(v.src=null,m[kt]=null)):yt(u)}}}function qn(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function Dr(u,m){if(u.da)u=!0;else{m=new he(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Ds(u),u=v.call(b,m)}return u}function ri(u){return u=u[kt],u instanceof ut?u:null}var W="__closure_events_fn_"+(Math.random()*1e9>>>0);function Y(u){return typeof u=="function"?u:(u[W]||(u[W]=function(m){return u.handleEvent(m)}),u[W])}function Q(){V.call(this),this.i=new ut(this),this.M=this,this.G=null}w(Q,V),Q.prototype[ve]=!0,Q.prototype.removeEventListener=function(u,m,v,b){Ns(this,u,m,v,b)};function tt(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(b,u),at(m,U)}U=!0;let B,st;if(v)for(st=v.length-1;st>=0;st--)B=m.g=v[st],U=vt(B,b,!0,m)&&U;if(B=m.g=u,U=vt(B,b,!0,m)&&U,U=vt(B,b,!1,m)&&U,v)for(st=0;st<v.length;st++)B=m.g=v[st],U=vt(B,b,!1,m)&&U}Q.prototype.N=function(){if(Q.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)yt(v[b]);delete u.g[m],u.h--}}this.G=null},Q.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},Q.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function vt(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const st=m[B];if(st&&!st.da&&st.capture==v){const Nt=st.listener,Ce=st.ha||st.src;st.fa&&St(u.i,st),U=Nt.call(Ce,b)!==!1&&U}}return U&&!b.defaultPrevented}function Ct(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function de(u){u.g=Ct(()=>{u.g=null,u.i&&(u.i=!1,de(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class pt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:de(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lt(u){V.call(this),this.h=u,this.g={}}w(lt,V);var qt=[];function Xe(u){Ht(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ds(m)},u),u.g={}}lt.prototype.N=function(){lt.Z.N.call(this),Xe(this)},lt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fe=d.JSON.stringify,$e=d.JSON.parse,cn=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Gn(){}function Or(){}var Tn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Me(){N.call(this,"d")}w(Me,N);function gn(){N.call(this,"c")}w(gn,N);var Wt={},Os=null;function Ji(){return Os=Os||new Q}Wt.Ia="serverreachability";function Ms(u){N.call(this,Wt.Ia,u)}w(Ms,N);function On(u){const m=Ji();tt(m,new Ms(m))}Wt.STAT_EVENT="statevent";function ai(u,m){N.call(this,Wt.STAT_EVENT,u),this.stat=m}w(ai,N);function Ee(u){const m=Ji();tt(m,new ai(m,u))}Wt.Ja="timingevent";function yn(u,m){N.call(this,Wt.Ja,u),this.size=m}w(yn,N);function Si(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function oi(){this.g=!0}oi.prototype.ua=function(){this.g=!1};function jh(u,m,v,b,U,B){u.info(function(){if(u.g)if(B){var st="",Nt=B.split("&");for(let Zt=0;Zt<Nt.length;Zt++){var Ce=Nt[Zt].split("=");if(Ce.length>1){const ye=Ce[0];Ce=Ce[1];const Yn=ye.split("_");st=Yn.length>=2&&Yn[1]=="type"?st+(ye+"="+Ce+"&"):st+(ye+"=redacted&")}}}else st=null;else st=B;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+v+`
`+st})}function fu(u,m,v,b,U,B,st){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+st})}function Ai(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+zh(u,v)+(b?" "+b:"")})}function Mr(u,m){u.info(function(){return"TIMEOUT: "+m})}oi.prototype.info=function(){};function zh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let st=1;st<b.length;st++)b[st]=""}}}}return Fe(B)}catch{return m}}var Vr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Co={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},No;function kr(){}w(kr,Gn),kr.prototype.g=function(){return new XMLHttpRequest},No=new kr;function Wi(u){return encodeURIComponent(String(u))}function du(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function li(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new lt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ui}function ui(){this.i=null,this.g="",this.h=!1}var Ve={},Ze={};function wi(u,m,v){u.M=1,u.A=Lr(Le(m)),u.u=v,u.R=!0,ga(u,null)}function ga(u,m){u.F=Date.now(),xi(u),u.B=Le(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),Ea(v.i,"t",b),u.C=0,v=u.j.L,u.h=new ui,u.g=Iu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new pt(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(qt[0]=U.toString()),U=qt);for(let B=0;B<U.length;B++){const st=fe(v,U[B],b||m.handleEvent,!1,m.h||m);if(!st)break;m.g[st.key]=st}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),On(),jh(u.i,u.v,u.B,u.l,u.S,u.u)}li.prototype.ba=function(u){u=u.target;const m=this.O;m&&fi(u)==3?m.j():this.Y(u)},li.prototype.Y=function(u){try{if(u==this.g)t:{const Nt=fi(this.g),Ce=this.g.ya(),Zt=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Nt!=4||Ce==7||(Ce==8||Zt<=0?On(3):On(2)),Ri(this);var m=this.g.ca();this.X=m;var v=Bh(this);if(this.o=m==200,fu(this.i,this.v,this.B,this.l,this.S,Nt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(b)){var B=b;break e}}B=null}if(u=B)Ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ii(this,u);else{this.o=!1,this.m=3,Ee(12),Mn(this),Fn(this);break t}}if(this.R){u=!0;let ye;for(;!this.K&&this.C<v.length;)if(ye=pu(this,v),ye==Ze){Nt==4&&(this.m=4,Ee(14),u=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(ye==Ve){this.m=4,Ee(15),Ai(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ai(this.i,this.l,ye,null),Ii(this,ye);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||v.length!=0||this.h.h||(this.m=1,Ee(16),u=!1),this.o=this.o&&u,!u)Ai(this.i,this.l,v,"[Invalid Chunked Response]"),Mn(this),Fn(this);else if(v.length>0&&!this.W){this.W=!0;var st=this.j;st.g==this&&st.aa&&!st.P&&(st.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Fo(st),st.P=!0,Ee(11))}}else Ai(this.i,this.l,v,null),Ii(this,v);Nt==4&&Mn(this),this.o&&!this.K&&(Nt==4?Au(this.j,this):(this.o=!1,xi(this)))}else es(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),Mn(this),Fn(this)}}}catch{}};function Bh(u){if(!mu(u))return u.g.la();const m=en(u.g);if(m==="")return"";let v="";const b=m.length,U=fi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Mn(u),Fn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function mu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function pu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Ze:(v=Number(m.substring(v,b)),isNaN(v)?Ve:(b+=1,b+v>m.length?Ze:(m=m.slice(b,b+v),u.C=b+v,m)))}li.prototype.cancel=function(){this.K=!0,Mn(this)};function xi(u){u.T=Date.now()+u.H,ya(u,u.H)}function ya(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Si(_(u.aa,u),m)}function Ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}li.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Mr(this.i,this.B),this.M!=2&&(On(),Ee(17)),Mn(this),this.m=2,Fn(this)):ya(this,this.T-u)};function Fn(u){u.j.I==0||u.K||Au(u.j,u)}function Mn(u){Ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Xe(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ii(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ni(v.h,u))){if(!u.L&&Ni(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)wa(v),Bs(v);else break t;qr(v),Ee(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Si(_(v.Va,v),6e3));Ci(v.h)<=1&&v.ta&&(v.ta=void 0)}else Li(v,11)}else if((u.L||v.g==u)&&wa(v),!x(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Zt=U[m];const ye=Zt[0];if(!(ye<=v.K))if(v.K=ye,Zt=Zt[1],v.I==2)if(Zt[0]=="c"){v.M=Zt[1],v.ba=Zt[2];const Yn=Zt[3];Yn!=null&&(v.ka=Yn,v.j.info("VER="+v.ka));const Ui=Zt[4];Ui!=null&&(v.za=Ui,v.j.info("SVER="+v.za));const di=Zt[5];di!=null&&typeof di=="number"&&di>0&&(b=1.5*di,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const mi=u.g;if(mi){const Gr=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gr){var B=b.h;B.g||Gr.indexOf("spdy")==-1&&Gr.indexOf("quic")==-1&&Gr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Mo(B,B.h),B.h=null))}if(b.G){const xa=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(b.wa=xa,ee(b.J,b.G,xa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var st=u;if(b.na=Ru(b,b.L?b.ba:null,b.W),st.L){Vo(b.h,st);var Nt=st,Ce=b.O;Ce&&(Nt.H=Ce),Nt.D&&(Ri(Nt),xi(Nt)),b.g=st}else bu(b);v.i.length>0&&ki(v)}else Zt[0]!="stop"&&Zt[0]!="close"||Li(v,7);else v.I==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?Li(v,7):qo(v):Zt[0]!="noop"&&v.l&&v.l.qa(Zt),v.A=0)}}On(4)}catch{}}var ke=class{constructor(u,m){this.g=u,this.map=m}};function Do(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Oo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ci(u){return u.h?1:u.g?u.g.size:0}function Ni(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Mo(u,m){u.g?u.g.add(m):u.h=m}function Vo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Do.prototype.cancel=function(){if(this.i=ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ko(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return q(u.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let U,B=null;b>=0?(U=u[v].substring(0,b),B=u[v].substring(b+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Vn?(this.l=u.l,Je(this,u.j),this.o=u.o,this.g=u.g,Vs(this,u.u),this.h=u.h,Lo(this,Eu(u.i)),this.m=u.m):u&&(m=String(u).match(gu))?(this.l=!1,Je(this,m[1]||"",!0),this.o=Di(m[2]||""),this.g=Di(m[3]||"",!0),Vs(this,m[4]),this.h=Di(m[5]||"",!0),Lo(this,m[6]||"",!0),this.m=Di(m[7]||"")):(this.l=!1,this.i=new Ls(null,this.l))}Vn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ur(m,va,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ur(m,va,!0),"@"),u.push(Wi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ur(v,v.charAt(0)=="/"?Uo:yu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ur(v,_u)),u.join("")},Vn.prototype.resolve=function(u){const m=Le(this);let v=!!u.j;v?Je(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)Vs(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let st=0;st<U.length;){const Nt=U[st++];Nt=="."?b&&st==U.length&&B.push(""):Nt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&st==U.length&&B.push("")):(B.push(Nt),b=!0)}b=B.join("/")}else b=U}return v?m.h=b:v=u.i.toString()!=="",v?Lo(m,Eu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Le(u){return new Vn(u)}function Je(u,m,v){u.j=v?Di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Vs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Lo(u,m,v){m instanceof Ls?(u.i=m,Ta(u.i,u.l)):(v||(m=Ur(m,ks)),u.i=new Ls(m,u.l))}function ee(u,m,v){u.i.set(m,v)}function Lr(u){return ee(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ur(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,bn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function bn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var va=/[#\/\?@]/g,yu=/[#\?:]/g,Uo=/[#\?]/g,ks=/[#\?@]/g,_u=/#/g;function Ls(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Sn(u){u.g||(u.g=new Map,u.h=0,u.i&&_a(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Ls.prototype,r.add=function(u,m){Sn(this),this.i=null,u=Us(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function vu(u,m){Sn(u),m=Us(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Po(u,m){return Sn(u),m=Us(u,m),u.g.has(m)}r.forEach=function(u,m){Sn(this),this.g.forEach(function(v,b){v.forEach(function(U){u.call(m,U,b,this)},this)},this)};function jo(u,m){Sn(u);let v=[];if(typeof m=="string")Po(u,m)&&(v=v.concat(u.g.get(Us(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return Sn(this),this.i=null,u=Us(this,u),Po(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=jo(this,u),u.length>0?String(u[0]):m):m};function Ea(u,m,v){vu(u,m),v.length>0&&(u.i=null,u.g.set(Us(u,m),q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const U=Wi(v);v=jo(this,v);for(let B=0;B<v.length;B++){let st=U;v[B]!==""&&(st+="="+Wi(v[B])),u.push(st)}}return this.i=u.join("&")};function Eu(u){const m=new Ls;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Us(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ta(u,m){m&&!u.j&&(Sn(u),u.i=null,u.g.forEach(function(v,b){const U=b.toLowerCase();b!=U&&(vu(this,b),Ea(this,U,v))},u)),u.j=m}function ci(u,m){const v=new oi;if(d.Image){const b=new Image;b.onload=E(Qn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(Qn,v,"TestLoadImage: error",!1,m,b),b.onabort=E(Qn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(Qn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function zo(u,m){const v=new oi,b=new AbortController,U=setTimeout(()=>{b.abort(),Qn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(U),B.ok?Qn(v,"TestPingServer: ok",!0,m):Qn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Qn(v,"TestPingServer: error",!1,m)})}function Qn(u,m,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function Ps(){this.g=new cn}function Oi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Oi,Gn),Oi.prototype.g=function(){return new Pr(this.i,this.h)};function Pr(u,m){Q.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Pr,Q),r=Pr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,hi(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,js(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?js(this):hi(this),this.readyState==3&&ba(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,js(this))},r.Na=function(u){this.g&&(this.response=u,js(this))},r.ga=function(){this.g&&js(this)};function js(u){u.readyState=4,u.l=null,u.j=null,u.B=null,hi(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function hi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Kn(u){let m="";return Ht(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function jr(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Kn(v),typeof u=="string"?v!=null&&Wi(v):ee(u,m,v))}function ae(u){Q.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(ae,Q);var Mi=/^https?$/i,Bo=["POST","PUT"];r=ae.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():No.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){zr(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Bo,m,void 0)>=0)||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,st]of v)this.g.setRequestHeader(B,st);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){zr(this,B)}};function zr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ho(u),ts(u)}function Ho(u){u.A||(u.A=!0,tt(u,"complete"),tt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,tt(this,"complete"),tt(this,"abort"),ts(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ts(this,!0)),ae.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Br(this):this.Xa())},r.Xa=function(){Br(this)};function Br(u){if(u.h&&typeof c<"u"){if(u.v&&fi(u)==4)setTimeout(u.Ca.bind(u),0);else if(tt(u,"readystatechange"),fi(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let st=String(u.D).match(gu)[1]||null;!st&&d.self&&d.self.location&&(st=d.self.location.protocol.slice(0,-1)),b=!Mi.test(st?st.toLowerCase():"")}v=b}if(v)tt(u,"complete"),tt(u,"success");else{u.o=6;try{var U=fi(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Ho(u)}}finally{ts(u)}}}}function ts(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||tt(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function fi(u){return u.g?u.g.readyState:0}r.ca=function(){try{return fi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),$e(m)}};function en(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function es(u){const m={};u=(u.g&&fi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(x(u[b]))continue;var v=du(u[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}$t(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function zs(u){this.za=0,this.i=[],this.j=new oi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,u),this.Za=Vi("retryDelaySeedMs",1e4,u),this.Ta=Vi("forwardChannelMaxRetries",2,u),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Do(u&&u.concurrentRequestLimit),this.Ba=new Ps,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=zs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){Ee(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Ru(this,null,this.W),ki(this)};function qo(u){if(Sa(u),u.I==3){var m=u.V++,v=Le(u.J);if(ee(v,"SID",u.M),ee(v,"RID",m),ee(v,"TYPE","terminate"),Hr(u,v),m=new li(u,u.j,m),m.M=2,m.A=Lr(Le(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Iu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),xi(m)}xu(u)}function Bs(u){u.g&&(Fo(u),u.g.cancel(),u.g=null)}function Sa(u){Bs(u),u.v&&(d.clearTimeout(u.v),u.v=null),wa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ki(u){if(!Oo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Kt||A(),Bt||(Kt(),Bt=!0),C.add(m,u),u.D=0}}function Aa(u,m){return Ci(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Si(_(u.Ea,u,m),wu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new li(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),at(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Tu(this,U,m),v=Le(this.J),ee(v,"RID",u),ee(v,"CVER",22),this.G&&ee(v,"X-HTTP-Session-Id",this.G),Hr(this,v),B&&(this.R?m="headers="+Wi(Kn(B))+"&"+m:this.u&&jr(v,this.u,B)),Mo(this.h,U),this.Ra&&ee(v,"TYPE","init"),this.S?(ee(v,"$req",m),ee(v,"SID","null"),U.U=!0,wi(U,v,null)):wi(U,v,m),this.I=2}}else this.I==3&&(u?Go(this,u):this.i.length==0||Oo(this.h)||Go(this))};function Go(u,m){var v;m?v=m.l:v=u.V++;const b=Le(u.J);ee(b,"SID",u.M),ee(b,"RID",v),ee(b,"AID",u.K),Hr(u,b),u.u&&u.o&&jr(b,u.u,u.o),v=new li(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Tu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Mo(u.h,v),wi(v,b,m)}function Hr(u,m){u.H&&Ht(u.H,function(v,b){ee(m,b,v)}),u.l&&Ht({},function(v,b){ee(m,b,v)})}function Tu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let Nt=-1;for(;;){const Ce=["count="+v];Nt==-1?v>0?(Nt=U[0].g,Ce.push("ofs="+Nt)):Nt=0:Ce.push("ofs="+Nt);let Zt=!0;for(let ye=0;ye<v;ye++){var B=U[ye].g;const Yn=U[ye].map;if(B-=Nt,B<0)Nt=Math.max(0,U[ye].g-100),Zt=!1;else try{B="req"+B+"_"||"";try{var st=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Ui,di]of st){let mi=di;y(di)&&(mi=Fe(di)),Ce.push(B+Ui+"="+encodeURIComponent(mi))}}catch(Ui){throw Ce.push(B+"type="+encodeURIComponent("_badmap")),Ui}}catch{b&&b(Yn)}}if(Zt){st=Ce.join("&");break t}}st=void 0}return u=u.i.splice(0,v),m.G=u,st}function bu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Kt||A(),Bt||(Kt(),Bt=!0),C.add(m,u),u.A=0}}function qr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Si(_(u.Da,u),wu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Si(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),Bs(this),Su(this))};function Fo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Su(u){u.g=new li(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Le(u.na);ee(m,"RID","rpc"),ee(m,"SID",u.M),ee(m,"AID",u.K),ee(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ee(m,"TO",u.ia),ee(m,"TYPE","xmlhttp"),Hr(u,m),u.u&&u.o&&jr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Lr(Le(m)),v.u=null,v.R=!0,ga(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Bs(this),qr(this),Ee(19))};function wa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Au(u,m){var v=null;if(u.g==m){wa(u),Fo(u),u.g=null;var b=2}else if(Ni(u.h,m))v=m.G,Vo(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=Ji(),tt(b,new yn(b,v)),ki(u)}else bu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&Aa(u,m)||b==2&&qr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Li(u,5);break;case 4:Li(u,10);break;case 3:Li(u,6);break;default:Li(u,2)}}}function wu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Li(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const U=!b;b=new Vn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Je(b,"https"),Lr(b),U?ci(b.toString(),v):zo(b.toString(),v)}else Ee(2);u.I=0,u.l&&u.l.pa(m),xu(u),Sa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function xu(u){if(u.I=0,u.ja=[],u.l){const m=ko(u.h);(m.length!=0||u.i.length!=0)&&(nt(u.ja,m),nt(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function Ru(u,m,v){var b=v instanceof Vn?Le(v):new Vn(v);if(b.g!="")m&&(b.g=m+"."+b.g),Vs(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new Vn(null);b&&Je(B,b),m&&(B.g=m),U&&Vs(B,U),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&ee(b,v,m),ee(b,"VER",u.ka),Hr(u,b),b}function Iu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ae(new Oi({ab:v})):new ae(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}r=Cu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Hs(){}Hs.prototype.g=function(u,m){return new _n(u,m)};function _n(u,m){Q.call(this),this.g=new zs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ns(this)}w(_n,Q),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){qo(this.g)},_n.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Fe(u),u=v);m.i.push(new ke(m.Ya++,u)),m.I==3&&ki(m)},_n.prototype.N=function(){this.g.l=null,delete this.j,qo(this.g),delete this.g,_n.Z.N.call(this)};function Nu(u){Me.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Nu,Me);function Du(){gn.call(this),this.status=1}w(Du,gn);function ns(u){this.g=u}w(ns,Cu),ns.prototype.ra=function(){tt(this.g,"a")},ns.prototype.qa=function(u){tt(this.g,new Nu(u))},ns.prototype.pa=function(u){tt(this.g,new Du)},ns.prototype.oa=function(){tt(this.g,"b")},Hs.prototype.createWebChannel=Hs.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,w1=function(){return new Hs},A1=function(){return Ji()},S1=Wt,dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vr.NO_ERROR=0,Vr.TIMEOUT=8,Vr.HTTP_ERROR=6,Qc=Vr,Co.COMPLETE="complete",b1=Co,Or.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",Q.prototype.listen=Q.prototype.J,Dl=Or,ae.prototype.listenOnce=ae.prototype.K,ae.prototype.getLastError=ae.prototype.Ha,ae.prototype.getLastErrorCode=ae.prototype.ya,ae.prototype.getStatus=ae.prototype.ca,ae.prototype.getResponseJson=ae.prototype.La,ae.prototype.getResponseText=ae.prototype.la,ae.prototype.send=ae.prototype.ea,ae.prototype.setWithCredentials=ae.prototype.Fa,T1=ae}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});const N0="@firebase/firestore",D0="4.9.3";class dn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let wo="12.7.0";const ha=new km("@firebase/firestore");function io(){return ha.logLevel}function ct(r,...t){if(ha.logLevel<=Pt.DEBUG){const i=t.map(Qm);ha.debug(`Firestore (${wo}): ${r}`,...i)}}function xs(r,...t){if(ha.logLevel<=Pt.ERROR){const i=t.map(Qm);ha.error(`Firestore (${wo}): ${r}`,...i)}}function po(r,...t){if(ha.logLevel<=Pt.WARN){const i=t.map(Qm);ha.warn(`Firestore (${wo}): ${r}`,...i)}}function Qm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function bt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,x1(r,a,i)}function x1(r,t,i){let a=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw xs(a),new Error(a)}function te(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||x1(t,l,a)}function Rt(r,t){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends Is{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Tr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class R1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Nw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(dn.UNAUTHENTICATED)))}shutdown(){}}class Dw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Ow{constructor(t){this.t=t,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){te(this.o===void 0,42304);let a=this.i;const l=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let c=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Tr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const p=c;t.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},y=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>y(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?y(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Tr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(te(typeof a.accessToken=="string",31837,{l:a}),new R1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return te(t===null||typeof t=="string",2055,{h:t}),new dn(t)}}class Mw{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Vw{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Mw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class O0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){te(this.o===void 0,3512);const a=c=>{c.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ct("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new O0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(te(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new O0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Lw(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Km{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Lw(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function jt(r,t){return r<t?-1:r>t?1:0}function mm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Xd(l)===Xd(c)?jt(l,c):Xd(l)?1:-1}return jt(r.length,t.length)}const Uw=55296,Pw=57343;function Xd(r){const t=r.charCodeAt(0);return t>=Uw&&t<=Pw}function go(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const M0="__name__";class Hi{constructor(t,i,a){i===void 0?i=0:i>t.length&&bt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&bt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Hi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Hi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Hi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return jt(t.length,i.length)}static compareSegments(t,i){const a=Hi.isNumericId(t),l=Hi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Hi.extractNumericId(t).compare(Hi.extractNumericId(i)):mm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Er.fromString(t.substring(4,t.length-2))}}class Te extends Hi{construct(t,i,a){return new Te(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new dt(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new Te(i)}static emptyPath(){return new Te([])}}const jw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Hi{construct(t,i,a){return new ln(t,i,a)}static isValidIdentifier(t){return jw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M0}static keyField(){return new ln([M0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new dt(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const y=t[l];if(y==="\\"){if(l+1===t.length)throw new dt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new dt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=p,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(a+=y,l++):(c(),l++)}if(c(),d)throw new dt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ln(i)}static emptyPath(){return new ln([])}}class Et{constructor(t){this.path=t}static fromPath(t){return new Et(Te.fromString(t))}static fromName(t){return new Et(Te.fromString(t).popFirst(5))}static empty(){return new Et(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Te.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new Te(t.slice()))}}function zw(r,t,i){if(!i)throw new dt(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Bw(r,t,i,a){if(t===!0&&a===!0)throw new dt(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function V0(r){if(!Et.isDocumentKey(r))throw new dt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function I1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ym(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":bt(12329,{type:typeof r})}function Ti(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new dt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ym(r);throw new dt(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function qe(r,t){const i={typeString:r};return t&&(i.value=t),i}function ru(r,t){if(!I1(r))throw new dt(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new dt(J.INVALID_ARGUMENT,i);return!0}const k0=-62135596800,L0=1e6;class ge{static now(){return ge.fromMillis(Date.now())}static fromDate(t){return ge.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*L0);return new ge(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new dt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new dt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<k0)throw new dt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L0}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ru(t,ge._jsonSchema))return new ge(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-k0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ge._jsonSchemaVersion="firestore/timestamp/1.0",ge._jsonSchema={type:qe("string",ge._jsonSchemaVersion),seconds:qe("number"),nanoseconds:qe("number")};class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new ge(0,0))}static max(){return new wt(new ge(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fl=-1;function Hw(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=wt.fromTimestamp(a===1e9?new ge(i+1,0):new ge(i,a));return new Sr(l,Et.empty(),t)}function qw(r){return new Sr(r.readTime,r.key,Fl)}class Sr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Sr(wt.min(),Et.empty(),Fl)}static max(){return new Sr(wt.max(),Et.empty(),Fl)}}function Gw(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=Et.comparator(r.documentKey,t.documentKey),i!==0?i:jt(r.largestBatchId,t.largestBatchId))}const Fw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function xo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==Fw)throw r;ct("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let l=0,c=0,d=!1;t.forEach((y=>{++l,y.next((()=>{++c,d&&c===l&&i()}),(p=>a(p)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((l=>l?Z.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,l)=>{const c=t.length,d=new Array(c);let y=0;for(let p=0;p<c;p++){const _=p;i(t[_]).next((E=>{d[_]=E,++y,y===c&&a(d)}),(E=>l(E)))}}))}static doWhile(t,i){return new Z(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function Kw(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ro(r){return r.name==="IndexedDbTransactionError"}class bh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}bh.ce=-1;const Xm=-1;function Sh(r){return r==null}function oh(r){return r===0&&1/r==-1/0}function Yw(r){return typeof r=="number"&&Number.isInteger(r)&&!oh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const C1="";function Xw(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=U0(t)),t=$w(r.get(i),t);return U0(t)}function $w(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case C1:i+="";break;default:i+=c}}return i}function U0(r){return r+C1+""}function P0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Cr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function N1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class be{constructor(t,i){this.comparator=t,this.root=i||on.EMPTY}insert(t,i){return new be(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,on.BLACK,null,null))}remove(t){return new be(this.comparator,this.root.remove(t,this.comparator).copy(null,null,on.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Uc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Uc(this.root,t,this.comparator,!0)}}class Uc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class on{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??on.RED,this.left=l??on.EMPTY,this.right=c??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new on(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return on.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw bt(27949);return t+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new on(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ye{constructor(t){this.comparator=t,this.data=new be(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new j0(this.data.getIterator())}getIteratorFrom(t){return new j0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ye)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ye(this.comparator);return i.data=t,i}}class j0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Hn{constructor(t){this.fields=t,t.sort(ln.comparator)}static empty(){return new Hn([])}unionWith(t){let i=new Ye(ln.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Hn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return go(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class D1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new D1("Invalid base64 string: "+c):c}})(t);return new un(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new un(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}un.EMPTY_BYTE_STRING=new un("");const Zw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ar(r){if(te(!!r,39018),typeof r=="string"){let t=0;const i=Zw.exec(r);if(te(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Oe(r.seconds),nanos:Oe(r.nanos)}}function Oe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function wr(r){return typeof r=="string"?un.fromBase64String(r):un.fromUint8Array(r)}const O1="server_timestamp",M1="__type__",V1="__previous_value__",k1="__local_write_time__";function $m(r){return(r?.mapValue?.fields||{})[M1]?.stringValue===O1}function Ah(r){const t=r.mapValue.fields[V1];return $m(t)?Ah(t):t}function Ql(r){const t=Ar(r.mapValue.fields[k1].timestampValue);return new ge(t.seconds,t.nanos)}class Jw{constructor(t,i,a,l,c,d,y,p,_,E){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=E}}const lh="(default)";class Kl{constructor(t,i){this.projectId=t,this.database=i||lh}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===lh}isEqual(t){return t instanceof Kl&&t.projectId===this.projectId&&t.database===this.database}}const L1="__type__",Ww="__max__",Pc={mapValue:{}},U1="__vector__",uh="value";function xr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?$m(r)?4:ex(r)?9007199254740991:tx(r)?10:11:bt(28295,{value:r})}function Xi(r,t){if(r===t)return!0;const i=xr(r);if(i!==xr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ql(r).isEqual(Ql(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Ar(l.timestampValue),y=Ar(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return wr(l.bytesValue).isEqual(wr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return Oe(l.geoPointValue.latitude)===Oe(c.geoPointValue.latitude)&&Oe(l.geoPointValue.longitude)===Oe(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Oe(l.integerValue)===Oe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Oe(l.doubleValue),y=Oe(c.doubleValue);return d===y?oh(d)===oh(y):isNaN(d)&&isNaN(y)}return!1})(r,t);case 9:return go(r.arrayValue.values||[],t.arrayValue.values||[],Xi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},y=c.mapValue.fields||{};if(P0(d)!==P0(y))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(y[p]===void 0||!Xi(d[p],y[p])))return!1;return!0})(r,t);default:return bt(52216,{left:r})}}function Yl(r,t){return(r.values||[]).find((i=>Xi(i,t)))!==void 0}function yo(r,t){if(r===t)return 0;const i=xr(r),a=xr(t);if(i!==a)return jt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return jt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const y=Oe(c.integerValue||c.doubleValue),p=Oe(d.integerValue||d.doubleValue);return y<p?-1:y>p?1:y===p?0:isNaN(y)?isNaN(p)?0:-1:1})(r,t);case 3:return z0(r.timestampValue,t.timestampValue);case 4:return z0(Ql(r),Ql(t));case 5:return mm(r.stringValue,t.stringValue);case 6:return(function(c,d){const y=wr(c),p=wr(d);return y.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const y=c.split("/"),p=d.split("/");for(let _=0;_<y.length&&_<p.length;_++){const E=jt(y[_],p[_]);if(E!==0)return E}return jt(y.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const y=jt(Oe(c.latitude),Oe(d.latitude));return y!==0?y:jt(Oe(c.longitude),Oe(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return B0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const y=c.fields||{},p=d.fields||{},_=y[uh]?.arrayValue,E=p[uh]?.arrayValue,w=jt(_?.values?.length||0,E?.values?.length||0);return w!==0?w:B0(_,E)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Pc.mapValue&&d===Pc.mapValue)return 0;if(c===Pc.mapValue)return 1;if(d===Pc.mapValue)return-1;const y=c.fields||{},p=Object.keys(y),_=d.fields||{},E=Object.keys(_);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const M=mm(p[w],E[w]);if(M!==0)return M;const q=yo(y[p[w]],_[E[w]]);if(q!==0)return q}return jt(p.length,E.length)})(r.mapValue,t.mapValue);default:throw bt(23264,{he:i})}}function z0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return jt(r,t);const i=Ar(r),a=Ar(t),l=jt(i.seconds,a.seconds);return l!==0?l:jt(i.nanos,a.nanos)}function B0(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=yo(i[l],a[l]);if(c)return c}return jt(i.length,a.length)}function _o(r){return pm(r)}function pm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Ar(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return wr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return Et.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=pm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${pm(i.fields[d])}`;return l+"}"})(r.mapValue):bt(61005,{value:r})}function Kc(r){switch(xr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ah(r);return t?16+Kc(t):16;case 5:return 2*r.stringValue.length;case 6:return wr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Kc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Cr(a.fields,((c,d)=>{l+=c.length+Kc(d)})),l})(r.mapValue);default:throw bt(13486,{value:r})}}function gm(r){return!!r&&"integerValue"in r}function Zm(r){return!!r&&"arrayValue"in r}function H0(r){return!!r&&"nullValue"in r}function q0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Yc(r){return!!r&&"mapValue"in r}function tx(r){return(r?.mapValue?.fields||{})[L1]?.stringValue===U1}function Pl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Cr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Pl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Pl(r.arrayValue.values[i]);return t}return{...r}}function ex(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Ww}class Dn{constructor(t){this.value=t}static empty(){return new Dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Yc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Pl(i)}setAll(t){let i=ln.emptyPath(),a={},l=[];t.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const p=this.getFieldsMap(i);this.applyChanges(p,a,l),a={},l=[],i=y.popLast()}d?a[y.lastSegment()]=Pl(d):l.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Xi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Yc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Cr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Dn(Pl(this.value))}}function P1(r){const t=[];return Cr(r.fields,((i,a)=>{const l=new ln([i]);if(Yc(a)){const c=P1(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Hn(t)}class mn{constructor(t,i,a,l,c,d,y){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(t){return new mn(t,0,wt.min(),wt.min(),wt.min(),Dn.empty(),0)}static newFoundDocument(t,i,a,l){return new mn(t,1,i,wt.min(),a,l,0)}static newNoDocument(t,i){return new mn(t,2,i,wt.min(),wt.min(),Dn.empty(),0)}static newUnknownDocument(t,i){return new mn(t,3,i,wt.min(),wt.min(),Dn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof mn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ch{constructor(t,i){this.position=t,this.inclusive=i}}function G0(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=Et.comparator(Et.fromName(d.referenceValue),i.key):a=yo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function F0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Xi(r.position[i],t.position[i]))return!1;return!0}class hh{constructor(t,i="asc"){this.field=t,this.dir=i}}function nx(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class j1{}class Ke extends j1{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new sx(t,i,a):i==="array-contains"?new ox(t,a):i==="in"?new lx(t,a):i==="not-in"?new ux(t,a):i==="array-contains-any"?new cx(t,a):new Ke(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new rx(t,a):new ax(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(yo(i,this.value)):i!==null&&xr(this.value)===xr(i)&&this.matchesComparison(yo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $i extends j1{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new $i(t,i)}matches(t){return z1(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function z1(r){return r.op==="and"}function B1(r){return ix(r)&&z1(r)}function ix(r){for(const t of r.filters)if(t instanceof $i)return!1;return!0}function ym(r){if(r instanceof Ke)return r.field.canonicalString()+r.op.toString()+_o(r.value);if(B1(r))return r.filters.map((t=>ym(t))).join(",");{const t=r.filters.map((i=>ym(i))).join(",");return`${r.op}(${t})`}}function H1(r,t){return r instanceof Ke?(function(a,l){return l instanceof Ke&&a.op===l.op&&a.field.isEqual(l.field)&&Xi(a.value,l.value)})(r,t):r instanceof $i?(function(a,l){return l instanceof $i&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,y)=>c&&H1(d,l.filters[y])),!0):!1})(r,t):void bt(19439)}function q1(r){return r instanceof Ke?(function(i){return`${i.field.canonicalString()} ${i.op} ${_o(i.value)}`})(r):r instanceof $i?(function(i){return i.op.toString()+" {"+i.getFilters().map(q1).join(" ,")+"}"})(r):"Filter"}class sx extends Ke{constructor(t,i,a){super(t,i,a),this.key=Et.fromName(a.referenceValue)}matches(t){const i=Et.comparator(t.key,this.key);return this.matchesComparison(i)}}class rx extends Ke{constructor(t,i){super(t,"in",i),this.keys=G1("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class ax extends Ke{constructor(t,i){super(t,"not-in",i),this.keys=G1("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function G1(r,t){return(t.arrayValue?.values||[]).map((i=>Et.fromName(i.referenceValue)))}class ox extends Ke{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Zm(i)&&Yl(i.arrayValue,this.value)}}class lx extends Ke{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Yl(this.value.arrayValue,i)}}class ux extends Ke{constructor(t,i){super(t,"not-in",i)}matches(t){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Yl(this.value.arrayValue,i)}}class cx extends Ke{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Zm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Yl(this.value.arrayValue,a)))}}class hx{constructor(t,i=null,a=[],l=[],c=null,d=null,y=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function Q0(r,t=null,i=[],a=[],l=null,c=null,d=null){return new hx(r,t,i,a,l,c,d)}function Jm(r){const t=Rt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>ym(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Sh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>_o(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>_o(a))).join(",")),t.Te=i}return t.Te}function Wm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!nx(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!H1(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!F0(r.startAt,t.startAt)&&F0(r.endAt,t.endAt)}function _m(r){return Et.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class wh{constructor(t,i=null,a=[],l=[],c=null,d="F",y=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fx(r,t,i,a,l,c,d,y){return new wh(r,t,i,a,l,c,d,y)}function xh(r){return new wh(r)}function K0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function dx(r){return r.collectionGroup!==null}function jl(r){const t=Rt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Ye(ln.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new hh(c,a))})),i.has(ln.keyField().canonicalString())||t.Ie.push(new hh(ln.keyField(),a))}return t.Ie}function Fi(r){const t=Rt(r);return t.Ee||(t.Ee=mx(t,jl(r))),t.Ee}function mx(r,t){if(r.limitType==="F")return Q0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new hh(l.field,c)}));const i=r.endAt?new ch(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new ch(r.startAt.position,r.startAt.inclusive):null;return Q0(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function vm(r,t,i){return new wh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Rh(r,t){return Wm(Fi(r),Fi(t))&&r.limitType===t.limitType}function F1(r){return`${Jm(Fi(r))}|lt:${r.limitType}`}function so(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>q1(l))).join(", ")}]`),Sh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>_o(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>_o(l))).join(",")),`Target(${a})`})(Fi(r))}; limitType=${r.limitType})`}function Ih(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Et.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of jl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,y,p){const _=G0(d,y,p);return d.inclusive?_<=0:_<0})(a.startAt,jl(a),l)||a.endAt&&!(function(d,y,p){const _=G0(d,y,p);return d.inclusive?_>=0:_>0})(a.endAt,jl(a),l))})(r,t)}function px(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Q1(r){return(t,i)=>{let a=!1;for(const l of jl(r)){const c=gx(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function gx(r,t,i){const a=r.field.isKeyField()?Et.comparator(t.key,i.key):(function(c,d,y){const p=d.data.field(c),_=y.data.field(c);return p!==null&&_!==null?yo(p,_):bt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return bt(19790,{direction:r.dir})}}class ma{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Cr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return N1(this.inner)}size(){return this.innerSize}}const yx=new be(Et.comparator);function Rs(){return yx}const K1=new be(Et.comparator);function Ol(...r){let t=K1;for(const i of r)t=t.insert(i.key,i);return t}function Y1(r){let t=K1;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function oa(){return zl()}function X1(){return zl()}function zl(){return new ma((r=>r.toString()),((r,t)=>r.isEqual(t)))}const _x=new be(Et.comparator),vx=new Ye(Et.comparator);function zt(...r){let t=vx;for(const i of r)t=t.add(i);return t}const Ex=new Ye(jt);function Tx(){return Ex}function tp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(t)?"-0":t}}function $1(r){return{integerValue:""+r}}function Z1(r,t){return Yw(t)?$1(t):tp(r,t)}class Ch{constructor(){this._=void 0}}function bx(r,t,i){return r instanceof fh?(function(l,c){const d={fields:{[M1]:{stringValue:O1},[k1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&$m(c)&&(c=Ah(c)),c&&(d.fields[V1]=c),{mapValue:d}})(i,t):r instanceof vo?W1(r,t):r instanceof Xl?tE(r,t):(function(l,c){const d=J1(l,c),y=Y0(d)+Y0(l.Ae);return gm(d)&&gm(l.Ae)?$1(y):tp(l.serializer,y)})(r,t)}function Sx(r,t,i){return r instanceof vo?W1(r,t):r instanceof Xl?tE(r,t):i}function J1(r,t){return r instanceof $l?(function(a){return gm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class fh extends Ch{}class vo extends Ch{constructor(t){super(),this.elements=t}}function W1(r,t){const i=eE(t);for(const a of r.elements)i.some((l=>Xi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Xl extends Ch{constructor(t){super(),this.elements=t}}function tE(r,t){let i=eE(t);for(const a of r.elements)i=i.filter((l=>!Xi(l,a)));return{arrayValue:{values:i}}}class $l extends Ch{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Y0(r){return Oe(r.integerValue||r.doubleValue)}function eE(r){return Zm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class nE{constructor(t,i){this.field=t,this.transform=i}}function Ax(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof vo&&l instanceof vo||a instanceof Xl&&l instanceof Xl?go(a.elements,l.elements,Xi):a instanceof $l&&l instanceof $l?Xi(a.Ae,l.Ae):a instanceof fh&&l instanceof fh})(r.transform,t.transform)}class wx{constructor(t,i){this.version=t,this.transformResults=i}}class bi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new bi}static exists(t){return new bi(void 0,t)}static updateTime(t){return new bi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Xc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Nh{}function iE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new ep(r.key,bi.none()):new au(r.key,r.data,bi.none());{const i=r.data,a=Dn.empty();let l=new Ye(ln.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Nr(r.key,a,new Hn(l.toArray()),bi.none())}}function xx(r,t,i){r instanceof au?(function(l,c,d){const y=l.value.clone(),p=$0(l.fieldTransforms,c,d.transformResults);y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):r instanceof Nr?(function(l,c,d){if(!Xc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const y=$0(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(sE(l)),p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Bl(r,t,i,a){return r instanceof au?(function(c,d,y,p){if(!Xc(c.precondition,d))return y;const _=c.value.clone(),E=Z0(c.fieldTransforms,p,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof Nr?(function(c,d,y,p){if(!Xc(c.precondition,d))return y;const _=Z0(c.fieldTransforms,p,d),E=d.data;return E.setAll(sE(c)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,t,i,a):(function(c,d,y){return Xc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,t,i)}function Rx(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=J1(a.transform,l||null);c!=null&&(i===null&&(i=Dn.empty()),i.set(a.field,c))}return i||null}function X0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&go(a,l,((c,d)=>Ax(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class au extends Nh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Nr extends Nh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function sE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function $0(r,t,i){const a=new Map;te(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,y=t.data.field(c.field);a.set(c.field,Sx(d,y,i[l]))}return a}function Z0(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,bx(c,d,t))}return a}class ep extends Nh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ix extends Nh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Cx{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&xx(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Bl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Bl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=X1();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(l.key)?null:y;const p=iE(d,y);p!==null&&a.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(wt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&go(this.mutations,t.mutations,((i,a)=>X0(i,a)))&&go(this.baseMutations,t.baseMutations,((i,a)=>X0(i,a)))}}class np{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){te(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return _x})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new np(t,i,a,l)}}class Nx{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Dx{constructor(t,i){this.count=t,this.unchangedNames=i}}var He,Ft;function Ox(r){switch(r){case J.OK:return bt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return bt(15467,{code:r})}}function rE(r){if(r===void 0)return xs("GRPC error has no .code"),J.UNKNOWN;switch(r){case He.OK:return J.OK;case He.CANCELLED:return J.CANCELLED;case He.UNKNOWN:return J.UNKNOWN;case He.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case He.INTERNAL:return J.INTERNAL;case He.UNAVAILABLE:return J.UNAVAILABLE;case He.UNAUTHENTICATED:return J.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case He.NOT_FOUND:return J.NOT_FOUND;case He.ALREADY_EXISTS:return J.ALREADY_EXISTS;case He.PERMISSION_DENIED:return J.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case He.ABORTED:return J.ABORTED;case He.OUT_OF_RANGE:return J.OUT_OF_RANGE;case He.UNIMPLEMENTED:return J.UNIMPLEMENTED;case He.DATA_LOSS:return J.DATA_LOSS;default:return bt(39323,{code:r})}}(Ft=He||(He={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";function Mx(){return new TextEncoder}const Vx=new Er([4294967295,4294967295],0);function J0(r){const t=Mx().encode(r),i=new E1;return i.update(t),new Uint8Array(i.digest())}function W0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Er([i,a],0),new Er([l,c],0)]}class ip{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ml(`Invalid padding: ${i}`);if(a<0)throw new Ml(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Er.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Er.fromNumber(a)));return l.compare(Vx)===1&&(l=new Er([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=J0(t),[a,l]=W0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new ip(c,l,i);return a.forEach((y=>d.insert(y))),d}insert(t){if(this.ge===0)return;const i=J0(t),[a,l]=W0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,ou.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Dh(wt.min(),l,new be(jt),Rs(),zt())}}class ou{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new ou(a,i,zt(),zt(),zt())}}class $c{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class aE{constructor(t,i){this.targetId=t,this.Ce=i}}class oE{constructor(t,i,a=un.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class tv{constructor(){this.ve=0,this.Fe=ev(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),a=zt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:bt(38017,{changeType:c})}})),new ou(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=ev()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,te(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kx{constructor(t){this.Ge=t,this.ze=new Map,this.je=Rs(),this.Je=jc(),this.He=jc(),this.Ye=new be(jt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:bt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(_m(c))if(a===0){const d=new Et(c.path);this.et(i,d,mn.newNoDocument(d,wt.min()))}else te(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(t),p=y?this.ct(y,t,d):1;if(p!==0){this.it(i);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,y;try{d=wr(a).toUint8Array()}catch(p){if(p instanceof D1)return po("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{y=new ip(d,l,c)}catch(p){return po(p instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return y.ge===0?null:y}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(y)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&_m(y.target)){const p=new Et(y.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,mn.newNoDocument(p,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=zt();this.He.forEach(((c,d)=>{let y=!0;d.forEachWhile((p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Dh(t,i,this.Ye,this.je,a);return this.je=Rs(),this.Je=jc(),this.He=jc(),this.Ye=new be(jt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new tv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ye(jt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ye(jt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ct("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new tv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function jc(){return new be(Et.comparator)}function ev(){return new be(Et.comparator)}const Lx={asc:"ASCENDING",desc:"DESCENDING"},Ux={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Px={and:"AND",or:"OR"};class jx{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Em(r,t){return r.useProto3Json||Sh(t)?t:{value:t}}function dh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function lE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function zx(r,t){return dh(r,t.toTimestamp())}function Qi(r){return te(!!r,49232),wt.fromTimestamp((function(i){const a=Ar(i);return new ge(a.seconds,a.nanos)})(r))}function sp(r,t){return Tm(r,t).canonicalString()}function Tm(r,t){const i=(function(l){return new Te(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function uE(r){const t=Te.fromString(r);return te(mE(t),10190,{key:t.toString()}),t}function bm(r,t){return sp(r.databaseId,t.path)}function $d(r,t){const i=uE(t);if(i.get(1)!==r.databaseId.projectId)throw new dt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new dt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new Et(hE(i))}function cE(r,t){return sp(r.databaseId,t)}function Bx(r){const t=uE(r);return t.length===4?Te.emptyPath():hE(t)}function Sm(r){return new Te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function hE(r){return te(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function nv(r,t,i){return{name:bm(r,t),fields:i.value.mapValue.fields}}function Hx(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:bt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,E){return _.useProto3Json?(te(E===void 0||typeof E=="string",58123),un.fromBase64String(E||"")):(te(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),un.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,y=d&&(function(_){const E=_.code===void 0?J.UNKNOWN:rE(_.code);return new dt(E,_.message||"")})(d);i=new oE(a,l,c,y||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=$d(r,a.document.name),c=Qi(a.document.updateTime),d=a.document.createTime?Qi(a.document.createTime):wt.min(),y=new Dn({mapValue:{fields:a.document.fields}}),p=mn.newFoundDocument(l,c,d,y),_=a.targetIds||[],E=a.removedTargetIds||[];i=new $c(_,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=$d(r,a.document),c=a.readTime?Qi(a.readTime):wt.min(),d=mn.newNoDocument(l,c),y=a.removedTargetIds||[];i=new $c([],y,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=$d(r,a.document),c=a.removedTargetIds||[];i=new $c([],c,l,null)}else{if(!("filter"in t))return bt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new Dx(l,c),y=a.targetId;i=new aE(y,d)}}return i}function qx(r,t){let i;if(t instanceof au)i={update:nv(r,t.key,t.value)};else if(t instanceof ep)i={delete:bm(r,t.key)};else if(t instanceof Nr)i={update:nv(r,t.key,t.data),updateMask:Jx(t.fieldMask)};else{if(!(t instanceof Ix))return bt(16599,{Vt:t.type});i={verify:bm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof fh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof vo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Xl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof $l)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw bt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:zx(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:bt(27497)})(r,t.precondition)),i}function Gx(r,t){return r&&r.length>0?(te(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Qi(l.updateTime):Qi(c);return d.isEqual(wt.min())&&(d=Qi(c)),new wx(d,l.transformResults||[])})(i,t)))):[]}function Fx(r,t){return{documents:[cE(r,t.path)]}}function Qx(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=cE(r,l);const c=(function(_){if(_.length!==0)return dE($i.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((E=>(function(M){return{field:ro(M.field),direction:Xx(M.dir)}})(E)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const y=Em(r,t.limit);return y!==null&&(i.structuredQuery.limit=y),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function Kx(r){let t=Bx(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){te(a===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=(function(w){const M=fE(w);return M instanceof $i&&B1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(nt){return new hh(ao(nt.field),(function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(nt.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(w){let M;return M=typeof w=="object"?w.value:w,Sh(M)?null:M})(i.limit));let p=null;i.startAt&&(p=(function(w){const M=!!w.before,q=w.values||[];return new ch(q,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const M=!w.before,q=w.values||[];return new ch(q,M)})(i.endAt)),fx(t,l,d,c,y,"F",p,_)}function Yx(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function fE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ao(i.unaryFilter.field);return Ke.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=ao(i.unaryFilter.field);return Ke.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ao(i.unaryFilter.field);return Ke.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ao(i.unaryFilter.field);return Ke.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ke.create(ao(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return $i.create(i.compositeFilter.filters.map((a=>fE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(i.compositeFilter.op))})(r):bt(30097,{filter:r})}function Xx(r){return Lx[r]}function $x(r){return Ux[r]}function Zx(r){return Px[r]}function ro(r){return{fieldPath:r.canonicalString()}}function ao(r){return ln.fromServerFormat(r.fieldPath)}function dE(r){return r instanceof Ke?(function(i){if(i.op==="=="){if(q0(i.value))return{unaryFilter:{field:ro(i.field),op:"IS_NAN"}};if(H0(i.value))return{unaryFilter:{field:ro(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(q0(i.value))return{unaryFilter:{field:ro(i.field),op:"IS_NOT_NAN"}};if(H0(i.value))return{unaryFilter:{field:ro(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(i.field),op:$x(i.op),value:i.value}}})(r):r instanceof $i?(function(i){const a=i.getFilters().map((l=>dE(l)));return a.length===1?a[0]:{compositeFilter:{op:Zx(i.op),filters:a}}})(r):bt(54877,{filter:r})}function Jx(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function mE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class gr{constructor(t,i,a,l,c=wt.min(),d=wt.min(),y=un.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=p}withSequenceNumber(t){return new gr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Wx{constructor(t){this.yt=t}}function tR(r){const t=Kx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?vm(t,t.limit,"L"):t}class eR{constructor(){this.Cn=new nR}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(Sr.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(Sr.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class nR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ye(Te.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ye(Te.comparator)).toArray()}}const iv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pE=41943040;class Nn{static withCacheSize(t){return new Nn(t,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(pE,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);class Eo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Eo(0)}static cr(){return new Eo(-1)}}const sv="LruGarbageCollector",iR=1048576;function rv([r,t],[i,a]){const l=jt(r,i);return l===0?jt(t,a):l}class sR{constructor(t){this.Ir=t,this.buffer=new Ye(rv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();rv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class rR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ct(sv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ro(i)?ct(sv,"Ignoring IndexedDB error during garbage collection: ",i):await xo(i)}await this.Vr(3e5)}))}}class aR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(bh.ce);const a=new sR(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(iv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,y,p,_;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(a=w,y=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,p=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(_=Date.now(),io()<=Pt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${c} targets in `+(p-y)+`ms
	Removed ${w} documents in `+(_-p)+`ms
Total Duration: ${_-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function oR(r,t){return new aR(r,t)}class lR{constructor(){this.changes=new ma((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,mn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class uR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class cR{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Bl(a.mutation,l,Hn.empty(),ge.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=zt()){const l=oa();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Ol();return c.forEach(((y,p)=>{d=d.insert(y,p.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=oa();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,zt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(t,i,a,l){let c=Rs();const d=zl(),y=(function(){return zl()})();return i.forEach(((p,_)=>{const E=a.get(_.key);l.has(_.key)&&(E===void 0||E.mutation instanceof Nr)?c=c.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),Bl(E.mutation,_,E.mutation.getFieldMask(),ge.now())):d.set(_.key,Hn.empty())})),this.recalculateAndSaveOverlays(t,c).next((p=>(p.forEach(((_,E)=>d.set(_,E))),i.forEach(((_,E)=>y.set(_,new uR(E,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(t,i){const a=zl();let l=new be(((d,y)=>d-y)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const y of d)y.keys().forEach((p=>{const _=i.get(p);if(_===null)return;let E=a.get(p)||Hn.empty();E=y.applyToLocalView(_,E),a.set(p,E);const w=(l.get(y.batchId)||zt()).add(p);l=l.insert(y.batchId,w)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const p=y.getNext(),_=p.key,E=p.value,w=X1();E.forEach((M=>{if(!c.has(M)){const q=iE(i.get(M),a.get(M));q!==null&&w.set(M,q),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,w))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return Et.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):dx(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):Z.resolve(oa());let y=Fl,p=c;return d.next((_=>Z.forEach(_,((E,w)=>(y<w.largestBatchId&&(y=w.largestBatchId),c.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(t,E).next((M=>{p=p.insert(E,M)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,p,_,zt()))).next((E=>({batchId:y,changes:Y1(E)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Et(i)).next((a=>{let l=Ol();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Ol();return this.indexManager.getCollectionParents(t,c).next((y=>Z.forEach(y,(p=>{const _=(function(w,M){return new wh(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((E=>{E.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((p,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,mn.newInvalidDocument(E)))}));let y=Ol();return d.forEach(((p,_)=>{const E=c.get(p);E!==void 0&&Bl(E.mutation,_,Hn.empty(),ge.now()),Ih(i,_)&&(y=y.insert(p,_))})),y}))}}class hR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Qi(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:tR(l.bundledQuery),readTime:Qi(l.readTime)}})(i)),Z.resolve()}}class fR{constructor(){this.overlays=new be(Et.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=oa();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const l=oa(),c=i.length+1,d=new Et(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const p=y.getNext().value,_=p.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>a&&l.set(p.getKey(),p)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new be(((_,E)=>_-E));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let E=c.get(_.largestBatchId);E===null&&(E=oa(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const y=oa(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,E)=>y.set(_,E))),!(y.size()>=l)););return Z.resolve(y)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Nx(i,a));let c=this.qr.get(i);c===void 0&&(c=zt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class dR{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class rp{constructor(){this.Qr=new Ye(tn.$r),this.Ur=new Ye(tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new tn(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new tn(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new Et(new Te([])),a=new tn(i,t),l=new tn(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new Et(new Te([])),a=new tn(i,t),l=new tn(i,t+1);let c=zt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new tn(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class tn{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return Et.comparator(t.key,i.key)||jt(t.Yr,i.Yr)}static Kr(t,i){return jt(t.Yr,i.Yr)||Et.comparator(t.key,i.key)}}class mR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ye(tn.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Cx(c,i,a,l);this.mutationQueue.push(d);for(const y of l)this.Zr=this.Zr.add(new tn(y.key,c)),this.indexManager.addToCollectionParentIndex(t,y.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Xm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new tn(i,0),l=new tn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const y=this.Xr(d.Yr);c.push(y)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ye(jt);return i.forEach((l=>{const c=new tn(l,0),d=new tn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(y=>{a=a.add(y.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;Et.isDocumentKey(c)||(c=c.child(""));const d=new tn(new Et(c),0);let y=new Ye(jt);return this.Zr.forEachWhile((p=>{const _=p.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(y=y.add(p.Yr)),!0)}),d),Z.resolve(this.ti(y))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){te(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new tn(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new tn(i,0),l=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class pR{constructor(t){this.ri=t,this.docs=(function(){return new be(Et.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():mn.newInvalidDocument(i))}getEntries(t,i){let a=Rs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():mn.newInvalidDocument(l))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=Rs();const d=i.path,y=new Et(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(y);for(;p.hasNext();){const{key:_,value:{document:E}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Gw(qw(E),a)<=0||(l.has(E.key)||Ih(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,a,l){bt(9500)}ii(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new gR(this)}getSize(t){return Z.resolve(this.size)}}class gR extends lR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class yR{constructor(t){this.persistence=t,this.si=new ma((i=>Jm(i)),Wm),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.oi=0,this._i=new rp,this.targetCount=0,this.ai=Eo.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Eo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,y.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class gE{constructor(t,i){this.ui={},this.overlays={},this.ci=new bh(0),this.li=!1,this.li=!0,this.hi=new dR,this.referenceDelegate=t(this),this.Pi=new yR(this),this.indexManager=new eR,this.remoteDocumentCache=(function(l){return new pR(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new Wx(i),this.Ii=new hR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new fR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new mR(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ct("MemoryPersistence","Starting transaction:",t);const l=new _R(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class _R extends Qw{constructor(t){super(),this.currentSequenceNumber=t}}class ap{constructor(t){this.persistence=t,this.Ri=new rp,this.Vi=null}static mi(t){return new ap(t)}get fi(){if(this.Vi)return this.Vi;throw bt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const l=Et.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,wt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class mh{constructor(t,i){this.persistence=t,this.pi=new ma((a=>Xw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=oR(this,i)}static mi(t,i){return new mh(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((y=>{y||(a++,c.removeEntry(d,wt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Kc(t.data.value)),i}br(t,i,a){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class op{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=zt(),l=zt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new op(t,i.fromCache,a,l)}}class vR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class ER{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return lS()?8:Kw(pn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new vR;return this.Ss(t,i,d).next((y=>{if(c.result=y,this.Vs)return this.bs(t,i,d,y.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(io()<=Pt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",so(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(io()<=Pt.DEBUG&&ct("QueryEngine","Query:",so(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(io()<=Pt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",so(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Fi(i))):Z.resolve())}ys(t,i){if(K0(i))return Z.resolve(null);let a=Fi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=vm(i,null,"F"),a=Fi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=zt(...c);return this.ps.getDocuments(t,d).next((y=>this.indexManager.getMinOffset(t,a).next((p=>{const _=this.Ds(i,y);return this.Cs(i,_,d,p.readTime)?this.ys(t,vm(i,null,"F")):this.vs(t,_,i,p)}))))})))))}ws(t,i,a,l){return K0(i)||l.isEqual(wt.min())?Z.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?Z.resolve(null):(io()<=Pt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),so(i)),this.vs(t,d,i,Hw(l,Fl)).next((y=>y)))}))}Ds(t,i){let a=new Ye(Q1(t));return i.forEach(((l,c)=>{Ih(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return io()<=Pt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",so(i)),this.ps.getDocumentsMatchingQuery(t,i,Sr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const lp="LocalStore",TR=3e8;class bR{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new be(jt),this.xs=new ma((c=>Jm(c)),Wm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new cR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function SR(r,t,i,a){return new bR(r,t,i,a)}async function yE(r,t){const i=Rt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let p=zt();for(const _ of l){d.push(_.batchId);for(const E of _.mutations)p=p.add(E.key)}for(const _ of c){y.push(_.batchId);for(const E of _.mutations)p=p.add(E.key)}return i.localDocuments.getDocuments(a,p).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function AR(r,t){const i=Rt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,p,_,E){const w=_.batch,M=w.keys();let q=Z.resolve();return M.forEach((nt=>{q=q.next((()=>E.getEntry(p,nt))).next((it=>{const et=_.docVersions.get(nt);te(et!==null,48541),it.version.compareTo(et)<0&&(w.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),E.addEntry(it)))}))})),q.next((()=>y.mutationQueue.removeMutationBatch(p,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let p=zt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(p=p.add(y.batch.mutations[_].key));return p})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function _E(r){const t=Rt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function wR(r,t){const i=Rt(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const y=[];t.targetChanges.forEach(((E,w)=>{const M=l.get(w);if(!M)return;y.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,w))));let q=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?q=q.withResumeToken(un.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):E.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(E.resumeToken,a)),l=l.insert(w,q),(function(it,et,ot){return it.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=TR?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0})(M,q,E)&&y.push(i.Pi.updateTargetData(c,q))}));let p=Rs(),_=zt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),y.push(xR(c,d,t.documentUpdates).next((E=>{p=E.ks,_=E.qs}))),!a.isEqual(wt.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(E)}return Z.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,p,_))).next((()=>p))})).then((c=>(i.Ms=l,c)))}function xR(r,t,i){let a=zt(),l=zt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=Rs();return i.forEach(((y,p)=>{const _=c.get(y);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(y)),p.isNoDocument()&&p.version.isEqual(wt.min())?(t.removeEntry(y,p.readTime),d=d.insert(y,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),d=d.insert(y,p)):ct(lp,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",p.version)})),{ks:d,qs:l}}))}function RR(r,t){const i=Rt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Xm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function IR(r,t){const i=Rt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new gr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function Am(r,t,i){const a=Rt(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Ro(d))throw d;ct(lp,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function av(r,t,i){const a=Rt(r);let l=wt.min(),c=zt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,_,E){const w=Rt(p),M=w.xs.get(E);return M!==void 0?Z.resolve(w.Ms.get(M)):w.Pi.getTargetData(_,E)})(a,d,Fi(t)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,y.targetId).next((p=>{c=p}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:wt.min(),i?c:zt()))).next((y=>(CR(a,px(t),y),{documents:y,Qs:c})))))}function CR(r,t,i){let a=r.Os.get(t)||wt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class ov{constructor(){this.activeTargetIds=Tx()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class NR{constructor(){this.Mo=new ov,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new ov,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class DR{Oo(t){}shutdown(){}}const lv="ConnectivityMonitor";class uv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(lv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ct(lv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let zc=null;function wm(){return zc===null?zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():zc++,"0x"+zc.toString(16)}const Zd="RestConnection",OR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===lh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=wm(),y=this.zo(t,i.toUriEncodedString());ct(Zd,`Sending RPC '${t}' ${d}:`,y,a);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,c);const{host:_}=new URL(y),E=bo(_);return this.Jo(t,y,p,a,E).then((w=>(ct(Zd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw po(Zd,`RPC '${t}' ${d} failed with error: `,w,"url: ",y,"request:",a),w}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=OR[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class VR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const fn="WebChannelConnection";class kR extends MR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=wm();return new Promise(((y,p)=>{const _=new T1;_.setWithCredentials(!0),_.listenOnce(b1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Qc.NO_ERROR:const w=_.getResponseJson();ct(fn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),y(w);break;case Qc.TIMEOUT:ct(fn,`RPC '${t}' ${d} timed out`),p(new dt(J.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const M=_.getStatus();if(ct(fn,`RPC '${t}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const nt=q?.error;if(nt&&nt.status&&nt.message){const it=(function(ot){const gt=ot.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(gt)>=0?gt:J.UNKNOWN})(nt.status);p(new dt(it,nt.message))}else p(new dt(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new dt(J.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ct(fn,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(l);ct(fn,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",E,a,15)}))}T_(t,i,a){const l=wm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=w1(),y=A1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const E=c.join("");ct(fn,`Creating RPC '${t}' stream ${l}: ${E}`,p);const w=d.createWebChannel(E,p);this.I_(w);let M=!1,q=!1;const nt=new VR({Yo:et=>{q?ct(fn,`Not sending because RPC '${t}' stream ${l} is closed:`,et):(M||(ct(fn,`Opening RPC '${t}' stream ${l} transport.`),w.open(),M=!0),ct(fn,`RPC '${t}' stream ${l} sending:`,et),w.send(et))},Zo:()=>w.close()}),it=(et,ot,gt)=>{et.listen(ot,(mt=>{try{gt(mt)}catch(Qt){setTimeout((()=>{throw Qt}),0)}}))};return it(w,Dl.EventType.OPEN,(()=>{q||(ct(fn,`RPC '${t}' stream ${l} transport opened.`),nt.o_())})),it(w,Dl.EventType.CLOSE,(()=>{q||(q=!0,ct(fn,`RPC '${t}' stream ${l} transport closed`),nt.a_(),this.E_(w))})),it(w,Dl.EventType.ERROR,(et=>{q||(q=!0,po(fn,`RPC '${t}' stream ${l} transport errored. Name:`,et.name,"Message:",et.message),nt.a_(new dt(J.UNAVAILABLE,"The operation could not be completed")))})),it(w,Dl.EventType.MESSAGE,(et=>{if(!q){const ot=et.data[0];te(!!ot,16349);const gt=ot,mt=gt?.error||gt[0]?.error;if(mt){ct(fn,`RPC '${t}' stream ${l} received error:`,mt);const Qt=mt.status;let Kt=(function(A){const R=He[A];if(R!==void 0)return rE(R)})(Qt),Bt=mt.message;Kt===void 0&&(Kt=J.INTERNAL,Bt="Unknown error status: "+Qt+" with message "+mt.message),q=!0,nt.a_(new dt(Kt,Bt)),w.close()}else ct(fn,`RPC '${t}' stream ${l} received:`,ot),nt.u_(ot)}})),it(y,S1.STAT_EVENT,(et=>{et.stat===dm.PROXY?ct(fn,`RPC '${t}' stream ${l} detected buffering proxy`):et.stat===dm.NOPROXY&&ct(fn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{nt.__()}),0),nt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Jd(){return typeof document<"u"?document:null}function Oh(r){return new jx(r,!0)}class vE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ct("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const cv="PersistentStream";class EE{constructor(t,i,a,l,c,d,y,p){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(xs(i.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new dt(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ct(cv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ct(cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LR extends EE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Hx(this.serializer,t),a=(function(c){if(!("targetChange"in c))return wt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?wt.min():d.readTime?Qi(d.readTime):wt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=Sm(this.serializer),i.addTarget=(function(c,d){let y;const p=d.target;if(y=_m(p)?{documents:Fx(c,p)}:{query:Qx(c,p).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=lE(c,d.resumeToken);const _=Em(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(wt.min())>0){y.readTime=dh(c,d.snapshotVersion.toTimestamp());const _=Em(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,t);const a=Yx(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=Sm(this.serializer),i.removeTarget=t,this.q_(i)}}class UR extends EE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return te(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,te(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){te(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Gx(t.writeResults,t.commitTime),a=Qi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=Sm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>qx(this.serializer,a)))};this.q_(i)}}class PR{}class jR extends PR{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new dt(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Tm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new dt(J.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(t,Tm(i,a),l,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new dt(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xs(i),this.aa=!1):ct("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const fa="RemoteStore";class BR{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{pa(this)&&(ct(fa,"Restarting streams for network reachability change."),await(async function(p){const _=Rt(p);_.Ea.add(4),await lu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Mh(_)})(this))}))})),this.Ra=new zR(a,l)}}async function Mh(r){if(pa(r))for(const t of r.da)await t(!0)}async function lu(r){for(const t of r.da)await t(!1)}function TE(r,t){const i=Rt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),fp(i)?hp(i):Io(i).O_()&&cp(i,t))}function up(r,t){const i=Rt(r),a=Io(i);i.Ia.delete(t),a.O_()&&bE(i,t),i.Ia.size===0&&(a.O_()?a.L_():pa(i)&&i.Ra.set("Unknown"))}function cp(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Io(r).Y_(t)}function bE(r,t){r.Va.Ue(t),Io(r).Z_(t)}function hp(r){r.Va=new kx({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Io(r).start(),r.Ra.ua()}function fp(r){return pa(r)&&!Io(r).x_()&&r.Ia.size>0}function pa(r){return Rt(r).Ea.size===0}function SE(r){r.Va=void 0}async function HR(r){r.Ra.set("Online")}async function qR(r){r.Ia.forEach(((t,i)=>{cp(r,t)}))}async function GR(r,t){SE(r),fp(r)?(r.Ra.ha(t),hp(r)):r.Ra.set("Unknown")}async function FR(r,t,i){if(r.Ra.set("Online"),t instanceof oE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const y of c.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Ia.delete(y),l.Va.removeTarget(y))})(r,t)}catch(a){ct(fa,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await ph(r,a)}else if(t instanceof $c?r.Va.Ze(t):t instanceof aE?r.Va.st(t):r.Va.tt(t),!i.isEqual(wt.min()))try{const a=await _E(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.Va.Tt(d);return y.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.Ia.get(_);E&&c.Ia.set(_,E.withResumeToken(p.resumeToken,d))}})),y.targetMismatches.forEach(((p,_)=>{const E=c.Ia.get(p);if(!E)return;c.Ia.set(p,E.withResumeToken(un.EMPTY_BYTE_STRING,E.snapshotVersion)),bE(c,p);const w=new gr(E.target,p,_,E.sequenceNumber);cp(c,w)})),c.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(a){ct(fa,"Failed to raise snapshot:",a),await ph(r,a)}}async function ph(r,t,i){if(!Ro(t))throw t;r.Ea.add(1),await lu(r),r.Ra.set("Offline"),i||(i=()=>_E(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ct(fa,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Mh(r)}))}function AE(r,t){return t().catch((i=>ph(r,i,t)))}async function Vh(r){const t=Rt(r),i=Rr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Xm;for(;QR(t);)try{const l=await RR(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,KR(t,l)}catch(l){await ph(t,l)}wE(t)&&xE(t)}function QR(r){return pa(r)&&r.Ta.length<10}function KR(r,t){r.Ta.push(t);const i=Rr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function wE(r){return pa(r)&&!Rr(r).x_()&&r.Ta.length>0}function xE(r){Rr(r).start()}async function YR(r){Rr(r).ra()}async function XR(r){const t=Rr(r);for(const i of r.Ta)t.ea(i.mutations)}async function $R(r,t,i){const a=r.Ta.shift(),l=np.from(a,t,i);await AE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Vh(r)}async function ZR(r,t){t&&Rr(r).X_&&await(async function(a,l){if((function(d){return Ox(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();Rr(a).B_(),await AE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Vh(a)}})(r,t),wE(r)&&xE(r)}async function hv(r,t){const i=Rt(r);i.asyncQueue.verifyOperationInProgress(),ct(fa,"RemoteStore received new credentials");const a=pa(i);i.Ea.add(3),await lu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Mh(i)}async function JR(r,t){const i=Rt(r);t?(i.Ea.delete(2),await Mh(i)):t||(i.Ea.add(2),await lu(i),i.Ra.set("Unknown"))}function Io(r){return r.ma||(r.ma=(function(i,a,l){const c=Rt(i);return c.sa(),new LR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:HR.bind(null,r),t_:qR.bind(null,r),r_:GR.bind(null,r),H_:FR.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),fp(r)?hp(r):r.Ra.set("Unknown")):(await r.ma.stop(),SE(r))}))),r.ma}function Rr(r){return r.fa||(r.fa=(function(i,a,l){const c=Rt(i);return c.sa(),new UR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:YR.bind(null,r),r_:ZR.bind(null,r),ta:XR.bind(null,r),na:$R.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Vh(r)):(await r.fa.stop(),r.Ta.length>0&&(ct(fa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class dp{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,y=new dp(t,i,d,l,c);return y.start(a),y}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mp(r,t){if(xs("AsyncQueue",`${t}: ${r}`),Ro(r))return new dt(J.UNAVAILABLE,`${t}: ${r}`);throw r}class ho{static emptySet(t){return new ho(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||Et.comparator(i.key,a.key):(i,a)=>Et.comparator(i.key,a.key),this.keyedMap=Ol(),this.sortedSet=new be(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ho)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new ho;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class fv{constructor(){this.ga=new be(Et.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):bt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class To{constructor(t,i,a,l,c,d,y,p,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new To(t,i,ho.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class WR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class tI{constructor(){this.queries=dv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Rt(i),c=l.queries;l.queries=dv(),c.forEach(((d,y)=>{for(const p of y.Sa)p.onError(a)}))})(this,new dt(J.ABORTED,"Firestore shutting down"))}}function dv(){return new ma((r=>F1(r)),Rh)}async function RE(r,t){const i=Rt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new WR,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const y=mp(d,`Initialization of query '${so(t.query)}' failed`);return void t.onError(y)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&pp(i)}async function IE(r,t){const i=Rt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function eI(r,t){const i=Rt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const y of d.Sa)y.Fa(l)&&(a=!0);d.wa=l}}a&&pp(i)}function nI(r,t,i){const a=Rt(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function pp(r){r.Ca.forEach((t=>{t.next()}))}var xm,mv;(mv=xm||(xm={})).Ma="default",mv.Cache="cache";class CE{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new To(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=To.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==xm.Cache}}class NE{constructor(t){this.key=t}}class DE{constructor(t){this.key=t}}class iI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=Q1(t),this.tu=new ho(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new fv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,y=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,w)=>{const M=l.get(E),q=Ih(this.query,w)?w:null,nt=!!M&&this.mutatedKeys.has(M.key),it=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let et=!1;M&&q?M.data.isEqual(q.data)?nt!==it&&(a.track({type:3,doc:q}),et=!0):this.su(M,q)||(a.track({type:2,doc:q}),et=!0,(p&&this.eu(q,p)>0||_&&this.eu(q,_)<0)&&(y=!0)):!M&&q?(a.track({type:0,doc:q}),et=!0):M&&!q&&(a.track({type:1,doc:M}),et=!0,(p||_)&&(y=!0)),et&&(q?(d=d.add(q),c=it?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:y,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,w)=>(function(q,nt){const it=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Rt:et})}};return it(q)-it(nt)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(a),l=l??!1;const y=i&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,_=p!==this.Za;return this.Za=p,d.length!==0||_?{snapshot:new To(this.query,t.tu,c,d,t.mutatedKeys,p===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new DE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new NE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return To.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gp="SyncEngine";class sI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class rI{constructor(t){this.key=t,this.hu=!1}}class aI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ma((y=>F1(y)),Rh),this.Iu=new Map,this.Eu=new Set,this.du=new be(Et.comparator),this.Au=new Map,this.Ru=new rp,this.Vu={},this.mu=new Map,this.fu=Eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oI(r,t,i=!0){const a=UE(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await OE(a,t,i,!0),l}async function lI(r,t){const i=UE(r);await OE(i,t,!0,!1)}async function OE(r,t,i,a){const l=await IR(r.localStore,Fi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await uI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&TE(r.remoteStore,l),y}async function uI(r,t,i,a,l){r.pu=(w,M,q)=>(async function(it,et,ot,gt){let mt=et.view.ru(ot);mt.Cs&&(mt=await av(it.localStore,et.query,!1).then((({documents:C})=>et.view.ru(C,mt))));const Qt=gt&&gt.targetChanges.get(et.targetId),Kt=gt&&gt.targetMismatches.get(et.targetId)!=null,Bt=et.view.applyChanges(mt,it.isPrimaryClient,Qt,Kt);return gv(it,et.targetId,Bt.au),Bt.snapshot})(r,w,M,q);const c=await av(r.localStore,t,!0),d=new iI(t,c.Qs),y=d.ru(c.documents),p=ou.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(y,r.isPrimaryClient,p);gv(r,i,_.au);const E=new sI(t,i,d);return r.Tu.set(t,E),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function cI(r,t,i){const a=Rt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Rh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Am(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&up(a.remoteStore,l.targetId),Rm(a,l.targetId)})).catch(xo)):(Rm(a,l.targetId),await Am(a.localStore,l.targetId,!0))}async function hI(r,t){const i=Rt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),up(i.remoteStore,a.targetId))}async function fI(r,t,i){const a=vI(r);try{const l=await(function(d,y){const p=Rt(d),_=ge.now(),E=y.reduce(((q,nt)=>q.add(nt.key)),zt());let w,M;return p.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let nt=Rs(),it=zt();return p.Ns.getEntries(q,E).next((et=>{nt=et,nt.forEach(((ot,gt)=>{gt.isValidDocument()||(it=it.add(ot))}))})).next((()=>p.localDocuments.getOverlayedDocuments(q,nt))).next((et=>{w=et;const ot=[];for(const gt of y){const mt=Rx(gt,w.get(gt.key).overlayedDocument);mt!=null&&ot.push(new Nr(gt.key,mt,P1(mt.value.mapValue),bi.exists(!0)))}return p.mutationQueue.addMutationBatch(q,_,ot,y)})).next((et=>{M=et;const ot=et.applyToLocalDocumentSet(w,it);return p.documentOverlayCache.saveOverlays(q,et.batchId,ot)}))})).then((()=>({batchId:M.batchId,changes:Y1(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,y,p){let _=d.Vu[d.currentUser.toKey()];_||(_=new be(jt)),_=_.insert(y,p),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await uu(a,l.changes),await Vh(a.remoteStore)}catch(l){const c=mp(l,"Failed to persist write");i.reject(c)}}async function ME(r,t){const i=Rt(r);try{const a=await wR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(te(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?te(d.hu,14607):l.removedDocuments.size>0&&(te(d.hu,42227),d.hu=!1))})),await uu(i,a,t)}catch(a){await xo(a)}}function pv(r,t,i){const a=Rt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(t);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const p=Rt(d);p.onlineState=y;let _=!1;p.queries.forEach(((E,w)=>{for(const M of w.Sa)M.va(y)&&(_=!0)})),_&&pp(p)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function dI(r,t,i){const a=Rt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new be(Et.comparator);d=d.insert(c,mn.newNoDocument(c,wt.min()));const y=zt().add(c),p=new Dh(wt.min(),new Map,new be(jt),d,y);await ME(a,p),a.du=a.du.remove(c),a.Au.delete(t),yp(a)}else await Am(a.localStore,t,!1).then((()=>Rm(a,t,i))).catch(xo)}async function mI(r,t){const i=Rt(r),a=t.batch.batchId;try{const l=await AR(i.localStore,t);kE(i,a,null),VE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await uu(i,l)}catch(l){await xo(l)}}async function pI(r,t,i){const a=Rt(r);try{const l=await(function(d,y){const p=Rt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return p.mutationQueue.lookupMutationBatch(_,y).next((w=>(te(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(_,w)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,E,y))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>p.localDocuments.getDocuments(_,E)))}))})(a.localStore,t);kE(a,t,i),VE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await uu(a,l)}catch(l){await xo(l)}}function VE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function kE(r,t,i){const a=Rt(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Rm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||LE(r,a)}))}function LE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(up(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),yp(r))}function gv(r,t,i){for(const a of i)a instanceof NE?(r.Ru.addReference(a.key,t),gI(r,a)):a instanceof DE?(ct(gp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||LE(r,a.key)):bt(19791,{wu:a})}function gI(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ct(gp,"New document in limbo: "+i),r.Eu.add(a),yp(r))}function yp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new Et(Te.fromString(t)),a=r.fu.next();r.Au.set(a,new rI(i)),r.du=r.du.insert(i,a),TE(r.remoteStore,new gr(Fi(xh(i.path)),a,"TargetPurposeLimboResolution",bh.ce))}}async function uu(r,t,i){const a=Rt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,p)=>{d.push(a.pu(p,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const E=_?!_.fromCache:i?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(_){l.push(_);const E=op.As(p.targetId,_);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(p,_){const E=Rt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Z.forEach(_,(M=>Z.forEach(M.Es,(q=>E.persistence.referenceDelegate.addReference(w,M.targetId,q))).next((()=>Z.forEach(M.ds,(q=>E.persistence.referenceDelegate.removeReference(w,M.targetId,q)))))))))}catch(w){if(!Ro(w))throw w;ct(lp,"Failed to update sequence numbers: "+w)}for(const w of _){const M=w.targetId;if(!w.fromCache){const q=E.Ms.get(M),nt=q.snapshotVersion,it=q.withLastLimboFreeSnapshotVersion(nt);E.Ms=E.Ms.insert(M,it)}}})(a.localStore,c))}async function yI(r,t){const i=Rt(r);if(!i.currentUser.isEqual(t)){ct(gp,"User change. New user:",t.toKey());const a=await yE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((y=>{y.forEach((p=>{p.reject(new dt(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await uu(i,a.Ls)}}function _I(r,t){const i=Rt(r),a=i.Au.get(t);if(a&&a.hu)return zt().add(a.key);{let l=zt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const y=i.Tu.get(d);l=l.unionWith(y.view.nu)}return l}}function UE(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=ME.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_I.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dI.bind(null,t),t.Pu.H_=eI.bind(null,t.eventManager),t.Pu.yu=nI.bind(null,t.eventManager),t}function vI(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pI.bind(null,t),t}class gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Oh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return SR(this.persistence,new ER,t.initialUser,this.serializer)}Cu(t){return new gE(ap.mi,this.serializer)}Du(t){return new NR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gh.provider={build:()=>new gh};class EI extends gh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){te(this.persistence.referenceDelegate instanceof mh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new rR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new gE((a=>mh.mi(a,i)),this.serializer)}}class Im{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>pv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=yI.bind(null,this.syncEngine),await JR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new tI})()}createDatastore(t){const i=Oh(t.databaseInfo.databaseId),a=(function(c){return new kR(c)})(t.databaseInfo);return(function(c,d,y,p){return new jR(c,d,y,p)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,y){return new BR(a,l,c,d,y)})(this.localStore,this.datastore,t.asyncQueue,(i=>pv(this.syncEngine,i,0)),(function(){return uv.v()?new uv:new DR})())}createSyncEngine(t,i){return(function(l,c,d,y,p,_,E){const w=new aI(l,c,d,y,p,_);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Rt(i);ct(fa,"RemoteStore shutting down."),a.Ea.add(5),await lu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Im.provider={build:()=>new Im};class PE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):xs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Ir="FirestoreClient";class TI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=dn.UNAUTHENTICATED,this.clientId=Km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ct(Ir,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ct(Ir,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=mp(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Wd(r,t){r.asyncQueue.verifyOperationInProgress(),ct(Ir,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await yE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function yv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await bI(r);ct(Ir,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>hv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>hv(t.remoteStore,l))),r._onlineComponents=t}async function bI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ct(Ir,"Using user provided OfflineComponentProvider");try{await Wd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;po("Error using user provided cache. Falling back to memory cache: "+i),await Wd(r,new gh)}}else ct(Ir,"Using default OfflineComponentProvider"),await Wd(r,new EI(void 0));return r._offlineComponents}async function jE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ct(Ir,"Using user provided OnlineComponentProvider"),await yv(r,r._uninitializedComponentsProvider._online)):(ct(Ir,"Using default OnlineComponentProvider"),await yv(r,new Im))),r._onlineComponents}function SI(r){return jE(r).then((t=>t.syncEngine))}async function Cm(r){const t=await jE(r),i=t.eventManager;return i.onListen=oI.bind(null,t.syncEngine),i.onUnlisten=cI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=lI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=hI.bind(null,t.syncEngine),i}function AI(r,t,i={}){const a=new Tr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,p,_){const E=new PE({next:M=>{E.Nu(),d.enqueueAndForget((()=>IE(c,w)));const q=M.docs.has(y);!q&&M.fromCache?_.reject(new dt(J.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&M.fromCache&&p&&p.source==="server"?_.reject(new dt(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),w=new CE(xh(y.path),E,{includeMetadataChanges:!0,qa:!0});return RE(c,w)})(await Cm(r),r.asyncQueue,t,i,a))),a.promise}function zE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const _v=new Map;const BE="firestore.googleapis.com",vv=!0;class Ev{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new dt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BE,this.ssl=vv}else this.host=t.host,this.ssl=t.ssl??vv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=pE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<iR)throw new dt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Bw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new dt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new dt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new dt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class _p{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ev({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new dt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ev(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Nw;switch(a.type){case"firstParty":return new Vw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new dt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=_v.get(i);a&&(ct("ComponentProvider","Removing Datastore"),_v.delete(i),a.terminate())})(this),Promise.resolve()}}function wI(r,t,i,a={}){r=Ti(r,_p);const l=bo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},y=`${t}:${i}`;l&&(kv(`https://${y}`),Lv("Firestore",!0)),c.host!==BE&&c.host!==y&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:y,ssl:l,emulatorOptions:a};if(!br(p,d)&&(r._setSettings(p),a.mockUserToken)){let _,E;if(typeof a.mockUserToken=="string")_=a.mockUserToken,E=dn.MOCK_USER;else{_=Wb(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new dt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new dn(w)}r._authCredentials=new Dw(new R1(_,E))}}class kh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new kh(this.firestore,t,this._query)}}class Ge{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ge(this.firestore,t,this._key)}toJSON(){return{type:Ge._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(ru(i,Ge._jsonSchema))return new Ge(t,a||null,new Et(Te.fromString(i.referencePath)))}}Ge._jsonSchemaVersion="firestore/documentReference/1.0",Ge._jsonSchema={type:qe("string",Ge._jsonSchemaVersion),referencePath:qe("string")};class Zl extends kh{constructor(t,i,a){super(t,i,xh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ge(this.firestore,null,new Et(t))}withConverter(t){return new Zl(this.firestore,t,this._path)}}function we(r,t,...i){if(r=En(r),arguments.length===1&&(t=Km.newId()),zw("doc","path",t),r instanceof _p){const a=Te.fromString(t,...i);return V0(a),new Ge(r,null,new Et(a))}{if(!(r instanceof Ge||r instanceof Zl))throw new dt(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Te.fromString(t,...i));return V0(a),new Ge(r.firestore,r instanceof Zl?r.converter:null,new Et(a))}}const Tv="AsyncQueue";class bv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vE(this,"async_queue_retry"),this._c=()=>{const a=Jd();a&&ct(Tv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Tr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ro(t))throw t;ct(Tv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,xs("INTERNAL UNHANDLED ERROR: ",Sv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=dp.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&bt(47125,{Pc:Sv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Sv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function Av(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class da extends _p{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new bv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new bv(t),this._firestoreClient=void 0,await t}}}function xI(r,t){const i=typeof r=="object"?r:zv(),a=typeof r=="string"?r:lh,l=Um(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Zb("firestore");c&&wI(l,...c)}return l}function vp(r){if(r._terminated)throw new dt(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||RI(r),r._firestoreClient}function RI(r){const t=r._freezeSettings(),i=(function(l,c,d,y){return new Jw(l,c,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,zE(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new TI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class si{constructor(t){this._byteString=t}static fromBase64String(t){try{return new si(un.fromBase64String(t))}catch(i){throw new dt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new si(un.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ru(t,si._jsonSchema))return si.fromBase64String(t.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:qe("string",si._jsonSchemaVersion),bytes:qe("string")};class Lh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new dt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class cu{constructor(t){this._methodName=t}}class Ki{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new dt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new dt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ki._jsonSchemaVersion}}static fromJSON(t){if(ru(t,Ki._jsonSchema))return new Ki(t.latitude,t.longitude)}}Ki._jsonSchemaVersion="firestore/geoPoint/1.0",Ki._jsonSchema={type:qe("string",Ki._jsonSchemaVersion),latitude:qe("number"),longitude:qe("number")};class Yi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ru(t,Yi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Yi(t.vectorValues);throw new dt(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yi._jsonSchemaVersion="firestore/vectorValue/1.0",Yi._jsonSchema={type:qe("string",Yi._jsonSchemaVersion),vectorValues:qe("object")};const II=/^__.*__$/;class CI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Nr(t,this.data,this.fieldMask,i,this.fieldTransforms):new au(t,this.data,i,this.fieldTransforms)}}class HE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Nr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function qE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{Ac:r})}}class Uh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Uh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return yh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(qE(this.Ac)&&II.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class NI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Oh(t)}Cc(t,i,a,l=!1){return new Uh({Ac:t,methodName:i,Dc:a,path:ln.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function GE(r){const t=r._freezeSettings(),i=Oh(r._databaseId);return new NI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function DI(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);bp("Data must be an object, but it was:",d,a);const y=FE(a,d);let p,_;if(c.merge)p=new Hn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const w of c.mergeFields){const M=Nm(t,w,i);if(!d.contains(M))throw new dt(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);KE(E,M)||E.push(M)}p=new Hn(E),_=d.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,_=d.fieldTransforms;return new CI(new Dn(y),p,_)}class Ph extends cu{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ph}}function OI(r,t,i){return new Uh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Ep extends cu{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=OI(this,t,!0),a=this.vc.map((c=>hu(c,i))),l=new vo(a);return new nE(t.path,l)}isEqual(t){return t instanceof Ep&&br(this.vc,t.vc)}}class Tp extends cu{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new $l(t.serializer,Z1(t.serializer,this.Fc));return new nE(t.path,i)}isEqual(t){return t instanceof Tp&&this.Fc===t.Fc}}function MI(r,t,i,a){const l=r.Cc(1,t,i);bp("Data must be an object, but it was:",l,a);const c=[],d=Dn.empty();Cr(a,((p,_)=>{const E=Sp(t,p,i);_=En(_);const w=l.yc(E);if(_ instanceof Ph)c.push(E);else{const M=hu(_,w);M!=null&&(c.push(E),d.set(E,M))}}));const y=new Hn(c);return new HE(d,y,l.fieldTransforms)}function VI(r,t,i,a,l,c){const d=r.Cc(1,t,i),y=[Nm(t,a,i)],p=[l];if(c.length%2!=0)throw new dt(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(Nm(t,c[M])),p.push(c[M+1]);const _=[],E=Dn.empty();for(let M=y.length-1;M>=0;--M)if(!KE(_,y[M])){const q=y[M];let nt=p[M];nt=En(nt);const it=d.yc(q);if(nt instanceof Ph)_.push(q);else{const et=hu(nt,it);et!=null&&(_.push(q),E.set(q,et))}}const w=new Hn(_);return new HE(E,w,d.fieldTransforms)}function hu(r,t){if(QE(r=En(r)))return bp("Unsupported field value:",t,r),FE(r,t);if(r instanceof cu)return(function(a,l){if(!qE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const y of a){let p=hu(y,l.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=En(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Z1(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ge.fromDate(a);return{timestampValue:dh(l.serializer,c)}}if(a instanceof ge){const c=new ge(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:dh(l.serializer,c)}}if(a instanceof Ki)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof si)return{bytesValue:lE(l.serializer,a._byteString)};if(a instanceof Ge){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:sp(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Yi)return(function(d,y){return{mapValue:{fields:{[L1]:{stringValue:U1},[uh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return tp(y.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Ym(a)}`)})(r,t)}function FE(r,t){const i={};return N1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Cr(r,((a,l)=>{const c=hu(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function QE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ge||r instanceof Ki||r instanceof si||r instanceof Ge||r instanceof cu||r instanceof Yi)}function bp(r,t,i){if(!QE(i)||!I1(i)){const a=Ym(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Nm(r,t,i){if((t=En(t))instanceof Lh)return t._internalPath;if(typeof t=="string")return Sp(r,t);throw yh("Field path arguments must be of type string or ",r,!1,void 0,i)}const kI=new RegExp("[~\\*/\\[\\]]");function Sp(r,t,i){if(t.search(kI)>=0)throw yh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Lh(...t.split("."))._internalPath}catch{throw yh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function yh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let y=`Function ${t}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${a}`),d&&(p+=` in document ${l}`),p+=")"),new dt(J.INVALID_ARGUMENT,y+r+p)}function KE(r,t){return r.some((i=>i.isEqual(t)))}class YE{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ge(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new LI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(XE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class LI extends YE{data(){return super.data()}}function XE(r,t){return typeof t=="string"?Sp(r,t):t instanceof Lh?t._internalPath:t._delegate._internalPath}function UI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new dt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PI{convertValue(t,i="none"){switch(xr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Oe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(wr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw bt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Cr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[uh].arrayValue?.values?.map((a=>Oe(a.doubleValue)));return new Yi(i)}convertGeoPoint(t){return new Ki(Oe(t.latitude),Oe(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Ah(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ql(t));default:return null}}convertTimestamp(t){const i=Ar(t);return new ge(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=Te.fromString(t);te(mE(a),9688,{name:t});const l=new Kl(a.get(1),a.get(3)),c=new Et(a.popFirst(5));return l.isEqual(i)||xs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function jI(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Vl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class la extends YE{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(XE("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=la._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:qe("string",la._jsonSchemaVersion),bundleSource:qe("string","DocumentSnapshot"),bundleName:qe("string"),bundle:qe("string")};class Zc extends la{data(t={}){return super.data(t)}}class fo{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Vl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Zc(this._firestore,this._userDataWriter,a.key,a,new Vl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new dt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const p=new Zc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Vl(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const p=new Zc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Vl(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,E=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),E=d.indexOf(y.doc.key)),{type:zI(y.type),doc:p,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=fo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function zI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:r})}}function BI(r){r=Ti(r,Ge);const t=Ti(r.firestore,da);return AI(vp(t),r._key).then((i=>ZE(t,r,i)))}fo._jsonSchemaVersion="firestore/querySnapshot/1.0",fo._jsonSchema={type:qe("string",fo._jsonSchemaVersion),bundleSource:qe("string","QuerySnapshot"),bundleName:qe("string"),bundle:qe("string")};class $E extends PI{constructor(t){super(),this.firestore=t}convertBytes(t){return new si(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ge(this.firestore,null,i)}}function HI(r,t,i){r=Ti(r,Ge);const a=Ti(r.firestore,da),l=jI(r.converter,t);return Ap(a,[DI(GE(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,bi.none())])}function Be(r,t,i,...a){r=Ti(r,Ge);const l=Ti(r.firestore,da),c=GE(l);let d;return d=typeof(t=En(t))=="string"||t instanceof Lh?VI(c,"updateDoc",r._key,t,i,a):MI(c,"updateDoc",r._key,t),Ap(l,[d.toMutation(r._key,bi.exists(!0))])}function qI(r){return Ap(Ti(r.firestore,da),[new ep(r._key,bi.none())])}function GI(r,...t){r=En(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Av(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Av(t[a])){const p=t[a];t[a]=p.next?.bind(p),t[a+1]=p.error?.bind(p),t[a+2]=p.complete?.bind(p)}let c,d,y;if(r instanceof Ge)d=Ti(r.firestore,da),y=xh(r._key.path),c={next:p=>{t[a]&&t[a](ZE(d,r,p))},error:t[a+1],complete:t[a+2]};else{const p=Ti(r,kh);d=Ti(p.firestore,da),y=p._query;const _=new $E(d);c={next:E=>{t[a]&&t[a](new fo(d,_,p,E))},error:t[a+1],complete:t[a+2]},UI(r._query)}return(function(_,E,w,M){const q=new PE(M),nt=new CE(E,q,w);return _.asyncQueue.enqueueAndForget((async()=>RE(await Cm(_),nt))),()=>{q.Nu(),_.asyncQueue.enqueueAndForget((async()=>IE(await Cm(_),nt)))}})(vp(d),y,l,c)}function Ap(r,t){return(function(a,l){const c=new Tr;return a.asyncQueue.enqueueAndForget((async()=>fI(await SI(a),l,c))),c.promise})(vp(r),t)}function ZE(r,t,i){const a=i.docs.get(t._key),l=new $E(r);return new la(r,l,t._key,a,new Vl(i.hasPendingWrites,i.fromCache),t.converter)}function Cn(...r){return new Ep("arrayUnion",r)}function FI(r){return new Tp("increment",r)}(function(t,i=!0){(function(l){wo=l})(So),mo(new ua("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new da(new Ow(a.getProvider("auth-internal")),new kw(d,a.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new dt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(_.options.projectId,E)})(d,l),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),vr(N0,D0,t),vr(N0,D0,"esm2020")})();const QI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),wv=r=>{const t=KI(r);return t.charAt(0).toUpperCase()+t.slice(1)},JE=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),YI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var XI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $I=se.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...y},p)=>se.createElement("svg",{ref:p,...XI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:JE("lucide",l),...!c&&!YI(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,E])=>se.createElement(_,E)),...Array.isArray(c)?c:[c]]));const re=(r,t)=>{const i=se.forwardRef(({className:a,...l},c)=>se.createElement($I,{ref:c,iconNode:t,className:JE(`lucide-${QI(wv(r))}`,`lucide-${r}`,a),...l}));return i.displayName=wv(r),i};const ZI=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],Hl=re("anchor",ZI);const JI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],WI=re("aperture",JI);const tC=[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]],eC=re("bird",tC);const nC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],tm=re("book-open",nC);const iC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Bc=re("circle-check-big",iC);const sC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],rC=re("copy",sC);const aC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],em=re("crown",aC);const oC=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],WE=re("fish",oC);const lC=[["path",{d:"m17.586 11.414-5.93 5.93a1 1 0 0 1-8-8l3.137-3.137a.707.707 0 0 1 1.207.5V10",key:"157y8s"}],["path",{d:"M20.414 8.586 22 7",key:"5g2s34"}],["circle",{cx:"19",cy:"10",r:"2",key:"7363ft"}]],uC=re("fishing-hook",lC);const cC=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],hC=re("hammer",cC);const fC=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],dC=re("hand",fC);const mC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],pC=re("history",mC);const gC=[["path",{d:"M18 17a1 1 0 0 0-1 1v1a2 2 0 1 0 2-2z",key:"skzb1g"}],["path",{d:"M20.97 3.61a.45.45 0 0 0-.58-.58C10.2 6.6 6.6 10.2 3.03 20.39a.45.45 0 0 0 .58.58C13.8 17.4 17.4 13.8 20.97 3.61",key:"cv9jm7"}],["path",{d:"m6.707 6.707 10.586 10.586",key:"d2l993"}],["path",{d:"M7 5a2 2 0 1 0-2 2h1a1 1 0 0 0 1-1z",key:"i0et4n"}]],yC=re("kayak",gC);const _C=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xv=re("log-out",_C);const vC=[["path",{d:"M12 12V4a1 1 0 0 1 1-1h6.297a1 1 0 0 1 .651 1.759l-4.696 4.025",key:"1bx4vc"}],["path",{d:"m12 21-7.414-7.414A2 2 0 0 1 4 12.172V6.415a1.002 1.002 0 0 1 1.707-.707L20 20.009",key:"1h3km6"}],["path",{d:"m12.214 3.381 8.414 14.966a1 1 0 0 1-.167 1.199l-1.168 1.163a1 1 0 0 1-.706.291H6.351a1 1 0 0 1-.625-.219L3.25 18.8a1 1 0 0 1 .631-1.781l4.165.027",key:"1hj4wg"}]],Dm=re("origami",vC);const EC=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Rv=re("play",EC);const TC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],bC=re("rotate-ccw",TC);const SC=[["path",{d:"M10 2v15",key:"1qf71f"}],["path",{d:"M7 22a4 4 0 0 1-4-4 1 1 0 0 1 1-1h16a1 1 0 0 1 1 1 4 4 0 0 1-4 4z",key:"1pxcvx"}],["path",{d:"M9.159 2.46a1 1 0 0 1 1.521-.193l9.977 8.98A1 1 0 0 1 20 13H4a1 1 0 0 1-.824-1.567z",key:"5oog16"}]],AC=re("sailboat",SC);const wC=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Om=re("scissors",wC);const xC=[["path",{d:"M14 11a2 2 0 1 1-4 0 4 4 0 0 1 8 0 6 6 0 0 1-12 0 8 8 0 0 1 16 0 10 10 0 1 1-20 0 11.93 11.93 0 0 1 2.42-7.22 2 2 0 1 1 3.16 2.44",key:"1cn552"}]],tT=re("shell",xC);const RC=[["circle",{cx:"12",cy:"12",r:"8",key:"46899m"}],["path",{d:"M12 2v7.5",key:"1e5rl5"}],["path",{d:"m19 5-5.23 5.23",key:"1ezxxf"}],["path",{d:"M22 12h-7.5",key:"le1719"}],["path",{d:"m19 19-5.23-5.23",key:"p3fmgn"}],["path",{d:"M12 14.5V22",key:"dgcmos"}],["path",{d:"M10.23 13.77 5 19",key:"qwopd4"}],["path",{d:"M9.5 12H2",key:"r7bup8"}],["path",{d:"M10.23 10.23 5 5",key:"k2y7lj"}],["circle",{cx:"12",cy:"12",r:"2.5",key:"ix0uyj"}]],IC=re("ship-wheel",RC);const CC=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],eT=re("ship",CC);const NC=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],DC=re("snowflake",NC);const OC=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],_h=re("sparkles",OC);const MC=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],Jc=re("sword",MC);const VC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],kC=re("trash-2",VC);const LC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Nl=re("triangle-alert",LC);const UC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Mm=re("trophy",UC);const PC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jC=re("x",PC),zC={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:c0d92602ad20ed876aa637"},nT=jv(zC),nm=Iw(nT),xe=xI(nT),Re=typeof __app_id<"u"?__app_id:"paper-oceans",kl=7,no=r=>r===4?30:r===3?35:40,_s={CRAB:{id:"CRAB",name:"Paper Crab",type:"DUO",points:0,icon:Om,color:"text-red-400",bg:"bg-red-950",border:"border-red-700",desc:"Pair: Look through discard pile and pick 1 card.",count:9,cardColor:"RED"},BOAT:{id:"BOAT",name:"Origami Boat",type:"DUO",points:0,icon:AC,color:"text-blue-400",bg:"bg-blue-950",border:"border-blue-700",desc:"Pair: Take another turn immediately.",count:8,cardColor:"BLUE"},FISH:{id:"FISH",name:"Flying Fish",type:"DUO",points:0,icon:WE,color:"text-emerald-400",bg:"bg-emerald-950",border:"border-emerald-700",desc:"Pair: Draw the top card of the deck.",count:7,cardColor:"GREEN"},SHARK:{id:"SHARK",name:"Shadow Shark",type:"DUO",points:0,icon:Jc,color:"text-slate-400",bg:"bg-slate-800",border:"border-slate-600",desc:"Pair: Steal a random card from an opponent.",count:5,cardColor:"BLACK"},SHELL:{id:"SHELL",name:"Spiral Shell",type:"COLLECT",points:0,icon:tT,color:"text-amber-200",bg:"bg-amber-950",border:"border-amber-700",desc:"Set: 2pts per shell.",count:6,cardColor:"YELLOW"},OCTOPUS:{id:"OCTOPUS",name:"Ink Octopus",type:"COLLECT",points:0,icon:WI,color:"text-purple-400",bg:"bg-purple-950",border:"border-purple-700",desc:"Set: 3pts per octopus.",count:5,cardColor:"PURPLE"},PENGUIN:{id:"PENGUIN",name:"Ice Penguin",type:"COLLECT",points:0,icon:eC,color:"text-cyan-200",bg:"bg-cyan-950",border:"border-cyan-700",desc:"Set: 1=1pt, 2=3pts, 3=5pts.",count:3,cardColor:"CYAN"},SAILOR:{id:"SAILOR",name:"Lost Sailor",type:"COLLECT",points:0,icon:yC,color:"text-orange-300",bg:"bg-orange-950",border:"border-orange-700",desc:"Set: 1=0pts, 2=5pts.",count:2,cardColor:"ORANGE"},MERMAID:{id:"MERMAID",name:"Mystic Mermaid",type:"MULTIPLIER",points:0,icon:_h,color:"text-fuchsia-400",bg:"bg-fuchsia-950",border:"border-fuchsia-700",desc:"+1 Point for each card of your most common color.",count:4,cardColor:"MULTI"},SHIP:{id:"SHIP",name:"Ship",type:"MULTIPLIER",points:0,icon:eT,color:"text-blue-200",bg:"bg-blue-900",border:"border-blue-500",desc:"+1 Point for each Boat.",count:1,cardColor:"BLUE"},SHOAL:{id:"SHOAL",name:"Shoal of Fish",type:"MULTIPLIER",points:0,icon:uC,color:"text-emerald-200",bg:"bg-emerald-900",border:"border-emerald-500",desc:"+1 Point for each Fish.",count:1,cardColor:"GREEN"},SNOWMAN:{id:"SNOWMAN",name:"Snowman",type:"MULTIPLIER",points:0,icon:DC,color:"text-cyan-100",bg:"bg-cyan-900",border:"border-cyan-500",desc:"+2 Points for each Penguin.",count:1,cardColor:"CYAN"},CAPTAIN:{id:"CAPTAIN",name:"Captain",type:"MULTIPLIER",points:0,icon:IC,color:"text-orange-200",bg:"bg-orange-900",border:"border-orange-500",desc:"+3 Points for each Sailor.",count:1,cardColor:"ORANGE"}},BC=()=>{let r=[];Object.values(_s).forEach(t=>{for(let i=0;i<t.count;i++)r.push({id:`${t.id}-${Math.random().toString(36).substr(2,9)}`,type:t.id})});for(let t=r.length-1;t>0;t--){const i=Math.floor(Math.random()*(t+1));[r[t],r[i]]=[r[i],r[t]]}return r},_i=(r,t,i=!1)=>{const a=[...r,...t];let l=0;["CRAB","BOAT","FISH","SHARK"].forEach(ot=>{const gt=a.filter(mt=>mt.type===ot).length;l+=Math.floor(gt/2)});const d=a.filter(ot=>ot.type==="SHELL").length;d>0&&(l+=d*2);const y=a.filter(ot=>ot.type==="OCTOPUS").length;l+=y*3;const p=a.filter(ot=>ot.type==="PENGUIN").length;p===1?l+=1:p===2?l+=3:p>=3&&(l+=5);const _=a.filter(ot=>ot.type==="SAILOR").length;if(_===2&&(l+=5),a.some(ot=>ot.type==="SHIP")){const ot=a.filter(gt=>gt.type==="BOAT").length;l+=ot}if(a.some(ot=>ot.type==="SHOAL")){const ot=a.filter(gt=>gt.type==="FISH").length;l+=ot}a.some(ot=>ot.type==="SNOWMAN")&&(l+=p*2),a.some(ot=>ot.type==="CAPTAIN")&&(l+=_*3);const nt=a.filter(ot=>ot.type==="MERMAID").length,it={};a.forEach(ot=>{const gt=_s[ot.type],mt=gt?gt.cardColor:null;mt&&mt!=="MULTI"&&(it[mt]=(it[mt]||0)+1)});const et=Math.max(0,...Object.values(it));return nt>0?l+=nt*et:i&&(l+=et),l},im=()=>S.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[S.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-blue-900 via-slate-900 to-black"}),S.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-cyan-500/5 mix-blend-overlay"})]}),Iv=()=>S.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-40 mt-auto pb-4 pt-2 relative z-10 pointer-events-none select-none",children:[S.jsx(Dm,{size:14,className:"text-cyan-500"}),S.jsx("span",{className:"text-[10px] font-black tracking-[0.2em] text-cyan-500 uppercase",children:"PAPER OCEANS"})]}),HC=({type:r,message:t,subtext:i,icon:a})=>S.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none animate-in fade-in zoom-in duration-300",children:S.jsxs("div",{className:`
      flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-2xl backdrop-blur-xl max-w-sm md:max-w-xl mx-4 text-center
      ${r==="success"?"bg-emerald-900/90 border-emerald-500 text-emerald-100":r==="failure"?"bg-red-900/90 border-red-500 text-red-100":r==="warning"?"bg-amber-900/90 border-amber-500 text-amber-100":"bg-blue-900/90 border-blue-500 text-blue-100"}
    `,children:[a&&S.jsx("div",{className:"mb-4 p-4 bg-black/20 rounded-full",children:S.jsx(a,{size:64,className:"animate-bounce"})}),S.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest drop-shadow-md mb-2",children:t}),i&&S.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide",children:i})]})}),vi=({cardType:r,onClick:t,disabled:i,highlight:a,small:l,tiny:c,mini:d,count:y})=>{const p=_s[r];if(!p)return S.jsx("div",{className:"w-16 h-24 bg-gray-800 rounded"});if(c)return S.jsx("div",{className:`w-6 h-8 rounded flex items-center justify-center ${p.bg} border ${p.border} shadow-sm shrink-0`,title:p.name,children:S.jsx(p.icon,{size:12,className:p.color})});if(d)return S.jsx("div",{className:`w-12 h-16 rounded-lg flex items-center justify-center ${p.bg} border-2 ${p.border} shadow-md shrink-0 cursor-help transition-transform hover:scale-105`,title:p.name,children:S.jsx(p.icon,{size:24,className:p.color})});const _="relative rounded-xl border-2 shadow-lg transition-all flex flex-col items-center justify-between cursor-pointer active:scale-95 select-none",E=l?"w-14 h-20 md:w-16 md:h-24 p-1":"w-20 h-28 sm:w-24 sm:h-36 md:w-28 md:h-44 lg:w-32 lg:h-48 p-2 md:p-3";return S.jsxs("div",{onClick:i?void 0:t,className:`
        ${_} ${E} ${p.bg} ${a?"ring-4 ring-yellow-400 z-10 scale-105":p.border}
        ${i?"opacity-50 grayscale cursor-not-allowed":"hover:brightness-110 hover:-translate-y-1"}
      `,children:[S.jsxs("div",{className:"w-full flex justify-between items-center text-[8px] md:text-[10px] font-bold text-white/70",children:[S.jsx("span",{children:p.type==="DUO"?"DUO":p.type==="COLLECT"?"SET":p.type==="MULTIPLIER"?"MULT":"X"}),y>1&&S.jsxs("span",{className:"bg-black/50 px-1 rounded text-white",children:["x",y]})]}),S.jsx(p.icon,{className:`${p.color}`,size:l?16:28}),S.jsxs("div",{className:"w-full text-center",children:[S.jsx("div",{className:"font-bold text-white text-[8px] sm:text-[9px] md:text-xs lg:text-sm leading-tight mb-1 truncate px-1",children:p.name}),!l&&S.jsx("div",{className:"text-[7px] sm:text-[8px] md:text-[9px] text-white/60 leading-tight bg-black/40 p-1 rounded h-8 flex items-center justify-center overflow-hidden",children:p.desc})]})]})},sm=({onClose:r,winPoints:t})=>{const i=a=>Object.values(_s).filter(l=>l.type===a);return S.jsx("div",{className:"fixed inset-0 z-[200] bg-slate-950/95 backdrop-blur-md flex items-center justify-center p-4 animate-in fade-in duration-300",children:S.jsxs("div",{className:"bg-slate-900 border border-slate-700 w-full max-w-5xl rounded-3xl shadow-2xl p-6 md:p-8 relative my-8 max-h-[90vh] flex flex-col",children:[S.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 bg-slate-800 rounded-full hover:bg-red-500/20 hover:text-red-400 transition-colors z-10",children:S.jsx(jC,{size:24})}),S.jsxs("div",{className:"text-center mb-6 shrink-0",children:[S.jsx("h2",{className:"text-3xl md:text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500 tracking-widest uppercase mb-2",children:"Captain's Guide"}),S.jsxs("p",{className:"text-slate-400 text-sm",children:["Reach ",S.jsxs("strong",{children:[t," points"]})," to win. 4 Mermaids wins instantly."]})]}),S.jsxs("div",{className:"overflow-y-auto pr-2 custom-scrollbar flex-1",children:[S.jsxs("div",{className:"mb-8",children:[S.jsxs("h3",{className:"text-lg font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[S.jsx(_h,{className:"text-cyan-500",size:18}),"Duos (Action Pairs)",S.jsx("span",{className:"text-xs font-normal text-slate-400 ml-auto",children:"1 Point per pair  Play pair to activate effect"})]}),S.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:i("DUO").map(a=>S.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-xl border border-slate-700/50 flex items-start gap-3",children:[S.jsx(vi,{cardType:a.id,tiny:!0}),S.jsxs("div",{children:[S.jsxs("div",{className:"font-bold text-slate-200 text-sm flex items-center gap-2",children:[a.name,S.jsxs("span",{className:"text-[10px] bg-black/40 px-1.5 py-0.5 rounded text-slate-500",children:[a.count," in deck"]})]}),S.jsx("p",{className:"text-xs text-slate-400 leading-relaxed mt-1",children:a.desc})]})]},a.id))})]}),S.jsxs("div",{className:"mb-8",children:[S.jsxs("h3",{className:"text-lg font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[S.jsx(tT,{className:"text-amber-500",size:18}),"Collectors (Sets)",S.jsx("span",{className:"text-xs font-normal text-slate-400 ml-auto",children:"Score increases with quantity"})]}),S.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:i("COLLECT").map(a=>S.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-xl border border-slate-700/50 flex items-start gap-3",children:[S.jsx(vi,{cardType:a.id,tiny:!0}),S.jsxs("div",{className:"w-full",children:[S.jsxs("div",{className:"font-bold text-slate-200 text-sm flex items-center gap-2",children:[a.name,S.jsxs("span",{className:"text-[10px] bg-black/40 px-1.5 py-0.5 rounded text-slate-500",children:[a.count," in deck"]})]}),S.jsx("div",{className:"mt-2 bg-black/20 rounded p-2 text-xs font-mono text-cyan-300",children:a.desc})]})]},a.id))})]}),S.jsxs("div",{className:"mb-8",children:[S.jsxs("h3",{className:"text-lg font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[S.jsx(Mm,{className:"text-purple-500",size:18}),"Multipliers & Bonuses",S.jsx("span",{className:"text-xs font-normal text-slate-400 ml-auto",children:"Boosts score based on other cards"})]}),S.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:i("MULTIPLIER").map(a=>S.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-xl border border-slate-700/50 flex items-start gap-3",children:[S.jsx(vi,{cardType:a.id,tiny:!0}),S.jsxs("div",{children:[S.jsxs("div",{className:"font-bold text-slate-200 text-sm flex items-center gap-2",children:[a.name,S.jsxs("span",{className:"text-[10px] bg-black/40 px-1.5 py-0.5 rounded text-slate-500",children:[a.count," in deck"]})]}),S.jsx("p",{className:`text-xs leading-relaxed mt-1 ${a.id==="MERMAID"?"text-fuchsia-300 font-bold":"text-slate-400"}`,children:a.desc}),a.id==="MERMAID"&&S.jsx("p",{className:"text-[10px] text-fuchsia-500/80 mt-1 italic",children:"Win instantly if you collect 4!"})]})]},a.id))})]}),S.jsxs("div",{children:[S.jsxs("h3",{className:"text-lg font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[S.jsx(Hl,{className:"text-emerald-500",size:18}),"Game Flow"]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-xs",children:[S.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl",children:[S.jsx("strong",{className:"text-cyan-400 block text-sm mb-1",children:"1. DRAW"}),"Draw 2, Keep 1 ",S.jsx("br",{})," OR ",S.jsx("br",{})," Take 1 from Discard."]}),S.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl",children:[S.jsx("strong",{className:"text-purple-400 block text-sm mb-1",children:"2. PLAY (Optional)"}),"Play Duo pairs to trigger effects. They score points even if you keep them in hand, but effects only happen if played."]}),S.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl",children:[S.jsx("strong",{className:"text-yellow-400 block text-sm mb-1",children:"3. END ROUND"}),"Reach ",kl," pts to call ",S.jsx("strong",{children:"STOP"})," (Safe) or ",S.jsx("strong",{children:"LAST CHANCE"})," (Bet)."]})]})]})]}),S.jsx("div",{className:"text-center pt-4 border-t border-slate-800 shrink-0 mt-4",children:S.jsx("button",{onClick:r,className:"bg-cyan-600 hover:bg-cyan-500 text-white px-10 py-3 rounded-full font-bold shadow-lg transition-transform active:scale-95",children:"Set Sail"})})]})})};function qC(){const[r,t]=se.useState(null),[i,a]=se.useState("menu"),[l,c]=se.useState(""),[d,y]=se.useState(""),[p,_]=se.useState(""),[E,w]=se.useState(null),[M,q]=se.useState(""),[nt,it]=se.useState(!1),[et,ot]=se.useState(!1),[gt,mt]=se.useState(!1),[Qt,Kt]=se.useState(!1),[Bt,C]=se.useState(!1),[A,R]=se.useState([]),[V,N]=se.useState(null),[L,x]=se.useState(!1),[he,ve]=se.useState(!1),G=se.useRef(null);se.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await m2(nm,__initial_auth_token):await u2(nm))();const Y=y2(nm,Q=>{if(t(Q),Q){const tt=localStorage.getItem("paper_oceans_name");tt&&c(tt)}});return()=>Y()},[]),se.useEffect(()=>{const W=localStorage.getItem("paperoceans_roomId");W&&_(W)},[]),se.useEffect(()=>{if(!p||!r)return;const W=GI(we(xe,"artifacts",Re,"public","data","rooms",p),Y=>{if(Y.exists()){const Q=Y.data();if(!Q.players.some(tt=>tt.id===r.uid)){_(""),a("menu"),localStorage.removeItem("paperoceans_roomId"),q("You have been kicked from the room.");return}w(Q),Q.status==="lobby"?a("lobby"):(Q.status==="playing"||Q.status==="last_chance"||Q.status==="finished"||Q.status==="round_end")&&a("game")}else a("menu"),_(""),localStorage.removeItem("paperoceans_roomId"),q("Session dissolved or room does not exist.")},Y=>{console.error("Sync error:",Y),q("Connection lost.")});return()=>W()},[p,r]),se.useEffect(()=>{if(!E||!E.players||E.status==="finished")return;(async()=>{const Y=E.players.find(Q=>[...Q.hand,...Q.tableau].filter(Ct=>Ct.type==="MERMAID").length===4);Y&&E.status!=="finished"&&E.hostId===r.uid&&await Be(we(xe,"artifacts",Re,"public","data","rooms",p),{status:"finished",winnerId:Y.id,logs:Cn({text:`INSTANT WIN! ${Y.name} found all 4 Mermaids!`,type:"success",id:Date.now()})})})()},[E?.players,E?.status,E?.hostId,p,r?.uid]),se.useEffect(()=>{p||(G.current=null)},[p]),se.useEffect(()=>{if(!E?.logs||E.logs.length===0)return;const W=E.logs[E.logs.length-1];if(G.current===null){G.current=W.id;return}if(W.id<=G.current)return;G.current=W.id;const Y=W.text;let Q="",tt="",vt=Bc,Ct=!1;Y.includes("played a pair")?(Ct=!0,Q="PAIR PLAYED!",tt=Y,vt=_h,Y.includes("Shark")?(Q="SHARK ATTACK!",vt=Jc):Y.includes("Crab")?(Q="SCAVENGER!",vt=Om):Y.includes("Boat")&&(Q="FULL SPEED AHEAD!",vt=eT)):Y.includes("Stole")?(Ct=!0,Q="THIEVERY!",tt=Y,vt=Jc):Y.includes("STOP")?(Ct=!0,Q="ROUND STOPPED!",tt=Y.split("! ")[0]+" called STOP!",vt=dC):Y.includes("LAST CHANCE")?(Ct=!0,Q="LAST CHANCE!",tt="All other players get 1 final turn.",vt=Nl):W.type==="success"&&Y.includes("Bet")?(Ct=!0,Q="BET SUCCEEDED!",tt="The gamble paid off!",vt=Mm):W.type==="failure"&&Y.includes("Bet")?(Ct=!0,Q="BET FAILED!",tt="The challenger fell short.",vt=Nl):Y.includes("INSTANT WIN")?(Ct=!0,Q="INSTANT WIN!",tt="The Mermaids have chosen a winner!",vt=em):Y.includes("Round")&&Y.includes("Start")&&(Ct=!0,Q="ANCHORS AWEIGH!",tt=`Round ${E.round} Begin`,vt=Hl),Ct&&rt(W.type,Q,tt,vt)},[E?.logs]);const rt=(W,Y,Q,tt)=>{N({type:W,message:Y,subtext:Q,icon:tt}),setTimeout(()=>N(null),2500)},yt=async()=>{if(!l)return q("Enter Name.");localStorage.setItem("paper_oceans_name",l),it(!0);const W=Math.random().toString(36).substring(2,7).toUpperCase(),Y={roomId:W,hostId:r.uid,status:"lobby",players:[{id:r.uid,name:l,score:0,hand:[],tableau:[],ready:!0}],deck:[],discardPile:[],turnIndex:0,turnState:"DRAW",logs:[],winnerId:null,bettingPlayerId:null,tempDraw:[],round:1};try{await HI(we(xe,"artifacts",Re,"public","data","rooms",W),Y),localStorage.setItem("paperoceans_roomId",W),_(W)}catch(Q){console.error(Q),q("Could not create room.")}it(!1)},Ht=async()=>{if(!d||!l)return q("Input credentials.");localStorage.setItem("paper_oceans_name",l),it(!0);const W=d.toUpperCase().trim(),Y=we(xe,"artifacts",Re,"public","data","rooms",W);try{const Q=await BI(Y);if(!Q.exists()){q("Room not found."),it(!1);return}const tt=Q.data();if(tt.status!=="lobby"){q("Game in progress."),it(!1);return}if(tt.players.length>=4){q("Room full (Max 4)."),it(!1);return}if(tt.players.some(Ct=>Ct.id===r.uid)){localStorage.setItem("paperoceans_roomId",W),_(W),it(!1);return}const vt=[...tt.players,{id:r.uid,name:l,score:0,hand:[],tableau:[],ready:!1}];await Be(Y,{players:vt}),localStorage.setItem("paperoceans_roomId",W),_(W)}catch(Q){console.error(Q),q("Error joining room.")}it(!1)},$t=async()=>{const W=[...E.players],Y=W.findIndex(Q=>Q.id===r.uid);Y>-1&&(W[Y].ready=!W[Y].ready,await Be(we(xe,"artifacts",Re,"public","data","rooms",p),{players:W}))},O=async W=>{if(E.hostId!==r.uid)return;const Y=E.players.filter(Q=>Q.id!==W);await Be(we(xe,"artifacts",Re,"public","data","rooms",p),{players:Y})},X=async(W=!1)=>{if(E.hostId!==r.uid)return;let Y=BC();const Q=E.players.map(tt=>({...tt,hand:[],tableau:[],score:W?tt.score:0}));await Be(we(xe,"artifacts",Re,"public","data","rooms",p),{status:"playing",deck:Y,discardPile:[Y.pop(),Y.pop()],players:Q,turnIndex:W?(E.turnIndex+1)%Q.length:0,turnState:"DRAW",logs:Cn({text:W?`--- Round ${E.round+1} Start ---`:"--- Game Start ---",type:"neutral",id:Date.now()}),bettingPlayerId:null,tempDraw:[],round:W?FI(1):1})},at=async()=>{if(p){try{const W=we(xe,"artifacts",Re,"public","data","rooms",p);if(E.hostId===r.uid)await qI(W);else{const Y=E.players.filter(Q=>Q.id!==r.uid);await Be(W,{players:Y})}}catch{console.log("Room might already be deleted")}localStorage.removeItem("paperoceans_roomId"),_(""),a("menu"),C(!1),w(null)}},ut=async()=>{if(E.hostId!==r.uid)return;const W=E.players.map(Q=>({...Q,hand:[],tableau:[],score:0,ready:!1})),Y=W.find(Q=>Q.id===E.hostId);Y&&(Y.ready=!0),await Be(we(xe,"artifacts",Re,"public","data","rooms",p),{status:"lobby",players:W,deck:[],discardPile:[],logs:[],round:1,turnIndex:0,winnerId:null,bettingPlayerId:null,tempDraw:[]}),C(!1)},St=()=>{try{navigator.clipboard.writeText(p),rt("neutral","COPIED!","",Bc)}catch{const Y=document.createElement("textarea");Y.value=p,document.body.appendChild(Y),Y.select(),document.execCommand("copy"),document.body.removeChild(Y),rt("neutral","COPIED!","",Bc)}},It=async()=>{const W=[...E.players],Y=[...E.deck],Q=[...E.discardPile];if(Y.length+Q.length<2){W.forEach(vt=>{const Ct=_i(vt.hand,vt.tableau);vt.score+=Ct,vt.ready=vt.id===E.hostId}),await Be(we(xe,"artifacts",Re,"public","data","rooms",p),{status:"round_end",players:W,logs:Cn({text:" The Ocean is empty! Round ends immediately.",type:"warning",id:Date.now()})}),setTimeout(()=>ri(W,p),3e3);return}if(Y.length<2&&E.discardPile.length>0){const vt=Q.pop(),Ct=[...Y,...Q];for(let de=Ct.length-1;de>0;de--){const pt=Math.floor(Math.random()*(de+1));[Ct[de],Ct[pt]]=[Ct[pt],Ct[de]]}await Be(we(xe,"artifacts",Re,"public","data","rooms",p),{deck:Ct,discardPile:[vt],logs:Cn({text:"Deck reshuffled from discard.",type:"neutral",id:Date.now()})});return}const tt=[Y.pop(),Y.pop()].filter(Boolean);await Be(we(xe,"artifacts",Re,"public","data","rooms",p),{turnState:"DRAW_DECISION",tempDraw:tt,deck:Y,logs:Cn({text:`${W[E.turnIndex].name} draws 2...`,type:"neutral",id:Date.now()})})},kt=async W=>{const Y=[...E.players],Q=[...E.discardPile],tt=[...E.tempDraw],vt=E.turnIndex,Ct=tt[W],de=tt[W===0?1:0];Y[vt].hand.push(Ct),de&&Q.push(de),await Be(we(xe,"artifacts",Re,"public","data","rooms",p),{turnState:"ACTION_PHASE",players:Y,discardPile:Q,tempDraw:[],logs:Cn({text:"...kept 1 and discarded 1.",type:"neutral",id:Date.now()})})},Ie=async()=>{const W=[...E.players],Y=[...E.discardPile],Q=E.turnIndex,tt=Y.pop();W[Q].hand.push(tt),await Be(we(xe,"artifacts",Re,"public","data","rooms",p),{turnState:"ACTION_PHASE",players:W,discardPile:Y,logs:Cn({text:`${W[Q].name} took ${_s[tt.type].name} from discard.`,type:"neutral",id:Date.now()})})},fe=async()=>{if(A.length!==2)return;const W=E.turnIndex,Y=[...E.players],Q=Y[W],tt=Q.hand[A[0]],vt=Q.hand[A[1]];if(tt.type!==vt.type||_s[tt.type].type!=="DUO"){rt("failure","INVALID DUO","Must pick 2 matching Duo cards.",Nl),R([]);return}const Ct=[...A].sort((lt,qt)=>qt-lt);Q.hand.splice(Ct[0],1),Q.hand.splice(Ct[1],1),Q.tableau.push(tt,vt);let de="ACTION_PHASE",pt=[{text:`${Q.name} played a pair of ${_s[tt.type].name}s!`,type:"success",id:Date.now()}];if(tt.type==="BOAT")de="DRAW",pt.push({text:"Effect: Extra Turn! Draw again.",type:"success",id:Date.now()+1});else if(tt.type==="FISH"){const lt=[...E.deck];if(lt.length>0){const qt=lt.pop();Q.hand.push(qt),pt.push({text:"Effect: Drew a card from deck.",type:"neutral",id:Date.now()+1})}}else tt.type==="CRAB"?E.discardPile.length>0&&x(!0):tt.type==="SHARK"&&(Y.some((qt,Xe)=>Xe!==W&&qt.hand.length>0)?ve(!0):pt.push({text:"No one to steal from!",type:"neutral",id:Date.now()+1}));R([]),await Be(we(xe,"artifacts",Re,"public","data","rooms",p),{players:Y,turnState:de,logs:Cn(...pt),deck:E.deck})},Zi=async W=>{const Y=[...E.players],Q=[...E.discardPile],tt=Q.findIndex(vt=>vt.id===W.id);tt>-1&&(Q.splice(tt,1),Y[E.turnIndex].hand.push(W)),x(!1),await Be(we(xe,"artifacts",Re,"public","data","rooms",p),{players:Y,discardPile:Q,logs:Cn({text:"Effect: Picked a card from discard.",type:"neutral",id:Date.now()})})},Cs=async W=>{const Y=[...E.players],Q=E.turnIndex,tt=Y.findIndex(vt=>vt.id===W);if(Y[tt].hand.length>0){const vt=Math.floor(Math.random()*Y[tt].hand.length),Ct=Y[tt].hand.splice(vt,1)[0];Y[Q].hand.push(Ct),ve(!1),await Be(we(xe,"artifacts",Re,"public","data","rooms",p),{players:Y,logs:Cn({text:`Effect: Stole card from ${Y[tt].name}.`,type:"failure",id:Date.now()})})}else ve(!1)},Ns=async()=>{const W=[...E.players],Y=(E.turnIndex+1)%W.length;if(E.status==="last_chance"&&W[Y].id===E.bettingPlayerId){await Dr(W);return}await Be(we(xe,"artifacts",Re,"public","data","rooms",p),{turnIndex:Y,turnState:"DRAW",logs:Cn({text:`Turn: ${W[Y].name}`,type:"neutral",id:Date.now()})})},Ds=async()=>{const W=[...E.players],Y=W[E.turnIndex];W.forEach(Q=>{const tt=_i(Q.hand,Q.tableau);Q.score+=tt,Q.ready=Q.id===E.hostId}),await Be(we(xe,"artifacts",Re,"public","data","rooms",p),{status:"round_end",players:W,logs:Cn({text:`${Y.name} called STOP! Round ended safely.`,type:"success",id:Date.now()})}),setTimeout(()=>ri(W,p),3e3)},qn=async()=>{const W=[...E.players],Y=W[E.turnIndex];await Be(we(xe,"artifacts",Re,"public","data","rooms",p),{status:"last_chance",bettingPlayerId:Y.id,turnIndex:(E.turnIndex+1)%W.length,turnState:"DRAW",logs:Cn({text:` ${Y.name} called LAST CHANCE! Everyone gets 1 turn to beat them.`,type:"warning",id:Date.now()})})},Dr=async W=>{const Y=[...W],Q=E.bettingPlayerId,tt=Y.find(pt=>pt.id===Q),vt=_i(tt.hand,tt.tableau,!1);let Ct=!0;Y.forEach(pt=>{pt.id!==Q&&_i(pt.hand,pt.tableau,!1)>=vt&&(Ct=!1)});const de=pt=>{const lt=[...pt.hand,...pt.tableau],qt=lt.filter($e=>$e.type==="MERMAID").length,Xe={};lt.forEach($e=>{const cn=_s[$e.type],Gn=cn?cn.cardColor:null;Gn&&Gn!=="MULTI"&&(Xe[Gn]=(Xe[Gn]||0)+1)});const Fe=Math.max(0,...Object.values(Xe));return qt>0?qt*Fe:Fe};Ct?(tt.score+=vt+5,Y.forEach(pt=>{pt.id!==Q&&(pt.score+=de(pt))})):(tt.score+=de(tt),Y.forEach(pt=>{pt.id!==Q&&(pt.score+=_i(pt.hand,pt.tableau,!1))})),Y.forEach(pt=>pt.ready=pt.id===E.hostId),await Be(we(xe,"artifacts",Re,"public","data","rooms",p),{status:"round_end",players:Y,logs:Cn({text:Ct?`Bet Succeeded! ${tt.name} gets bonus.`:`Bet Failed! ${tt.name} gets minimum.`,type:Ct?"success":"failure",id:Date.now()})}),setTimeout(()=>ri(Y,p),4e3)},ri=async(W,Y)=>{const tt=[...W].sort((Ct,de)=>de.score-Ct.score)[0],vt=no(W.length);tt.score>=vt&&await Be(we(xe,"artifacts",Re,"public","data","rooms",Y),{status:"finished",winnerId:tt.id})};if(et)return S.jsx("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:S.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[S.jsx(hC,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),S.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),S.jsx("p",{className:"text-gray-400",children:"Tide is low. Folding operations paused."})]})});if(i==="menu")return S.jsxs("div",{className:"min-h-screen bg-slate-900 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans select-none",children:[S.jsx(im,{}),Qt&&S.jsx(sm,{onClose:()=>Kt(!1),winPoints:no(2)}),S.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[S.jsx(Dm,{size:64,className:"text-cyan-400 mx-auto mb-4 animate-bounce"}),S.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-b from-cyan-400 to-blue-600 tracking-widest drop-shadow-md",children:"PAPER OCEANS"}),S.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"Fold. Collect. Bet."})]}),S.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-md border border-cyan-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 relative",children:[M&&S.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 text-red-200 p-3 mb-4 rounded text-center text-sm font-bold flex items-center justify-center gap-2",children:[S.jsx(Nl,{size:16})," ",M]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"text-xs font-bold text-cyan-500 uppercase ml-1",children:"Captain Name"}),S.jsx("input",{className:"w-full bg-black/50 border border-slate-700 focus:border-cyan-500 p-4 rounded-xl text-white outline-none transition-all text-lg font-bold",placeholder:"Enter Name...",value:l,onChange:W=>c(W.target.value),maxLength:12})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[S.jsxs("button",{onClick:yt,disabled:nt,className:"bg-gradient-to-br from-cyan-600 to-blue-700 hover:from-cyan-500 hover:to-blue-600 p-4 rounded-xl font-bold flex flex-col items-center justify-center gap-1 transition-all active:scale-95 shadow-lg shadow-cyan-900/50",children:[S.jsx(Hl,{size:24}),S.jsx("span",{children:"New Voyage"})]}),S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsx("input",{className:"bg-black/50 border border-slate-700 focus:border-cyan-500 p-2 rounded-xl text-white text-center uppercase font-mono font-bold tracking-widest outline-none h-12",placeholder:"CODE",value:d,onChange:W=>y(W.target.value.toUpperCase()),maxLength:5}),S.jsx("button",{onClick:Ht,disabled:nt,className:"bg-slate-800 hover:bg-slate-700 p-2 rounded-xl font-bold text-slate-300 transition-all active:scale-95 h-full",children:"Join Fleet"})]})]})]}),S.jsxs("button",{onClick:()=>Kt(!0),className:"w-full mt-4 text-slate-400 hover:text-cyan-400 text-sm font-bold flex items-center justify-center gap-2 transition-colors py-2",children:[S.jsx(tm,{size:16})," How to Play"]})]}),S.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Sea, Salt and Paper. A tribute game.",S.jsx("br",{}),"Developed by ",S.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",S.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-500 underline hover:text-cyan-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&E){const W=E.hostId===r.uid,Y=E.players.findIndex(pt=>pt.id===r.uid),Q=E.players[Y],tt=E.turnIndex===Y,vt=_i(Q.hand,Q.tableau),Ct=no(E.players.length);return Q.score+vt>=Ct&&vt>=kl&&E.status,vt>=kl&&tt&&E.turnState==="ACTION_PHASE"&&E.status,S.jsxs("div",{className:"min-h-screen bg-slate-900 text-white flex flex-col items-center justify-center p-6 relative",children:[S.jsx(im,{}),Qt&&S.jsx(sm,{onClose:()=>Kt(!1),winPoints:no(E.players.length)}),S.jsxs("div",{className:"z-10 w-full max-w-lg bg-slate-900/90 backdrop-blur p-8 rounded-2xl border border-cyan-500/30 shadow-2xl animate-in slide-in-from-bottom-8",children:[S.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-slate-700 pb-4",children:[S.jsxs("div",{className:"flex flex-col",children:[S.jsx("span",{className:"text-xs text-cyan-500 uppercase font-bold tracking-wider",children:"Voyage Code"}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("h2",{className:"text-4xl font-black text-white font-mono tracking-widest",children:E.roomId}),S.jsx("button",{onClick:St,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:S.jsx(rC,{size:16})})]})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:()=>Kt(!0),className:"p-3 bg-slate-800 hover:bg-slate-700 rounded-xl text-cyan-400 transition-colors",title:"How to Play",children:S.jsx(tm,{size:20})}),S.jsx("button",{onClick:at,className:"p-3 bg-red-900/30 hover:bg-red-900/50 rounded-xl text-red-400 transition-colors",children:S.jsx(xv,{size:20})})]})]}),S.jsxs("div",{className:"space-y-3 mb-8",children:[S.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:["Crew Manifest (",E.players.length,"/4)"]}),E.players.map(pt=>S.jsxs("div",{className:"flex justify-between items-center bg-slate-800 p-4 rounded-xl border border-slate-700",children:[S.jsxs("span",{className:"font-bold flex items-center gap-3 text-lg",children:[S.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center text-xs font-black",children:pt.name.charAt(0)}),pt.name,pt.id===E.hostId&&S.jsx(em,{size:16,className:"text-yellow-500"})]}),S.jsx("div",{className:"flex items-center gap-2",children:W&&pt.id!==r.uid&&S.jsx("button",{onClick:()=>O(pt.id),className:"p-1.5 hover:bg-red-900/50 rounded text-slate-500 hover:text-red-400 transition-colors",title:"Kick Player",children:S.jsx(kC,{size:16})})})]},pt.id)),Array.from({length:4-E.players.length}).map((pt,lt)=>S.jsx("div",{className:"border-2 border-dashed border-slate-800 rounded-xl p-4 flex items-center justify-center text-slate-700 font-bold uppercase text-sm",children:"Empty Slot"},lt))]}),W?S.jsx("button",{onClick:()=>X(!1),disabled:E.players.length<2,className:"w-full bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 py-4 rounded-xl font-bold text-xl disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-emerald-900/50 transition-all active:scale-95 flex items-center justify-center gap-2",children:E.players.length<2?"Waiting for Crew...":S.jsxs(S.Fragment,{children:[S.jsx(Rv,{size:24,fill:"currentColor"})," Set Sail"]})}):S.jsx("div",{className:"w-full py-4 rounded-xl bg-slate-800 border border-slate-700 text-slate-400 text-center font-bold",children:"Waiting for Captain..."})]}),S.jsx(Iv,{})]})}if(i==="game"&&E){const W=E.players.findIndex(lt=>lt.id===r.uid),Y=E.players[W],Q=E.turnIndex===W,tt=_i(Y.hand,Y.tableau),vt=no(E.players.length),de=Y.score+tt>=vt&&tt>=kl&&E.status!=="last_chance",pt=tt>=kl&&Q&&E.turnState==="ACTION_PHASE"&&E.status!=="last_chance";return S.jsxs("div",{className:"fixed inset-0 bg-slate-950 text-white overflow-hidden flex flex-col font-sans select-none",children:[S.jsx(im,{}),Qt&&S.jsx(sm,{onClose:()=>Kt(!1),winPoints:no(E.players.length)}),V&&S.jsx(HC,{type:V.type,message:V.message,subtext:V.subtext,icon:V.icon}),S.jsxs("div",{className:"h-14 bg-slate-900/80 border-b border-slate-800 flex items-center justify-between px-4 z-[160] backdrop-blur-md shrink-0",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-8 h-8 bg-cyan-900/50 rounded flex items-center justify-center",children:S.jsx(WE,{size:18,className:"text-cyan-500"})}),S.jsxs("div",{className:"flex flex-col",children:[S.jsxs("span",{className:"font-bold tracking-wider text-cyan-100 text-sm leading-none",children:["ROOM: ",E.roomId]}),S.jsxs("span",{className:"text-[10px] text-cyan-500 font-mono",children:["ROUND ",E.round]})]})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:()=>Kt(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400 hover:text-cyan-400 transition-colors",title:"How to Play",children:S.jsx(tm,{size:18})}),S.jsx("button",{onClick:()=>mt(!gt),className:`p-2 rounded transition-colors ${gt?"bg-cyan-900 text-cyan-400":"hover:bg-slate-800 text-slate-400"}`,children:S.jsx(pC,{size:18})}),S.jsx("button",{onClick:()=>C(!0),className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:S.jsx(xv,{size:18})})]})]}),gt&&S.jsxs("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-[155] overflow-y-auto p-2 shadow-2xl",children:[S.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 sticky top-0 bg-slate-900/95 py-2",children:"Captain's Log"}),S.jsx("div",{className:"space-y-2",children:E.logs.slice().reverse().map(lt=>S.jsx("div",{className:`text-xs p-2 rounded border-l-2 ${lt.type==="success"?"border-emerald-500 bg-emerald-900/10":lt.type==="failure"?"border-red-500 bg-red-900/10":lt.type==="warning"?"border-amber-500 bg-amber-900/10":"border-slate-500 bg-slate-800/30"}`,children:lt.text},lt.id))})]}),S.jsxs("div",{className:"flex-1 flex flex-col relative z-10 overflow-hidden h-full",children:[S.jsx("div",{className:"flex-none max-h-[33vh] overflow-y-auto custom-scrollbar p-2 border-b border-white/5 bg-slate-900/20",children:S.jsx("div",{className:"grid grid-cols-3 gap-2 items-start",children:E.players.map((lt,qt)=>{if(lt.id===r.uid)return null;const Xe=E.turnIndex===qt;return S.jsxs("div",{className:`relative p-2 rounded-xl transition-all duration-500 flex flex-col gap-2 ${Xe?"bg-slate-800 border-2 border-cyan-500 shadow-[0_0_15px_rgba(6,182,212,0.3)] z-10":"bg-slate-900/50 border border-slate-800 opacity-80"}`,children:[Xe&&S.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-cyan-500 text-black text-[9px] font-black px-2 py-0.5 rounded-full uppercase tracking-widest z-20 whitespace-nowrap shadow-lg shadow-cyan-500/50",children:"Active"}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center font-bold text-xs border border-slate-600 shrink-0",children:lt.name.charAt(0)}),S.jsx("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:S.jsxs("div",{className:"flex justify-between items-center w-full",children:[S.jsx("div",{className:"text-xs font-bold truncate pr-1",children:lt.name}),S.jsxs("div",{className:"text-[10px] text-yellow-500 font-bold shrink-0 bg-yellow-900/20 px-1 rounded",children:[lt.score,"pts"]})]})})]}),S.jsx("div",{className:"flex flex-wrap gap-0.5 min-h-[16px]",children:lt.hand.length>0?Array.from({length:lt.hand.length}).map((Fe,$e)=>S.jsx("div",{className:"w-4 h-5 rounded-sm bg-slate-700 border border-slate-600 flex items-center justify-center shadow-sm",title:"Card in hand",children:S.jsx(Dm,{size:8,className:"text-slate-500"})},$e)):S.jsx("span",{className:"text-[9px] text-slate-600 italic",children:"Empty Hand"})}),S.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[lt.tableau.map((Fe,$e)=>S.jsx(vi,{cardType:Fe.type,tiny:!0},$e)),lt.tableau.length===0&&S.jsx("span",{className:"text-[9px] text-slate-600 italic",children:"No cards played"})]}),he&&lt.hand.length>0&&S.jsxs("button",{onClick:()=>Cs(lt.id),className:"absolute inset-0 bg-red-500/50 rounded-xl z-30 flex flex-col items-center justify-center animate-in zoom-in cursor-pointer hover:bg-red-600/90 transition-colors backdrop-blur-sm",children:[S.jsx(Jc,{size:24,className:"text-white mb-1"}),S.jsx("span",{className:"font-black text-white text-sm uppercase tracking-widest drop-shadow-md",children:"STEAL"})]})]},lt.id)})})}),S.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center relative min-h-0 overflow-y-auto py-2",children:[Q&&E.turnState==="DRAW_DECISION"?S.jsxs("div",{className:"flex flex-col items-center gap-4 animate-in zoom-in duration-300",children:[S.jsx("h3",{className:"text-lg font-bold text-white bg-black/50 px-4 py-1 rounded-full backdrop-blur",children:"Choose 1 to Keep"}),S.jsx("div",{className:"flex gap-4",children:E.tempDraw.map((lt,qt)=>S.jsx("button",{onClick:()=>kt(qt),className:"transition-transform hover:scale-105 active:scale-95 focus:outline-none",title:"Click to keep this card",children:S.jsx(vi,{cardType:lt.type,highlight:!0})},qt))})]}):S.jsxs("div",{className:"flex gap-4 md:gap-8 items-center",children:[S.jsxs("div",{onClick:()=>Q&&E.turnState==="DRAW"?It():null,className:`
                  w-20 h-28 sm:w-24 sm:h-36 md:w-28 md:h-44 bg-slate-800 rounded-xl border-2 border-slate-600 flex flex-col items-center justify-center relative shadow-xl transition-all
                  ${Q&&E.turnState==="DRAW"?"cursor-pointer hover:-translate-y-2 hover:border-cyan-400 hover:shadow-cyan-500/20 ring-4 ring-cyan-500/20":"opacity-80"}
                `,children:[S.jsx("div",{className:"absolute inset-2 border-2 border-dashed border-slate-700/50 rounded flex items-center justify-center",children:S.jsx(Hl,{className:"text-slate-700",size:32})}),S.jsxs("div",{className:"z-10 bg-slate-900 px-2 py-1 rounded text-xs font-bold text-slate-400 shadow",children:[E.deck.length," Left"]}),Q&&E.turnState==="DRAW"&&S.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 bg-cyan-600 text-white text-[10px] font-bold px-2 py-1 rounded whitespace-nowrap animate-bounce",children:"DRAW 2"})]}),S.jsx("div",{onClick:()=>Q&&E.turnState==="DRAW"&&E.discardPile.length>0?Ie():null,className:`
                  w-20 h-28 sm:w-24 sm:h-36 md:w-28 md:h-44 bg-black/20 rounded-xl border-2 border-dashed border-slate-700 flex items-center justify-center relative
                  ${Q&&E.turnState==="DRAW"&&E.discardPile.length>0?"cursor-pointer hover:border-cyan-400 hover:bg-slate-800/50":""}
                `,children:E.discardPile.length>0?S.jsxs("div",{className:"relative w-full h-full transform rotate-3",children:[S.jsx(vi,{cardType:E.discardPile[E.discardPile.length-1].type,disabled:!Q||E.turnState!=="DRAW"}),Q&&E.turnState==="DRAW"&&S.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 bg-cyan-600 text-white text-[10px] font-bold px-2 py-1 rounded whitespace-nowrap animate-bounce",children:"TAKE 1"})]}):S.jsx("span",{className:"text-xs text-slate-600 font-bold uppercase tracking-widest",children:"Empty"})})]}),S.jsx("div",{className:"absolute top-0 w-full text-center pointer-events-none p-2",children:!Q&&E.status==="playing"&&S.jsxs("div",{className:"inline-block bg-slate-900/80 px-4 py-1 rounded-full text-slate-400 text-sm border border-slate-700 backdrop-blur-sm",children:["Waiting for ",E.players[E.turnIndex].name,"..."]})})]}),S.jsxs("div",{className:"flex-none bg-slate-900 border-t border-slate-800 p-3 pb-safe relative z-20 shadow-[0_-5px_20px_rgba(0,0,0,0.5)]",children:[S.jsxs("div",{className:"flex flex-wrap justify-between items-end mb-3 gap-2",children:[S.jsxs("div",{className:"flex gap-4 items-center",children:[S.jsxs("div",{className:"flex flex-col",children:[S.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider text-yellow-500/80",children:"Total Score"}),S.jsx("span",{className:"text-2xl font-black text-yellow-500 leading-none",children:Y.score})]}),S.jsx("div",{className:"w-px bg-slate-700 h-8"}),S.jsxs("div",{className:"flex flex-col",children:[S.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider",children:"Round Est."}),S.jsx("span",{className:"text-2xl font-black text-white leading-none",children:tt})]})]}),S.jsxs("div",{className:"flex gap-2 items-center flex-wrap justify-end ml-auto",children:[A.length===2&&Q&&E.turnState==="ACTION_PHASE"&&S.jsxs("button",{onClick:fe,className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-6 py-2 rounded-lg font-bold shadow-lg animate-in slide-in-from-bottom-2 hover:scale-105 transition-all flex items-center gap-2",children:[S.jsx(_h,{size:16})," Play Pair"]}),Q&&de&&E.turnState==="ACTION_PHASE"&&S.jsxs("div",{className:"flex items-center gap-2 bg-yellow-500/20 border border-yellow-500/50 px-3 py-1 rounded text-yellow-200 text-xs font-bold animate-pulse",children:[S.jsx(Nl,{size:14}),S.jsx("span",{children:"Winning Score Reached! You must end the round."})]}),Q&&E.turnState==="ACTION_PHASE"&&!de&&S.jsxs("button",{onClick:Ns,className:"bg-slate-700 hover:bg-slate-600 text-white px-6 py-2 rounded-lg font-bold shadow-lg flex items-center gap-2 transition-colors animate-bounce",children:["End Turn ",S.jsx(bC,{size:16})]}),pt&&S.jsxs("div",{className:"flex gap-2 ml-4 pl-4 border-l border-slate-700",children:[S.jsx("button",{onClick:Ds,className:"bg-slate-100 hover:bg-white text-slate-900 px-4 py-2 rounded-lg font-black shadow-lg hover:shadow-white/20 transition-all active:scale-95",children:"STOP"}),S.jsx("button",{onClick:qn,className:"bg-gradient-to-r from-amber-500 to-orange-600 hover:brightness-110 text-white px-4 py-2 rounded-lg font-black shadow-lg animate-pulse transition-all active:scale-95 border-2 border-white/20",children:"LAST CHANCE"})]})]})]}),S.jsxs("div",{className:"flex gap-4 h-auto min-h-[140px] items-stretch",children:[S.jsxs("div",{className:"w-24 flex-none flex flex-col gap-1 border-r border-slate-800 pr-2",children:[S.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold text-center flex-none",children:"Tableau"}),S.jsxs("div",{className:"flex-1 overflow-y-auto space-y-1 custom-scrollbar max-h-[180px]",children:[Y.tableau.map((lt,qt)=>S.jsx("div",{className:`${qt>0?"-mt-12":""} transition-all hover:translate-x-2`,children:S.jsx(vi,{cardType:lt.type,mini:!0})},qt)),Y.tableau.length===0&&S.jsx("div",{className:"h-full flex items-center justify-center text-[10px] text-slate-700 text-center",children:"No Pairs"})]})]}),S.jsxs("div",{className:"flex-1 overflow-x-auto pb-4 pt-8 flex items-center gap-2 px-2 custom-scrollbar",children:[Y.hand.map((lt,qt)=>{const Xe=A.includes(qt);return S.jsx("div",{className:`transition-all duration-200 transform origin-bottom ${Xe?"-translate-y-6 scale-105 z-10":"hover:-translate-y-2 hover:z-10"}`,children:S.jsx(vi,{cardType:lt.type,highlight:Xe,onClick:()=>{E.turnState!=="ACTION_PHASE"&&E.turnState!=="DRAW_DECISION"||(A.includes(qt)?R(A.filter(Fe=>Fe!==qt)):A.length<2&&R([...A,qt]))}})},qt)}),Y.hand.length===0&&S.jsx("div",{className:"w-full text-center text-slate-600 font-bold italic",children:"Hand Empty"})]})]})]})]}),L&&S.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in",children:S.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-3xl p-6 shadow-2xl",children:[S.jsxs("h3",{className:"text-2xl font-black text-white mb-6 flex items-center gap-3",children:[S.jsx(Om,{className:"text-red-400"})," Salvage from Discard"]}),S.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 md:grid-cols-6 gap-3 max-h-[60vh] overflow-y-auto p-2 bg-black/20 rounded-xl mb-4",children:E.discardPile.map((lt,qt)=>S.jsx(vi,{cardType:lt.type,onClick:()=>Zi(lt),small:!0},qt))}),S.jsx("button",{onClick:()=>x(!1),className:"w-full bg-slate-800 hover:bg-slate-700 py-4 rounded-xl text-slate-300 font-bold transition-colors",children:"Cancel"})]})}),(E.status==="finished"||E.status==="round_end")&&S.jsx("div",{className:"fixed inset-0 top-14 bg-slate-950/95 backdrop-blur-xl z-[150] flex flex-col items-center p-4 animate-in fade-in duration-500 overflow-hidden",children:S.jsxs("div",{className:"w-full max-w-lg h-full max-h-full flex flex-col relative",children:[S.jsxs("div",{className:"flex-none flex flex-col items-center justify-center pt-8 pb-4 shrink-0",children:[E.status==="finished"?S.jsx(Mm,{size:64,className:"text-yellow-400 mb-4 animate-bounce"}):S.jsx(GC,{status:E.status}),S.jsx("h2",{className:"text-3xl md:text-5xl font-black text-white uppercase tracking-widest drop-shadow-xl text-center leading-none",children:E.status==="finished"?"LEGEND OF THE SEA":"ROUND COMPLETE"})]}),S.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-slate-900/50 rounded-2xl border border-white/10 p-4 mb-4 shadow-inner",children:S.jsx("div",{className:"space-y-4",children:[...E.players].sort((lt,qt)=>qt.score-lt.score).map((lt,qt)=>{const Fe=(()=>{const $e=E.players,cn=E.bettingPlayerId,Gn=Wt=>{const Os=[...Wt.hand,...Wt.tableau],Ji=Os.filter(ai=>ai.type==="MERMAID").length,Ms={};Os.forEach(ai=>{const Ee=_s[ai.type],yn=Ee?Ee.cardColor:null;yn&&yn!=="MULTI"&&(Ms[yn]=(Ms[yn]||0)+1)});const On=Math.max(0,...Object.values(Ms));return Ji>0?Ji*On:On};if(!cn)return _i(lt.hand,lt.tableau);const Or=$e.find(Wt=>Wt.id===cn),Tn=_i(Or.hand,Or.tableau,!1);let Me=!0;$e.forEach(Wt=>{Wt.id!==cn&&_i(Wt.hand,Wt.tableau,!1)>=Tn&&(Me=!1)});const gn=lt.id===cn;return Me?gn?Tn+5:Gn(lt):gn?Gn(lt):_i(lt.hand,lt.tableau,!1)})();return S.jsxs("div",{className:"border-b border-slate-700 pb-4 last:border-0 flex flex-col gap-2",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsxs("span",{className:"font-mono text-slate-500 font-bold w-6",children:["#",qt+1]}),S.jsx("span",{className:"font-bold text-lg",children:lt.name}),E.status==="finished"&&qt===0&&S.jsx(em,{size:16,className:"text-yellow-500"})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[lt.ready?S.jsxs("span",{className:"text-emerald-400 text-[10px] font-bold uppercase bg-emerald-900/30 px-2 py-1 rounded flex items-center gap-1",children:[S.jsx(Bc,{size:10})," Ready"]}):S.jsx("span",{className:"text-slate-500 text-[10px] font-bold uppercase bg-slate-900/30 px-2 py-1 rounded",children:"Not Ready"}),S.jsxs("div",{className:"flex items-baseline gap-2",children:[Fe>0&&S.jsxs("span",{className:"text-sm font-bold text-emerald-400 animate-pulse",children:["+",Fe]}),S.jsx("span",{className:"text-2xl font-black text-cyan-400",children:lt.score})]})]})]}),S.jsxs("div",{className:"bg-black/40 rounded-lg p-2 flex flex-col gap-2",children:[S.jsxs("div",{className:"flex items-start gap-2",children:[S.jsx("span",{className:"text-[9px] font-bold text-slate-500 uppercase w-12 shrink-0 pt-1",children:"Played"}),S.jsx("div",{className:"flex flex-wrap gap-1",children:lt.tableau.length>0?lt.tableau.map(($e,cn)=>S.jsx(vi,{cardType:$e.type,tiny:!0},`tab-${cn}`)):S.jsx("span",{className:"text-[9px] text-slate-600 italic pt-1",children:"None"})})]}),S.jsxs("div",{className:"flex items-start gap-2 border-t border-white/5 pt-2",children:[S.jsx("span",{className:"text-[9px] font-bold text-slate-500 uppercase w-12 shrink-0 pt-1",children:"Hand"}),S.jsx("div",{className:"flex flex-wrap gap-1",children:lt.hand.length>0?lt.hand.map(($e,cn)=>S.jsx(vi,{cardType:$e.type,tiny:!0},`hand-${cn}`)):S.jsx("span",{className:"text-[9px] text-slate-600 italic pt-1",children:"None"})})]})]})]},lt.id)})})}),S.jsx("div",{className:"flex-none flex flex-col gap-3 pb-8",children:E.hostId===r.uid?S.jsxs("div",{className:"flex flex-col gap-3",children:[S.jsxs("button",{onClick:()=>X(E.status==="round_end"),disabled:!E.players.every(lt=>lt.ready),className:"bg-white hover:bg-cyan-50 text-cyan-900 px-10 py-4 rounded-full font-black text-xl shadow-xl hover:scale-105 transition-all flex items-center gap-2 justify-center disabled:opacity-50 disabled:grayscale disabled:scale-100 disabled:cursor-not-allowed",children:[E.players.every(lt=>lt.ready)?E.status==="finished"?"NEW GAME":"NEXT ROUND":"WAITING FOR READY...",S.jsx(Rv,{fill:"currentColor",size:20})]}),S.jsx("button",{onClick:ut,className:"text-slate-400 hover:text-white text-sm font-bold uppercase tracking-widest hover:underline text-center",children:"Return to Lobby"})]}):S.jsxs("div",{className:"flex flex-col items-center gap-2",children:[S.jsx("button",{onClick:$t,className:`w-full py-4 rounded-full font-bold text-lg shadow-lg transition-all active:scale-95 flex items-center justify-center gap-2 ${E.players.find(lt=>lt.id===r.uid)?.ready?"bg-slate-700 text-emerald-400 hover:bg-slate-600":"bg-emerald-600 hover:bg-emerald-500 text-white"}`,children:E.players.find(lt=>lt.id===r.uid)?.ready?"READY! (Wait for Captain)":"MARK READY"}),S.jsx("div",{className:"text-slate-400 text-xs font-bold animate-pulse mt-2",children:E.status==="finished"?"Waiting for host...":"Waiting for next round..."})]})})]})}),Bt&&S.jsx("div",{className:"fixed inset-0 z-[200] bg-black/80 flex items-center justify-center p-4",children:S.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-xl max-w-xs w-full text-center",children:[S.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Abandon Ship?"}),S.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:"You will leave the current game."}),S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:()=>C(!1),className:"flex-1 bg-slate-800 py-2 rounded font-bold text-slate-300",children:"Cancel"}),S.jsx("button",{onClick:at,className:"flex-1 bg-red-600 py-2 rounded font-bold text-white",children:"Leave"})]}),E.hostId===r.uid&&S.jsx("button",{onClick:ut,className:"w-full bg-slate-700 hover:bg-slate-600 py-2 rounded font-bold text-cyan-400 mt-2 text-sm",children:"Return All to Lobby"})]})]})}),S.jsx(Iv,{})]})}return null}const GC=({status:r})=>S.jsx(Hl,{size:64,className:"text-cyan-500 mb-6"});Hb.createRoot(document.getElementById("root")).render(S.jsx(se.StrictMode,{children:S.jsx(qC,{})}));
